(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function yN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fb={exports:{}},Hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function rB(){if(OC)return Hh;OC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Hh.Fragment=e,Hh.jsx=t,Hh.jsxs=t,Hh}var NC;function iB(){return NC||(NC=1,fb.exports=rB()),fb.exports}var R=iB(),hb={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC;function sB(){if(MC)return nt;MC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function w(H,ne,fe){this.props=H,this.context=ne,this.refs=T,this.updater=fe||_}w.prototype.isReactComponent={},w.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},w.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function O(){}O.prototype=w.prototype;function M(H,ne,fe){this.props=H,this.context=ne,this.refs=T,this.updater=fe||_}var j=M.prototype=new O;j.constructor=M,A(j,w.prototype),j.isPureReactComponent=!0;var q=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function L(H,ne,fe,ce,we,Re){return fe=Re.ref,{$$typeof:n,type:H,key:ne,ref:fe!==void 0?fe:null,props:Re}}function S(H,ne){return L(H.type,ne,void 0,void 0,void 0,H.props)}function C(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function B(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(fe){return ne[fe]})}var P=/\/+/g;function N(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):ne.toString(36)}function k(){}function J(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(k,k):(H.status="pending",H.then(function(ne){H.status==="pending"&&(H.status="fulfilled",H.value=ne)},function(ne){H.status==="pending"&&(H.status="rejected",H.reason=ne)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function F(H,ne,fe,ce,we){var Re=typeof H;(Re==="undefined"||Re==="boolean")&&(H=null);var Pe=!1;if(H===null)Pe=!0;else switch(Re){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(H.$$typeof){case n:case e:Pe=!0;break;case p:return Pe=H._init,F(Pe(H._payload),ne,fe,ce,we)}}if(Pe)return we=we(H),Pe=ce===""?"."+N(H,0):ce,q(we)?(fe="",Pe!=null&&(fe=Pe.replace(P,"$&/")+"/"),F(we,ne,fe,"",function(Yt){return Yt})):we!=null&&(C(we)&&(we=S(we,fe+(we.key==null||H&&H.key===we.key?"":(""+we.key).replace(P,"$&/")+"/")+Pe)),ne.push(we)),1;Pe=0;var zt=ce===""?".":ce+":";if(q(H))for(var vt=0;vt<H.length;vt++)ce=H[vt],Re=zt+N(ce,vt),Pe+=F(ce,ne,fe,Re,we);else if(vt=v(H),typeof vt=="function")for(H=vt.call(H),vt=0;!(ce=H.next()).done;)ce=ce.value,Re=zt+N(ce,vt++),Pe+=F(ce,ne,fe,Re,we);else if(Re==="object"){if(typeof H.then=="function")return F(J(H),ne,fe,ce,we);throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function $(H,ne,fe){if(H==null)return H;var ce=[],we=0;return F(H,ce,"","",function(Re){return ne.call(fe,Re,we++)}),ce}function G(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(fe){(H._status===0||H._status===-1)&&(H._status=1,H._result=fe)},function(fe){(H._status===0||H._status===-1)&&(H._status=2,H._result=fe)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var Z=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function _e(){}return nt.Children={map:$,forEach:function(H,ne,fe){$(H,function(){ne.apply(this,arguments)},fe)},count:function(H){var ne=0;return $(H,function(){ne++}),ne},toArray:function(H){return $(H,function(ne){return ne})||[]},only:function(H){if(!C(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},nt.Component=w,nt.Fragment=t,nt.Profiler=i,nt.PureComponent=M,nt.StrictMode=r,nt.Suspense=c,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,nt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return U.H.useMemoCache(H)}},nt.cache=function(H){return function(){return H.apply(null,arguments)}},nt.cloneElement=function(H,ne,fe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ce=A({},H.props),we=H.key,Re=void 0;if(ne!=null)for(Pe in ne.ref!==void 0&&(Re=void 0),ne.key!==void 0&&(we=""+ne.key),ne)!D.call(ne,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&ne.ref===void 0||(ce[Pe]=ne[Pe]);var Pe=arguments.length-2;if(Pe===1)ce.children=fe;else if(1<Pe){for(var zt=Array(Pe),vt=0;vt<Pe;vt++)zt[vt]=arguments[vt+2];ce.children=zt}return L(H.type,we,void 0,void 0,Re,ce)},nt.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},nt.createElement=function(H,ne,fe){var ce,we={},Re=null;if(ne!=null)for(ce in ne.key!==void 0&&(Re=""+ne.key),ne)D.call(ne,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(we[ce]=ne[ce]);var Pe=arguments.length-2;if(Pe===1)we.children=fe;else if(1<Pe){for(var zt=Array(Pe),vt=0;vt<Pe;vt++)zt[vt]=arguments[vt+2];we.children=zt}if(H&&H.defaultProps)for(ce in Pe=H.defaultProps,Pe)we[ce]===void 0&&(we[ce]=Pe[ce]);return L(H,Re,void 0,void 0,null,we)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(H){return{$$typeof:u,render:H}},nt.isValidElement=C,nt.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:G}},nt.memo=function(H,ne){return{$$typeof:h,type:H,compare:ne===void 0?null:ne}},nt.startTransition=function(H){var ne=U.T,fe={};U.T=fe;try{var ce=H(),we=U.S;we!==null&&we(fe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(_e,Z)}catch(Re){Z(Re)}finally{U.T=ne}},nt.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},nt.use=function(H){return U.H.use(H)},nt.useActionState=function(H,ne,fe){return U.H.useActionState(H,ne,fe)},nt.useCallback=function(H,ne){return U.H.useCallback(H,ne)},nt.useContext=function(H){return U.H.useContext(H)},nt.useDebugValue=function(){},nt.useDeferredValue=function(H,ne){return U.H.useDeferredValue(H,ne)},nt.useEffect=function(H,ne,fe){var ce=U.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(H,ne)},nt.useId=function(){return U.H.useId()},nt.useImperativeHandle=function(H,ne,fe){return U.H.useImperativeHandle(H,ne,fe)},nt.useInsertionEffect=function(H,ne){return U.H.useInsertionEffect(H,ne)},nt.useLayoutEffect=function(H,ne){return U.H.useLayoutEffect(H,ne)},nt.useMemo=function(H,ne){return U.H.useMemo(H,ne)},nt.useOptimistic=function(H,ne){return U.H.useOptimistic(H,ne)},nt.useReducer=function(H,ne,fe){return U.H.useReducer(H,ne,fe)},nt.useRef=function(H){return U.H.useRef(H)},nt.useState=function(H){return U.H.useState(H)},nt.useSyncExternalStore=function(H,ne,fe){return U.H.useSyncExternalStore(H,ne,fe)},nt.useTransition=function(){return U.H.useTransition()},nt.version="19.1.0",nt}var DC;function Rl(){return DC||(DC=1,hb.exports=sB()),hb.exports}var W=Rl();const wr=yN(W);var db={exports:{}},qh={},pb={exports:{}},mb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC;function oB(){return PC||(PC=1,function(n){function e($,G){var Z=$.length;$.push(G);e:for(;0<Z;){var _e=Z-1>>>1,H=$[_e];if(0<i(H,G))$[_e]=G,$[Z]=H,Z=_e;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],Z=$.pop();if(Z!==G){$[0]=Z;e:for(var _e=0,H=$.length,ne=H>>>1;_e<ne;){var fe=2*(_e+1)-1,ce=$[fe],we=fe+1,Re=$[we];if(0>i(ce,Z))we<H&&0>i(Re,ce)?($[_e]=Re,$[we]=Z,_e=we):($[_e]=ce,$[fe]=Z,_e=fe);else if(we<H&&0>i(Re,Z))$[_e]=Re,$[we]=Z,_e=we;else break e}}return G}function i($,G){var Z=$.sortIndex-G.sortIndex;return Z!==0?Z:$.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var c=[],h=[],p=1,m=null,v=3,_=!1,A=!1,T=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function q($){for(var G=t(h);G!==null;){if(G.callback===null)r(h);else if(G.startTime<=$)r(h),G.sortIndex=G.expirationTime,e(c,G);else break;G=t(h)}}function U($){if(T=!1,q($),!A)if(t(c)!==null)A=!0,D||(D=!0,N());else{var G=t(h);G!==null&&F(U,G.startTime-$)}}var D=!1,L=-1,S=5,C=-1;function B(){return w?!0:!(n.unstable_now()-C<S)}function P(){if(w=!1,D){var $=n.unstable_now();C=$;var G=!0;try{e:{A=!1,T&&(T=!1,M(L),L=-1),_=!0;var Z=v;try{t:{for(q($),m=t(c);m!==null&&!(m.expirationTime>$&&B());){var _e=m.callback;if(typeof _e=="function"){m.callback=null,v=m.priorityLevel;var H=_e(m.expirationTime<=$);if($=n.unstable_now(),typeof H=="function"){m.callback=H,q($),G=!0;break t}m===t(c)&&r(c),q($)}else r(c);m=t(c)}if(m!==null)G=!0;else{var ne=t(h);ne!==null&&F(U,ne.startTime-$),G=!1}}break e}finally{m=null,v=Z,_=!1}G=void 0}}finally{G?N():D=!1}}}var N;if(typeof j=="function")N=function(){j(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,J=k.port2;k.port1.onmessage=P,N=function(){J.postMessage(null)}}else N=function(){O(P,0)};function F($,G){L=O(function(){$(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var Z=v;v=G;try{return $()}finally{v=Z}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=v;v=$;try{return G()}finally{v=Z}},n.unstable_scheduleCallback=function($,G,Z){var _e=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?_e+Z:_e):Z=_e,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Z+H,$={id:p++,callback:G,priorityLevel:$,startTime:Z,expirationTime:H,sortIndex:-1},Z>_e?($.sortIndex=Z,e(h,$),t(c)===null&&$===t(h)&&(T?(M(L),L=-1):T=!0,F(U,Z-_e))):($.sortIndex=H,e(c,$),A||_||(A=!0,D||(D=!0,N()))),$},n.unstable_shouldYield=B,n.unstable_wrapCallback=function($){var G=v;return function(){var Z=v;v=G;try{return $.apply(this,arguments)}finally{v=Z}}}}(mb)),mb}var LC;function aB(){return LC||(LC=1,pb.exports=oB()),pb.exports}var gb={exports:{}},br={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC;function lB(){if(VC)return br;VC=1;var n=Rl();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:h,implementation:p}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,br.createPortal=function(c,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(c,h,null,p)},br.flushSync=function(c){var h=a.T,p=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=h,r.p=p,r.d.f()}},br.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(c,h))},br.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},br.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):p==="script"&&r.d.X(c,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},br.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(c)},br.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin);r.d.L(c,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},br.preloadModule=function(c,h){if(typeof c=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(c)},br.requestFormReset=function(c){r.d.r(c)},br.unstable_batchedUpdates=function(c,h){return c(h)},br.useFormState=function(c,h,p){return a.H.useFormState(c,h,p)},br.useFormStatus=function(){return a.H.useHostTransitionStatus()},br.version="19.1.0",br}var UC;function vN(){if(UC)return gb.exports;UC=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gb.exports=lB(),gb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC;function uB(){if(zC)return qh;zC=1;var n=aB(),e=Rl(),t=vN();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function c(o){var l=o.alternate;if(!l){if(l=s(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,d=l;;){var y=f.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){f=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===f)return u(y),o;if(b===d)return u(y),l;b=b.sibling}throw Error(r(188))}if(f.return!==d.return)f=y,d=b;else{for(var I=!1,V=y.child;V;){if(V===f){I=!0,f=y,d=b;break}if(V===d){I=!0,d=y,f=b;break}V=V.sibling}if(!I){for(V=b.child;V;){if(V===f){I=!0,f=b,d=y;break}if(V===d){I=!0,d=b,f=y;break}V=V.sibling}if(!I)throw Error(r(189))}}if(f.alternate!==d)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),j=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function N(o){return o===null||typeof o!="object"?null:(o=P&&o[P]||o["@@iterator"],typeof o=="function"?o:null)}var k=Symbol.for("react.client.reference");function J(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===k?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case w:return"Profiler";case T:return"StrictMode";case U:return"Suspense";case D:return"SuspenseList";case C:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case j:return(o.displayName||"Context")+".Provider";case M:return(o._context.displayName||"Context")+".Consumer";case q:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case L:return l=o.displayName||null,l!==null?l:J(o.type)||"Memo";case S:l=o._payload,o=o._init;try{return J(o(l))}catch{}}return null}var F=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},_e=[],H=-1;function ne(o){return{current:o}}function fe(o){0>H||(o.current=_e[H],_e[H]=null,H--)}function ce(o,l){H++,_e[H]=o.current,o.current=l}var we=ne(null),Re=ne(null),Pe=ne(null),zt=ne(null);function vt(o,l){switch(ce(Pe,l),ce(Re,o),ce(we,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?sC(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=sC(l),o=oC(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}fe(we),ce(we,o)}function Yt(){fe(we),fe(Re),fe(Pe)}function Ot(o){o.memoizedState!==null&&ce(zt,o);var l=we.current,f=oC(l,o.type);l!==f&&(ce(Re,o),ce(we,f))}function Dn(o){Re.current===o&&(fe(we),fe(Re)),zt.current===o&&(fe(zt),Uh._currentValue=Z)}var er=Object.prototype.hasOwnProperty,pi=n.unstable_scheduleCallback,Jt=n.unstable_cancelCallback,vs=n.unstable_shouldYield,Ds=n.unstable_requestPaint,ln=n.unstable_now,Ps=n.unstable_getCurrentPriorityLevel,Bi=n.unstable_ImmediatePriority,_s=n.unstable_UserBlockingPriority,ji=n.unstable_NormalPriority,mi=n.unstable_LowPriority,gr=n.unstable_IdlePriority,Wr=n.log,Mr=n.unstable_setDisableYieldValue,ut=null,et=null;function Pn(o){if(typeof Wr=="function"&&Mr(o),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(ut,o)}catch{}}var Zt=Math.clz32?Math.clz32:Pr,Ls=Math.log,Dr=Math.LN2;function Pr(o){return o>>>=0,o===0?32:31-(Ls(o)/Dr|0)|0}var Lr=256,Tn=4194304;function En(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function gi(o,l,f){var d=o.pendingLanes;if(d===0)return 0;var y=0,b=o.suspendedLanes,I=o.pingedLanes;o=o.warmLanes;var V=d&134217727;return V!==0?(d=V&~b,d!==0?y=En(d):(I&=V,I!==0?y=En(I):f||(f=V&~o,f!==0&&(y=En(f))))):(V=d&~b,V!==0?y=En(V):I!==0?y=En(I):f||(f=d&~o,f!==0&&(y=En(f)))),y===0?0:l!==0&&l!==y&&(l&b)===0&&(b=y&-y,f=l&-l,b>=f||b===32&&(f&4194048)!==0)?l:y}function yr(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Vs(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(){var o=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),o}function Fi(){var o=Tn;return Tn<<=1,(Tn&62914560)===0&&(Tn=4194304),o}function Yr(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function tr(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Us(o,l,f,d,y,b){var I=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var V=o.entanglements,K=o.expirationTimes,oe=o.hiddenUpdates;for(f=I&~f;0<f;){var he=31-Zt(f),me=1<<he;V[he]=0,K[he]=-1;var ae=oe[he];if(ae!==null)for(oe[he]=null,he=0;he<ae.length;he++){var le=ae[he];le!==null&&(le.lane&=-536870913)}f&=~me}d!==0&&nr(o,d,0),b!==0&&y===0&&o.tag!==0&&(o.suspendedLanes|=b&~(I&~l))}function nr(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var d=31-Zt(l);o.entangledLanes|=l,o.entanglements[d]=o.entanglements[d]|1073741824|f&4194090}function Nt(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var d=31-Zt(f),y=1<<d;y&l|o[d]&l&&(o[d]|=l),f&=~y}}function rr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function zs(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Y(){var o=G.p;return o!==0?o:(o=window.event,o===void 0?32:SC(o.type))}function te(o,l){var f=G.p;try{return G.p=o,l()}finally{G.p=f}}var ie=Math.random().toString(36).slice(2),pe="__reactFiber$"+ie,Ae="__reactProps$"+ie,Ce="__reactContainer$"+ie,Be="__reactEvents$"+ie,Oe="__reactListeners$"+ie,De="__reactHandles$"+ie,ze="__reactResources$"+ie,Fe="__reactMarker$"+ie;function Ie(o){delete o[pe],delete o[Ae],delete o[Be],delete o[Oe],delete o[De]}function qe(o){var l=o[pe];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Ce]||f[pe]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=cC(o);o!==null;){if(f=o[pe])return f;o=cC(o)}return l}o=f,f=o.parentNode}return null}function it(o){if(o=o[pe]||o[Ce]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function St(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function _t(o){var l=o[ze];return l||(l=o[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ht(o){o[Fe]=!0}var Te=new Set,Q={};function ve(o,l){xe(o,l),xe(o+"Capture",l)}function xe(o,l){for(Q[o]=l,o=0;o<l.length;o++)Te.add(l[o])}var tt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bt={},Ct={};function en(o){return er.call(Ct,o)?!0:er.call(Bt,o)?!1:tt.test(o)?Ct[o]=!0:(Bt[o]=!0,!1)}function jt(o,l,f){if(en(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function gn(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function Ue(o,l,f,d){if(d===null)o.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+d)}}var tn,vr;function Qr(o){if(tn===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);tn=l&&l[1]||"",vr=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tn+o+vr}var Bs=!1;function Ft(o,l){if(!o||Bs)return"";Bs=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(le){var ae=le}Reflect.construct(o,[],me)}else{try{me.call()}catch(le){ae=le}o.call(me.prototype)}}else{try{throw Error()}catch(le){ae=le}(me=o())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),I=b[0],V=b[1];if(I&&V){var K=I.split(`
`),oe=V.split(`
`);for(y=d=0;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;for(;y<oe.length&&!oe[y].includes("DetermineComponentFrameRoot");)y++;if(d===K.length||y===oe.length)for(d=K.length-1,y=oe.length-1;1<=d&&0<=y&&K[d]!==oe[y];)y--;for(;1<=d&&0<=y;d--,y--)if(K[d]!==oe[y]){if(d!==1||y!==1)do if(d--,y--,0>y||K[d]!==oe[y]){var he=`
`+K[d].replace(" at new "," at ");return o.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",o.displayName)),he}while(1<=d&&0<=y);break}}}finally{Bs=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Qr(f):""}function Hi(o){switch(o.tag){case 26:case 27:case 5:return Qr(o.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 15:return Ft(o.type,!1);case 11:return Ft(o.type.render,!1);case 1:return Ft(o.type,!0);case 31:return Qr("Activity");default:return""}}function Ao(o){try{var l="";do l+=Hi(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ir(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Gf(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function m_(o){var l=Gf(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),d=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(I){d=""+I,b.call(this,I)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ic(o){o._valueTracker||(o._valueTracker=m_(o))}function Wf(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),d="";return o&&(d=Gf(o)?o.checked?"true":"false":o.value),o=d,o!==f?(l.setValue(o),!0):!1}function Ll(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var g_=/[\n"\\]/g;function wn(o){return o.replace(g_,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function yi(o,l,f,d,y,b,I,V){o.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.type=I:o.removeAttribute("type"),l!=null?I==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+ir(l)):o.value!==""+ir(l)&&(o.value=""+ir(l)):I!=="submit"&&I!=="reset"||o.removeAttribute("value"),l!=null?ha(o,I,ir(l)):f!=null?ha(o,I,ir(f)):d!=null&&o.removeAttribute("value"),y==null&&b!=null&&(o.defaultChecked=!!b),y!=null&&(o.checked=y&&typeof y!="function"&&typeof y!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?o.name=""+ir(V):o.removeAttribute("name")}function Vl(o,l,f,d,y,b,I,V){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(o.type=b),l!=null||f!=null){if(!(b!=="submit"&&b!=="reset"||l!=null))return;f=f!=null?""+ir(f):"",l=l!=null?""+ir(l):f,V||l===o.value||(o.value=l),o.defaultValue=l}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,o.checked=V?o.checked:!!d,o.defaultChecked=!!d,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.name=I)}function ha(o,l,f){l==="number"&&Ll(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function To(o,l,f,d){if(o=o.options,l){l={};for(var y=0;y<f.length;y++)l["$"+f[y]]=!0;for(f=0;f<o.length;f++)y=l.hasOwnProperty("$"+o[f].value),o[f].selected!==y&&(o[f].selected=y),y&&d&&(o[f].defaultSelected=!0)}else{for(f=""+ir(f),l=null,y=0;y<o.length;y++){if(o[y].value===f){o[y].selected=!0,d&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function Pt(o,l,f){if(l!=null&&(l=""+ir(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+ir(f):""}function Ul(o,l,f,d){if(l==null){if(d!=null){if(f!=null)throw Error(r(92));if(F(d)){if(1<d.length)throw Error(r(93));d=d[0]}f=d}f==null&&(f=""),l=f}f=ir(l),o.defaultValue=f,d=o.textContent,d===f&&d!==""&&d!==null&&(o.value=d)}function qi(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var zl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bp(o,l,f){var d=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?d?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":d?o.setProperty(l,f):typeof f!="number"||f===0||zl.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function Kf(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var d in f)!f.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="");for(var y in l)d=l[y],l.hasOwnProperty(y)&&f[y]!==d&&Bp(o,y,d)}else for(var b in l)l.hasOwnProperty(b)&&Bp(o,b,l[b])}function Yf(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),v_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sc(o){return v_.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Eo=null;function $i(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var wo=null,So=null;function Qf(o){var l=it(o);if(l&&(o=l.stateNode)){var f=o[Ae]||null;e:switch(o=l.stateNode,l.type){case"input":if(yi(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+wn(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var d=f[l];if(d!==o&&d.form===o.form){var y=d[Ae]||null;if(!y)throw Error(r(90));yi(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<f.length;l++)d=f[l],d.form===o.form&&Wf(d)}break e;case"textarea":Pt(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&To(o,!!f.multiple,l,!1)}}}var js=!1;function jp(o,l,f){if(js)return o(l,f);js=!0;try{var d=o(l);return d}finally{if(js=!1,(wo!==null||So!==null)&&(Dm(),wo&&(l=wo,o=So,So=wo=null,Qf(l),o)))for(l=0;l<o.length;l++)Qf(o[l])}}function Bl(o,l){var f=o.stateNode;if(f===null)return null;var d=f[Ae]||null;if(d===null)return null;f=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gi=!1;if(bs)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{Gi=!1}var Fs=null,da=null,Ro=null;function Xf(){if(Ro)return Ro;var o,l=da,f=l.length,d,y="value"in Fs?Fs.value:Fs.textContent,b=y.length;for(o=0;o<f&&l[o]===y[o];o++);var I=f-o;for(d=1;d<=I&&l[f-d]===y[b-d];d++);return Ro=y.slice(o,1<d?1-d:void 0)}function Hs(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function qs(){return!0}function Jf(){return!1}function jn(o){function l(f,d,y,b,I){this._reactName=f,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=I,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(f=o[V],this[V]=f?f(b):b[V]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?qs:Jf,this.isPropagationStopped=Jf,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),l}var It={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=jn(It),Fl=p({},It,{view:0,detail:0}),Fp=jn(Fl),ac,lc,$s,Hl=p({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gl,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==$s&&($s&&o.type==="mousemove"?(ac=o.screenX-$s.screenX,lc=o.screenY-$s.screenY):lc=ac=0,$s=o),ac)},movementY:function(o){return"movementY"in o?o.movementY:lc}}),Wi=jn(Hl),Hp=p({},Hl,{dataTransfer:0}),__=jn(Hp),ql=p({},Fl,{relatedTarget:0}),uc=jn(ql),Zf=p({},It,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=jn(Zf),qp=p({},It,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),fc=jn(qp),b_=p({},It,{data:0}),eh=jn(b_),$l={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function th(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Gp[o])?!!l[o]:!1}function Gl(){return th}var Wp=p({},Fl,{key:function(o){if(o.key){var l=$l[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Hs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?$p[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gl,charCode:function(o){return o.type==="keypress"?Hs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Hs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),hc=jn(Wp),Kp=p({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nh=jn(Kp),Co=p({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gl}),Yp=jn(Co),Qp=p({},It,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xp=jn(Qp),Jp=p({},Hl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),dc=jn(Jp),Vr=p({},It,{newState:0,oldState:0}),Zp=jn(Vr),em=[9,13,27,32],Gs=bs&&"CompositionEvent"in window,g=null;bs&&"documentMode"in document&&(g=document.documentMode);var E=bs&&"TextEvent"in window&&!g,x=bs&&(!Gs||g&&8<g&&11>=g),z=" ",re=!1;function ue(o,l){switch(o){case"keyup":return em.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Se(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var At=!1;function Ln(o,l){switch(o){case"compositionend":return Se(l);case"keypress":return l.which!==32?null:(re=!0,z);case"textInput":return o=l.data,o===z&&re?null:o;default:return null}}function Tt(o,l){if(At)return o==="compositionend"||!Gs&&ue(o,l)?(o=Xf(),Ro=da=Fs=null,At=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return x&&l.locale!=="ko"?null:l.data;default:return null}}var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Fn[o.type]:l==="textarea"}function xo(o,l,f,d){wo?So?So.push(d):So=[d]:wo=d,l=Bm(l,"onChange"),0<l.length&&(f=new oc("onChange","change",null,f,d),o.push({event:f,listeners:l}))}var sr=null,Ws=null;function rh(o){eC(o,0)}function tm(o){var l=St(o);if(Wf(l))return o}function AS(o,l){if(o==="change")return l}var TS=!1;if(bs){var A_;if(bs){var T_="oninput"in document;if(!T_){var ES=document.createElement("div");ES.setAttribute("oninput","return;"),T_=typeof ES.oninput=="function"}A_=T_}else A_=!1;TS=A_&&(!document.documentMode||9<document.documentMode)}function wS(){sr&&(sr.detachEvent("onpropertychange",SS),Ws=sr=null)}function SS(o){if(o.propertyName==="value"&&tm(Ws)){var l=[];xo(l,Ws,o,$i(o)),jp(rh,l)}}function MU(o,l,f){o==="focusin"?(wS(),sr=l,Ws=f,sr.attachEvent("onpropertychange",SS)):o==="focusout"&&wS()}function DU(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return tm(Ws)}function PU(o,l){if(o==="click")return tm(l)}function LU(o,l){if(o==="input"||o==="change")return tm(l)}function VU(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var vi=typeof Object.is=="function"?Object.is:VU;function ih(o,l){if(vi(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),d=Object.keys(l);if(f.length!==d.length)return!1;for(d=0;d<f.length;d++){var y=f[d];if(!er.call(l,y)||!vi(o[y],l[y]))return!1}return!0}function RS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function CS(o,l){var f=RS(o);o=0;for(var d;f;){if(f.nodeType===3){if(d=o+f.textContent.length,o<=l&&d>=l)return{node:f,offset:l-o};o=d}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=RS(f)}}function xS(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?xS(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function IS(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Ll(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Ll(o.document)}return l}function E_(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var UU=bs&&"documentMode"in document&&11>=document.documentMode,pc=null,w_=null,sh=null,S_=!1;function kS(o,l,f){var d=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;S_||pc==null||pc!==Ll(d)||(d=pc,"selectionStart"in d&&E_(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),sh&&ih(sh,d)||(sh=d,d=Bm(w_,"onSelect"),0<d.length&&(l=new oc("onSelect","select",null,l,f),o.push({event:l,listeners:d}),l.target=pc)))}function Wl(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var mc={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionrun:Wl("Transition","TransitionRun"),transitionstart:Wl("Transition","TransitionStart"),transitioncancel:Wl("Transition","TransitionCancel"),transitionend:Wl("Transition","TransitionEnd")},R_={},OS={};bs&&(OS=document.createElement("div").style,"AnimationEvent"in window||(delete mc.animationend.animation,delete mc.animationiteration.animation,delete mc.animationstart.animation),"TransitionEvent"in window||delete mc.transitionend.transition);function Kl(o){if(R_[o])return R_[o];if(!mc[o])return o;var l=mc[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in OS)return R_[o]=l[f];return o}var NS=Kl("animationend"),MS=Kl("animationiteration"),DS=Kl("animationstart"),zU=Kl("transitionrun"),BU=Kl("transitionstart"),jU=Kl("transitioncancel"),PS=Kl("transitionend"),LS=new Map,C_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");C_.push("scrollEnd");function As(o,l){LS.set(o,l),ve(l,[o])}var VS=new WeakMap;function Ki(o,l){if(typeof o=="object"&&o!==null){var f=VS.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Ao(l)},VS.set(o,l),l)}return{value:o,source:l,stack:Ao(l)}}var Yi=[],gc=0,x_=0;function nm(){for(var o=gc,l=x_=gc=0;l<o;){var f=Yi[l];Yi[l++]=null;var d=Yi[l];Yi[l++]=null;var y=Yi[l];Yi[l++]=null;var b=Yi[l];if(Yi[l++]=null,d!==null&&y!==null){var I=d.pending;I===null?y.next=y:(y.next=I.next,I.next=y),d.pending=y}b!==0&&US(f,y,b)}}function rm(o,l,f,d){Yi[gc++]=o,Yi[gc++]=l,Yi[gc++]=f,Yi[gc++]=d,x_|=d,o.lanes|=d,o=o.alternate,o!==null&&(o.lanes|=d)}function I_(o,l,f,d){return rm(o,l,f,d),im(o)}function yc(o,l){return rm(o,null,null,l),im(o)}function US(o,l,f){o.lanes|=f;var d=o.alternate;d!==null&&(d.lanes|=f);for(var y=!1,b=o.return;b!==null;)b.childLanes|=f,d=b.alternate,d!==null&&(d.childLanes|=f),b.tag===22&&(o=b.stateNode,o===null||o._visibility&1||(y=!0)),o=b,b=b.return;return o.tag===3?(b=o.stateNode,y&&l!==null&&(y=31-Zt(f),o=b.hiddenUpdates,d=o[y],d===null?o[y]=[l]:d.push(l),l.lane=f|536870912),b):null}function im(o){if(50<kh)throw kh=0,P0=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var vc={};function FU(o,l,f,d){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(o,l,f,d){return new FU(o,l,f,d)}function k_(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Io(o,l){var f=o.alternate;return f===null?(f=_i(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function zS(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function sm(o,l,f,d,y,b){var I=0;if(d=o,typeof o=="function")k_(o)&&(I=1);else if(typeof o=="string")I=qz(o,f,we.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case C:return o=_i(31,f,l,y),o.elementType=C,o.lanes=b,o;case A:return Yl(f.children,y,b,l);case T:I=8,y|=24;break;case w:return o=_i(12,f,l,y|2),o.elementType=w,o.lanes=b,o;case U:return o=_i(13,f,l,y),o.elementType=U,o.lanes=b,o;case D:return o=_i(19,f,l,y),o.elementType=D,o.lanes=b,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:case j:I=10;break e;case M:I=9;break e;case q:I=11;break e;case L:I=14;break e;case S:I=16,d=null;break e}I=29,f=Error(r(130,o===null?"null":typeof o,"")),d=null}return l=_i(I,f,l,y),l.elementType=o,l.type=d,l.lanes=b,l}function Yl(o,l,f,d){return o=_i(7,o,d,l),o.lanes=f,o}function O_(o,l,f){return o=_i(6,o,null,l),o.lanes=f,o}function N_(o,l,f){return l=_i(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var _c=[],bc=0,om=null,am=0,Qi=[],Xi=0,Ql=null,ko=1,Oo="";function Xl(o,l){_c[bc++]=am,_c[bc++]=om,om=o,am=l}function BS(o,l,f){Qi[Xi++]=ko,Qi[Xi++]=Oo,Qi[Xi++]=Ql,Ql=o;var d=ko;o=Oo;var y=32-Zt(d)-1;d&=~(1<<y),f+=1;var b=32-Zt(l)+y;if(30<b){var I=y-y%5;b=(d&(1<<I)-1).toString(32),d>>=I,y-=I,ko=1<<32-Zt(l)+y|f<<y|d,Oo=b+o}else ko=1<<b|f<<y|d,Oo=o}function M_(o){o.return!==null&&(Xl(o,1),BS(o,1,0))}function D_(o){for(;o===om;)om=_c[--bc],_c[bc]=null,am=_c[--bc],_c[bc]=null;for(;o===Ql;)Ql=Qi[--Xi],Qi[Xi]=null,Oo=Qi[--Xi],Qi[Xi]=null,ko=Qi[--Xi],Qi[Xi]=null}var Ur=null,un=null,xt=!1,Jl=null,Ks=!1,P_=Error(r(519));function Zl(o){var l=Error(r(418,""));throw lh(Ki(l,o)),P_}function jS(o){var l=o.stateNode,f=o.type,d=o.memoizedProps;switch(l[pe]=o,l[Ae]=d,f){case"dialog":pt("cancel",l),pt("close",l);break;case"iframe":case"object":case"embed":pt("load",l);break;case"video":case"audio":for(f=0;f<Nh.length;f++)pt(Nh[f],l);break;case"source":pt("error",l);break;case"img":case"image":case"link":pt("error",l),pt("load",l);break;case"details":pt("toggle",l);break;case"input":pt("invalid",l),Vl(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ic(l);break;case"select":pt("invalid",l);break;case"textarea":pt("invalid",l),Ul(l,d.value,d.defaultValue,d.children),ic(l)}f=d.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||d.suppressHydrationWarning===!0||iC(l.textContent,f)?(d.popover!=null&&(pt("beforetoggle",l),pt("toggle",l)),d.onScroll!=null&&pt("scroll",l),d.onScrollEnd!=null&&pt("scrollend",l),d.onClick!=null&&(l.onclick=jm),l=!0):l=!1,l||Zl(o)}function FS(o){for(Ur=o.return;Ur;)switch(Ur.tag){case 5:case 13:Ks=!1;return;case 27:case 3:Ks=!0;return;default:Ur=Ur.return}}function oh(o){if(o!==Ur)return!1;if(!xt)return FS(o),xt=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||X0(o.type,o.memoizedProps)),f=!f),f&&un&&Zl(o),FS(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){un=Es(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}un=null}}else l===27?(l=un,Ia(o.type)?(o=tb,tb=null,un=o):un=l):un=Ur?Es(o.stateNode.nextSibling):null;return!0}function ah(){un=Ur=null,xt=!1}function HS(){var o=Jl;return o!==null&&(Zr===null?Zr=o:Zr.push.apply(Zr,o),Jl=null),o}function lh(o){Jl===null?Jl=[o]:Jl.push(o)}var L_=ne(null),eu=null,No=null;function pa(o,l,f){ce(L_,l._currentValue),l._currentValue=f}function Mo(o){o._currentValue=L_.current,fe(L_)}function V_(o,l,f){for(;o!==null;){var d=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),o===f)break;o=o.return}}function U_(o,l,f,d){var y=o.child;for(y!==null&&(y.return=o);y!==null;){var b=y.dependencies;if(b!==null){var I=y.child;b=b.firstContext;e:for(;b!==null;){var V=b;b=y;for(var K=0;K<l.length;K++)if(V.context===l[K]){b.lanes|=f,V=b.alternate,V!==null&&(V.lanes|=f),V_(b.return,f,o),d||(I=null);break e}b=V.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(r(341));I.lanes|=f,b=I.alternate,b!==null&&(b.lanes|=f),V_(I,f,o),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===o){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function uh(o,l,f,d){o=null;for(var y=l,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var V=y.type;vi(y.pendingProps.value,I.value)||(o!==null?o.push(V):o=[V])}}else if(y===zt.current){if(I=y.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(o!==null?o.push(Uh):o=[Uh])}y=y.return}o!==null&&U_(l,o,f,d),l.flags|=262144}function lm(o){for(o=o.firstContext;o!==null;){if(!vi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function tu(o){eu=o,No=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function _r(o){return qS(eu,o)}function um(o,l){return eu===null&&tu(o),qS(o,l)}function qS(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},No===null){if(o===null)throw Error(r(308));No=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else No=No.next=l;return f}var HU=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,d){o.push(d)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},qU=n.unstable_scheduleCallback,$U=n.unstable_NormalPriority,Un={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function z_(){return{controller:new HU,data:new Map,refCount:0}}function ch(o){o.refCount--,o.refCount===0&&qU($U,function(){o.controller.abort()})}var fh=null,B_=0,Ac=0,Tc=null;function GU(o,l){if(fh===null){var f=fh=[];B_=0,Ac=F0(),Tc={status:"pending",value:void 0,then:function(d){f.push(d)}}}return B_++,l.then($S,$S),l}function $S(){if(--B_===0&&fh!==null){Tc!==null&&(Tc.status="fulfilled");var o=fh;fh=null,Ac=0,Tc=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function WU(o,l){var f=[],d={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return o.then(function(){d.status="fulfilled",d.value=l;for(var y=0;y<f.length;y++)(0,f[y])(l)},function(y){for(d.status="rejected",d.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),d}var GS=$.S;$.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&GU(o,l),GS!==null&&GS(o,l)};var nu=ne(null);function j_(){var o=nu.current;return o!==null?o:Gt.pooledCache}function cm(o,l){l===null?ce(nu,nu.current):ce(nu,l.pool)}function WS(){var o=j_();return o===null?null:{parent:Un._currentValue,pool:o}}var hh=Error(r(460)),KS=Error(r(474)),fm=Error(r(542)),F_={then:function(){}};function YS(o){return o=o.status,o==="fulfilled"||o==="rejected"}function hm(){}function QS(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(hm,hm),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,JS(o),o;default:if(typeof l.status=="string")l.then(hm,hm);else{if(o=Gt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(d){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=d}},function(d){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,JS(o),o}throw dh=l,hh}}var dh=null;function XS(){if(dh===null)throw Error(r(459));var o=dh;return dh=null,o}function JS(o){if(o===hh||o===fm)throw Error(r(483))}var ma=!1;function H_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function q_(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ga(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ya(o,l,f){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(Mt&2)!==0){var y=d.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),d.pending=l,l=im(o),US(o,null,f),l}return rm(o,d,l,f),im(o)}function ph(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,Nt(o,f)}}function $_(o,l){var f=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,f===d)){var y=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var I={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};b===null?y=b=I:b=b.next=I,f=f.next}while(f!==null);b===null?y=b=l:b=b.next=l}else y=b=l;f={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var G_=!1;function mh(){if(G_){var o=Tc;if(o!==null)throw o}}function gh(o,l,f,d){G_=!1;var y=o.updateQueue;ma=!1;var b=y.firstBaseUpdate,I=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var K=V,oe=K.next;K.next=null,I===null?b=oe:I.next=oe,I=K;var he=o.alternate;he!==null&&(he=he.updateQueue,V=he.lastBaseUpdate,V!==I&&(V===null?he.firstBaseUpdate=oe:V.next=oe,he.lastBaseUpdate=K))}if(b!==null){var me=y.baseState;I=0,he=oe=K=null,V=b;do{var ae=V.lane&-536870913,le=ae!==V.lane;if(le?(Et&ae)===ae:(d&ae)===ae){ae!==0&&ae===Ac&&(G_=!0),he!==null&&(he=he.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Qe=o,Ge=V;ae=l;var Ut=f;switch(Ge.tag){case 1:if(Qe=Ge.payload,typeof Qe=="function"){me=Qe.call(Ut,me,ae);break e}me=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Ge.payload,ae=typeof Qe=="function"?Qe.call(Ut,me,ae):Qe,ae==null)break e;me=p({},me,ae);break e;case 2:ma=!0}}ae=V.callback,ae!==null&&(o.flags|=64,le&&(o.flags|=8192),le=y.callbacks,le===null?y.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:V.tag,payload:V.payload,callback:V.callback,next:null},he===null?(oe=he=le,K=me):he=he.next=le,I|=ae;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;le=V,V=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);he===null&&(K=me),y.baseState=K,y.firstBaseUpdate=oe,y.lastBaseUpdate=he,b===null&&(y.shared.lanes=0),Sa|=I,o.lanes=I,o.memoizedState=me}}function ZS(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function e1(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)ZS(f[o],l)}var Ec=ne(null),dm=ne(0);function t1(o,l){o=Bo,ce(dm,o),ce(Ec,l),Bo=o|l.baseLanes}function W_(){ce(dm,Bo),ce(Ec,Ec.current)}function K_(){Bo=dm.current,fe(Ec),fe(dm)}var va=0,ot=null,Lt=null,Sn=null,pm=!1,wc=!1,ru=!1,mm=0,yh=0,Sc=null,KU=0;function yn(){throw Error(r(321))}function Y_(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!vi(o[f],l[f]))return!1;return!0}function Q_(o,l,f,d,y,b){return va=b,ot=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=o===null||o.memoizedState===null?U1:z1,ru=!1,b=f(d,y),ru=!1,wc&&(b=r1(l,f,d,y)),n1(o),b}function n1(o){$.H=Am;var l=Lt!==null&&Lt.next!==null;if(va=0,Sn=Lt=ot=null,pm=!1,yh=0,Sc=null,l)throw Error(r(300));o===null||Hn||(o=o.dependencies,o!==null&&lm(o)&&(Hn=!0))}function r1(o,l,f,d){ot=o;var y=0;do{if(wc&&(Sc=null),yh=0,wc=!1,25<=y)throw Error(r(301));if(y+=1,Sn=Lt=null,o.updateQueue!=null){var b=o.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}$.H=tz,b=l(f,d)}while(wc);return b}function YU(){var o=$.H,l=o.useState()[0];return l=typeof l.then=="function"?vh(l):l,o=o.useState()[0],(Lt!==null?Lt.memoizedState:null)!==o&&(ot.flags|=1024),l}function X_(){var o=mm!==0;return mm=0,o}function J_(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function Z_(o){if(pm){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}pm=!1}va=0,Sn=Lt=ot=null,wc=!1,yh=mm=0,Sc=null}function Xr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?ot.memoizedState=Sn=o:Sn=Sn.next=o,Sn}function Rn(){if(Lt===null){var o=ot.alternate;o=o!==null?o.memoizedState:null}else o=Lt.next;var l=Sn===null?ot.memoizedState:Sn.next;if(l!==null)Sn=l,Lt=o;else{if(o===null)throw ot.alternate===null?Error(r(467)):Error(r(310));Lt=o,o={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Sn===null?ot.memoizedState=Sn=o:Sn=Sn.next=o}return Sn}function e0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vh(o){var l=yh;return yh+=1,Sc===null&&(Sc=[]),o=QS(Sc,o,l),l=ot,(Sn===null?l.memoizedState:Sn.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?U1:z1),o}function gm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return vh(o);if(o.$$typeof===j)return _r(o)}throw Error(r(438,String(o)))}function t0(o){var l=null,f=ot.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var d=ot.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=e0(),ot.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),d=0;d<o;d++)f[d]=B;return l.index++,f}function Do(o,l){return typeof l=="function"?l(o):l}function ym(o){var l=Rn();return n0(l,Lt,o)}function n0(o,l,f){var d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=f;var y=o.baseQueue,b=d.pending;if(b!==null){if(y!==null){var I=y.next;y.next=b.next,b.next=I}l.baseQueue=y=b,d.pending=null}if(b=o.baseState,y===null)o.memoizedState=b;else{l=y.next;var V=I=null,K=null,oe=l,he=!1;do{var me=oe.lane&-536870913;if(me!==oe.lane?(Et&me)===me:(va&me)===me){var ae=oe.revertLane;if(ae===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),me===Ac&&(he=!0);else if((va&ae)===ae){oe=oe.next,ae===Ac&&(he=!0);continue}else me={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(V=K=me,I=b):K=K.next=me,ot.lanes|=ae,Sa|=ae;me=oe.action,ru&&f(b,me),b=oe.hasEagerState?oe.eagerState:f(b,me)}else ae={lane:me,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(V=K=ae,I=b):K=K.next=ae,ot.lanes|=me,Sa|=me;oe=oe.next}while(oe!==null&&oe!==l);if(K===null?I=b:K.next=V,!vi(b,o.memoizedState)&&(Hn=!0,he&&(f=Tc,f!==null)))throw f;o.memoizedState=b,o.baseState=I,o.baseQueue=K,d.lastRenderedState=b}return y===null&&(d.lanes=0),[o.memoizedState,d.dispatch]}function r0(o){var l=Rn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var d=f.dispatch,y=f.pending,b=l.memoizedState;if(y!==null){f.pending=null;var I=y=y.next;do b=o(b,I.action),I=I.next;while(I!==y);vi(b,l.memoizedState)||(Hn=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),f.lastRenderedState=b}return[b,d]}function i1(o,l,f){var d=ot,y=Rn(),b=xt;if(b){if(f===void 0)throw Error(r(407));f=f()}else f=l();var I=!vi((Lt||y).memoizedState,f);I&&(y.memoizedState=f,Hn=!0),y=y.queue;var V=a1.bind(null,d,y,o);if(_h(2048,8,V,[o]),y.getSnapshot!==l||I||Sn!==null&&Sn.memoizedState.tag&1){if(d.flags|=2048,Rc(9,vm(),o1.bind(null,d,y,f,l),null),Gt===null)throw Error(r(349));b||(va&124)!==0||s1(d,l,f)}return f}function s1(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=ot.updateQueue,l===null?(l=e0(),ot.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function o1(o,l,f,d){l.value=f,l.getSnapshot=d,l1(l)&&u1(o)}function a1(o,l,f){return f(function(){l1(l)&&u1(o)})}function l1(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!vi(o,f)}catch{return!0}}function u1(o){var l=yc(o,2);l!==null&&wi(l,o,2)}function i0(o){var l=Xr();if(typeof o=="function"){var f=o;if(o=f(),ru){Pn(!0);try{f()}finally{Pn(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:o},l}function c1(o,l,f,d){return o.baseState=f,n0(o,Lt,typeof d=="function"?d:Do)}function QU(o,l,f,d,y){if(bm(o))throw Error(r(485));if(o=l.action,o!==null){var b={payload:y,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){b.listeners.push(I)}};$.T!==null?f(!0):b.isTransition=!1,d(b),f=l.pending,f===null?(b.next=l.pending=b,f1(l,b)):(b.next=f.next,l.pending=f.next=b)}}function f1(o,l){var f=l.action,d=l.payload,y=o.state;if(l.isTransition){var b=$.T,I={};$.T=I;try{var V=f(y,d),K=$.S;K!==null&&K(I,V),h1(o,l,V)}catch(oe){s0(o,l,oe)}finally{$.T=b}}else try{b=f(y,d),h1(o,l,b)}catch(oe){s0(o,l,oe)}}function h1(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(d){d1(o,l,d)},function(d){return s0(o,l,d)}):d1(o,l,f)}function d1(o,l,f){l.status="fulfilled",l.value=f,p1(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,f1(o,f)))}function s0(o,l,f){var d=o.pending;if(o.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=f,p1(l),l=l.next;while(l!==d)}o.action=null}function p1(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function m1(o,l){return l}function g1(o,l){if(xt){var f=Gt.formState;if(f!==null){e:{var d=ot;if(xt){if(un){t:{for(var y=un,b=Ks;y.nodeType!==8;){if(!b){y=null;break t}if(y=Es(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){un=Es(y.nextSibling),d=y.data==="F!";break e}}Zl(d)}d=!1}d&&(l=f[0])}}return f=Xr(),f.memoizedState=f.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m1,lastRenderedState:l},f.queue=d,f=P1.bind(null,ot,d),d.dispatch=f,d=i0(!1),b=c0.bind(null,ot,!1,d.queue),d=Xr(),y={state:l,dispatch:null,action:o,pending:null},d.queue=y,f=QU.bind(null,ot,y,b,f),y.dispatch=f,d.memoizedState=o,[l,f,!1]}function y1(o){var l=Rn();return v1(l,Lt,o)}function v1(o,l,f){if(l=n0(o,l,m1)[0],o=ym(Do)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=vh(l)}catch(I){throw I===hh?fm:I}else d=l;l=Rn();var y=l.queue,b=y.dispatch;return f!==l.memoizedState&&(ot.flags|=2048,Rc(9,vm(),XU.bind(null,y,f),null)),[d,b,o]}function XU(o,l){o.action=l}function _1(o){var l=Rn(),f=Lt;if(f!==null)return v1(l,f,o);Rn(),l=l.memoizedState,f=Rn();var d=f.queue.dispatch;return f.memoizedState=o,[l,d,!1]}function Rc(o,l,f,d){return o={tag:o,create:f,deps:d,inst:l,next:null},l=ot.updateQueue,l===null&&(l=e0(),ot.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(d=f.next,f.next=o,o.next=d,l.lastEffect=o),o}function vm(){return{destroy:void 0,resource:void 0}}function b1(){return Rn().memoizedState}function _m(o,l,f,d){var y=Xr();d=d===void 0?null:d,ot.flags|=o,y.memoizedState=Rc(1|l,vm(),f,d)}function _h(o,l,f,d){var y=Rn();d=d===void 0?null:d;var b=y.memoizedState.inst;Lt!==null&&d!==null&&Y_(d,Lt.memoizedState.deps)?y.memoizedState=Rc(l,b,f,d):(ot.flags|=o,y.memoizedState=Rc(1|l,b,f,d))}function A1(o,l){_m(8390656,8,o,l)}function T1(o,l){_h(2048,8,o,l)}function E1(o,l){return _h(4,2,o,l)}function w1(o,l){return _h(4,4,o,l)}function S1(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function R1(o,l,f){f=f!=null?f.concat([o]):null,_h(4,4,S1.bind(null,l,o),f)}function o0(){}function C1(o,l){var f=Rn();l=l===void 0?null:l;var d=f.memoizedState;return l!==null&&Y_(l,d[1])?d[0]:(f.memoizedState=[o,l],o)}function x1(o,l){var f=Rn();l=l===void 0?null:l;var d=f.memoizedState;if(l!==null&&Y_(l,d[1]))return d[0];if(d=o(),ru){Pn(!0);try{o()}finally{Pn(!1)}}return f.memoizedState=[d,l],d}function a0(o,l,f){return f===void 0||(va&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=OR(),ot.lanes|=o,Sa|=o,f)}function I1(o,l,f,d){return vi(f,l)?f:Ec.current!==null?(o=a0(o,f,d),vi(o,l)||(Hn=!0),o):(va&42)===0?(Hn=!0,o.memoizedState=f):(o=OR(),ot.lanes|=o,Sa|=o,l)}function k1(o,l,f,d,y){var b=G.p;G.p=b!==0&&8>b?b:8;var I=$.T,V={};$.T=V,c0(o,!1,l,f);try{var K=y(),oe=$.S;if(oe!==null&&oe(V,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var he=WU(K,d);bh(o,l,he,Ei(o))}else bh(o,l,d,Ei(o))}catch(me){bh(o,l,{then:function(){},status:"rejected",reason:me},Ei())}finally{G.p=b,$.T=I}}function JU(){}function l0(o,l,f,d){if(o.tag!==5)throw Error(r(476));var y=O1(o).queue;k1(o,y,l,Z,f===null?JU:function(){return N1(o),f(d)})}function O1(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:Z},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function N1(o){var l=O1(o).next.queue;bh(o,l,{},Ei())}function u0(){return _r(Uh)}function M1(){return Rn().memoizedState}function D1(){return Rn().memoizedState}function ZU(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=Ei();o=ga(f);var d=ya(l,o,f);d!==null&&(wi(d,l,f),ph(d,l,f)),l={cache:z_()},o.payload=l;return}l=l.return}}function ez(o,l,f){var d=Ei();f={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},bm(o)?L1(l,f):(f=I_(o,l,f,d),f!==null&&(wi(f,o,d),V1(f,l,d)))}function P1(o,l,f){var d=Ei();bh(o,l,f,d)}function bh(o,l,f,d){var y={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(bm(o))L1(l,y);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var I=l.lastRenderedState,V=b(I,f);if(y.hasEagerState=!0,y.eagerState=V,vi(V,I))return rm(o,l,y,0),Gt===null&&nm(),!1}catch{}finally{}if(f=I_(o,l,y,d),f!==null)return wi(f,o,d),V1(f,l,d),!0}return!1}function c0(o,l,f,d){if(d={lane:2,revertLane:F0(),action:d,hasEagerState:!1,eagerState:null,next:null},bm(o)){if(l)throw Error(r(479))}else l=I_(o,f,d,2),l!==null&&wi(l,o,2)}function bm(o){var l=o.alternate;return o===ot||l!==null&&l===ot}function L1(o,l){wc=pm=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function V1(o,l,f){if((f&4194048)!==0){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,Nt(o,f)}}var Am={readContext:_r,use:gm,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn},U1={readContext:_r,use:gm,useCallback:function(o,l){return Xr().memoizedState=[o,l===void 0?null:l],o},useContext:_r,useEffect:A1,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,_m(4194308,4,S1.bind(null,l,o),f)},useLayoutEffect:function(o,l){return _m(4194308,4,o,l)},useInsertionEffect:function(o,l){_m(4,2,o,l)},useMemo:function(o,l){var f=Xr();l=l===void 0?null:l;var d=o();if(ru){Pn(!0);try{o()}finally{Pn(!1)}}return f.memoizedState=[d,l],d},useReducer:function(o,l,f){var d=Xr();if(f!==void 0){var y=f(l);if(ru){Pn(!0);try{f(l)}finally{Pn(!1)}}}else y=l;return d.memoizedState=d.baseState=y,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:y},d.queue=o,o=o.dispatch=ez.bind(null,ot,o),[d.memoizedState,o]},useRef:function(o){var l=Xr();return o={current:o},l.memoizedState=o},useState:function(o){o=i0(o);var l=o.queue,f=P1.bind(null,ot,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:o0,useDeferredValue:function(o,l){var f=Xr();return a0(f,o,l)},useTransition:function(){var o=i0(!1);return o=k1.bind(null,ot,o.queue,!0,!1),Xr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var d=ot,y=Xr();if(xt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Gt===null)throw Error(r(349));(Et&124)!==0||s1(d,l,f)}y.memoizedState=f;var b={value:f,getSnapshot:l};return y.queue=b,A1(a1.bind(null,d,b,o),[o]),d.flags|=2048,Rc(9,vm(),o1.bind(null,d,b,f,l),null),f},useId:function(){var o=Xr(),l=Gt.identifierPrefix;if(xt){var f=Oo,d=ko;f=(d&~(1<<32-Zt(d)-1)).toString(32)+f,l="«"+l+"R"+f,f=mm++,0<f&&(l+="H"+f.toString(32)),l+="»"}else f=KU++,l="«"+l+"r"+f.toString(32)+"»";return o.memoizedState=l},useHostTransitionStatus:u0,useFormState:g1,useActionState:g1,useOptimistic:function(o){var l=Xr();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=c0.bind(null,ot,!0,f),f.dispatch=l,[o,l]},useMemoCache:t0,useCacheRefresh:function(){return Xr().memoizedState=ZU.bind(null,ot)}},z1={readContext:_r,use:gm,useCallback:C1,useContext:_r,useEffect:T1,useImperativeHandle:R1,useInsertionEffect:E1,useLayoutEffect:w1,useMemo:x1,useReducer:ym,useRef:b1,useState:function(){return ym(Do)},useDebugValue:o0,useDeferredValue:function(o,l){var f=Rn();return I1(f,Lt.memoizedState,o,l)},useTransition:function(){var o=ym(Do)[0],l=Rn().memoizedState;return[typeof o=="boolean"?o:vh(o),l]},useSyncExternalStore:i1,useId:M1,useHostTransitionStatus:u0,useFormState:y1,useActionState:y1,useOptimistic:function(o,l){var f=Rn();return c1(f,Lt,o,l)},useMemoCache:t0,useCacheRefresh:D1},tz={readContext:_r,use:gm,useCallback:C1,useContext:_r,useEffect:T1,useImperativeHandle:R1,useInsertionEffect:E1,useLayoutEffect:w1,useMemo:x1,useReducer:r0,useRef:b1,useState:function(){return r0(Do)},useDebugValue:o0,useDeferredValue:function(o,l){var f=Rn();return Lt===null?a0(f,o,l):I1(f,Lt.memoizedState,o,l)},useTransition:function(){var o=r0(Do)[0],l=Rn().memoizedState;return[typeof o=="boolean"?o:vh(o),l]},useSyncExternalStore:i1,useId:M1,useHostTransitionStatus:u0,useFormState:_1,useActionState:_1,useOptimistic:function(o,l){var f=Rn();return Lt!==null?c1(f,Lt,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:t0,useCacheRefresh:D1},Cc=null,Ah=0;function Tm(o){var l=Ah;return Ah+=1,Cc===null&&(Cc=[]),QS(Cc,o,l)}function Th(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Em(o,l){throw l.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function B1(o){var l=o._init;return l(o._payload)}function j1(o){function l(ee,X){if(o){var se=ee.deletions;se===null?(ee.deletions=[X],ee.flags|=16):se.push(X)}}function f(ee,X){if(!o)return null;for(;X!==null;)l(ee,X),X=X.sibling;return null}function d(ee){for(var X=new Map;ee!==null;)ee.key!==null?X.set(ee.key,ee):X.set(ee.index,ee),ee=ee.sibling;return X}function y(ee,X){return ee=Io(ee,X),ee.index=0,ee.sibling=null,ee}function b(ee,X,se){return ee.index=se,o?(se=ee.alternate,se!==null?(se=se.index,se<X?(ee.flags|=67108866,X):se):(ee.flags|=67108866,X)):(ee.flags|=1048576,X)}function I(ee){return o&&ee.alternate===null&&(ee.flags|=67108866),ee}function V(ee,X,se,de){return X===null||X.tag!==6?(X=O_(se,ee.mode,de),X.return=ee,X):(X=y(X,se),X.return=ee,X)}function K(ee,X,se,de){var Le=se.type;return Le===A?he(ee,X,se.props.children,de,se.key):X!==null&&(X.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===S&&B1(Le)===X.type)?(X=y(X,se.props),Th(X,se),X.return=ee,X):(X=sm(se.type,se.key,se.props,null,ee.mode,de),Th(X,se),X.return=ee,X)}function oe(ee,X,se,de){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=N_(se,ee.mode,de),X.return=ee,X):(X=y(X,se.children||[]),X.return=ee,X)}function he(ee,X,se,de,Le){return X===null||X.tag!==7?(X=Yl(se,ee.mode,de,Le),X.return=ee,X):(X=y(X,se),X.return=ee,X)}function me(ee,X,se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=O_(""+X,ee.mode,se),X.return=ee,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return se=sm(X.type,X.key,X.props,null,ee.mode,se),Th(se,X),se.return=ee,se;case _:return X=N_(X,ee.mode,se),X.return=ee,X;case S:var de=X._init;return X=de(X._payload),me(ee,X,se)}if(F(X)||N(X))return X=Yl(X,ee.mode,se,null),X.return=ee,X;if(typeof X.then=="function")return me(ee,Tm(X),se);if(X.$$typeof===j)return me(ee,um(ee,X),se);Em(ee,X)}return null}function ae(ee,X,se,de){var Le=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Le!==null?null:V(ee,X,""+se,de);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return se.key===Le?K(ee,X,se,de):null;case _:return se.key===Le?oe(ee,X,se,de):null;case S:return Le=se._init,se=Le(se._payload),ae(ee,X,se,de)}if(F(se)||N(se))return Le!==null?null:he(ee,X,se,de,null);if(typeof se.then=="function")return ae(ee,X,Tm(se),de);if(se.$$typeof===j)return ae(ee,X,um(ee,se),de);Em(ee,se)}return null}function le(ee,X,se,de,Le){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return ee=ee.get(se)||null,V(X,ee,""+de,Le);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case v:return ee=ee.get(de.key===null?se:de.key)||null,K(X,ee,de,Le);case _:return ee=ee.get(de.key===null?se:de.key)||null,oe(X,ee,de,Le);case S:var ct=de._init;return de=ct(de._payload),le(ee,X,se,de,Le)}if(F(de)||N(de))return ee=ee.get(se)||null,he(X,ee,de,Le,null);if(typeof de.then=="function")return le(ee,X,se,Tm(de),Le);if(de.$$typeof===j)return le(ee,X,se,um(X,de),Le);Em(X,de)}return null}function Qe(ee,X,se,de){for(var Le=null,ct=null,je=X,We=X=0,$n=null;je!==null&&We<se.length;We++){je.index>We?($n=je,je=null):$n=je.sibling;var Rt=ae(ee,je,se[We],de);if(Rt===null){je===null&&(je=$n);break}o&&je&&Rt.alternate===null&&l(ee,je),X=b(Rt,X,We),ct===null?Le=Rt:ct.sibling=Rt,ct=Rt,je=$n}if(We===se.length)return f(ee,je),xt&&Xl(ee,We),Le;if(je===null){for(;We<se.length;We++)je=me(ee,se[We],de),je!==null&&(X=b(je,X,We),ct===null?Le=je:ct.sibling=je,ct=je);return xt&&Xl(ee,We),Le}for(je=d(je);We<se.length;We++)$n=le(je,ee,We,se[We],de),$n!==null&&(o&&$n.alternate!==null&&je.delete($n.key===null?We:$n.key),X=b($n,X,We),ct===null?Le=$n:ct.sibling=$n,ct=$n);return o&&je.forEach(function(Da){return l(ee,Da)}),xt&&Xl(ee,We),Le}function Ge(ee,X,se,de){if(se==null)throw Error(r(151));for(var Le=null,ct=null,je=X,We=X=0,$n=null,Rt=se.next();je!==null&&!Rt.done;We++,Rt=se.next()){je.index>We?($n=je,je=null):$n=je.sibling;var Da=ae(ee,je,Rt.value,de);if(Da===null){je===null&&(je=$n);break}o&&je&&Da.alternate===null&&l(ee,je),X=b(Da,X,We),ct===null?Le=Da:ct.sibling=Da,ct=Da,je=$n}if(Rt.done)return f(ee,je),xt&&Xl(ee,We),Le;if(je===null){for(;!Rt.done;We++,Rt=se.next())Rt=me(ee,Rt.value,de),Rt!==null&&(X=b(Rt,X,We),ct===null?Le=Rt:ct.sibling=Rt,ct=Rt);return xt&&Xl(ee,We),Le}for(je=d(je);!Rt.done;We++,Rt=se.next())Rt=le(je,ee,We,Rt.value,de),Rt!==null&&(o&&Rt.alternate!==null&&je.delete(Rt.key===null?We:Rt.key),X=b(Rt,X,We),ct===null?Le=Rt:ct.sibling=Rt,ct=Rt);return o&&je.forEach(function(nB){return l(ee,nB)}),xt&&Xl(ee,We),Le}function Ut(ee,X,se,de){if(typeof se=="object"&&se!==null&&se.type===A&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case v:e:{for(var Le=se.key;X!==null;){if(X.key===Le){if(Le=se.type,Le===A){if(X.tag===7){f(ee,X.sibling),de=y(X,se.props.children),de.return=ee,ee=de;break e}}else if(X.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===S&&B1(Le)===X.type){f(ee,X.sibling),de=y(X,se.props),Th(de,se),de.return=ee,ee=de;break e}f(ee,X);break}else l(ee,X);X=X.sibling}se.type===A?(de=Yl(se.props.children,ee.mode,de,se.key),de.return=ee,ee=de):(de=sm(se.type,se.key,se.props,null,ee.mode,de),Th(de,se),de.return=ee,ee=de)}return I(ee);case _:e:{for(Le=se.key;X!==null;){if(X.key===Le)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){f(ee,X.sibling),de=y(X,se.children||[]),de.return=ee,ee=de;break e}else{f(ee,X);break}else l(ee,X);X=X.sibling}de=N_(se,ee.mode,de),de.return=ee,ee=de}return I(ee);case S:return Le=se._init,se=Le(se._payload),Ut(ee,X,se,de)}if(F(se))return Qe(ee,X,se,de);if(N(se)){if(Le=N(se),typeof Le!="function")throw Error(r(150));return se=Le.call(se),Ge(ee,X,se,de)}if(typeof se.then=="function")return Ut(ee,X,Tm(se),de);if(se.$$typeof===j)return Ut(ee,X,um(ee,se),de);Em(ee,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,X!==null&&X.tag===6?(f(ee,X.sibling),de=y(X,se),de.return=ee,ee=de):(f(ee,X),de=O_(se,ee.mode,de),de.return=ee,ee=de),I(ee)):f(ee,X)}return function(ee,X,se,de){try{Ah=0;var Le=Ut(ee,X,se,de);return Cc=null,Le}catch(je){if(je===hh||je===fm)throw je;var ct=_i(29,je,null,ee.mode);return ct.lanes=de,ct.return=ee,ct}finally{}}}var xc=j1(!0),F1=j1(!1),Ji=ne(null),Ys=null;function _a(o){var l=o.alternate;ce(zn,zn.current&1),ce(Ji,o),Ys===null&&(l===null||Ec.current!==null||l.memoizedState!==null)&&(Ys=o)}function H1(o){if(o.tag===22){if(ce(zn,zn.current),ce(Ji,o),Ys===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Ys=o)}}else ba()}function ba(){ce(zn,zn.current),ce(Ji,Ji.current)}function Po(o){fe(Ji),Ys===o&&(Ys=null),fe(zn)}var zn=ne(0);function wm(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||eb(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function f0(o,l,f,d){l=o.memoizedState,f=f(d,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var h0={enqueueSetState:function(o,l,f){o=o._reactInternals;var d=Ei(),y=ga(d);y.payload=l,f!=null&&(y.callback=f),l=ya(o,y,d),l!==null&&(wi(l,o,d),ph(l,o,d))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var d=Ei(),y=ga(d);y.tag=1,y.payload=l,f!=null&&(y.callback=f),l=ya(o,y,d),l!==null&&(wi(l,o,d),ph(l,o,d))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Ei(),d=ga(f);d.tag=2,l!=null&&(d.callback=l),l=ya(o,d,f),l!==null&&(wi(l,o,f),ph(l,o,f))}};function q1(o,l,f,d,y,b,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,b,I):l.prototype&&l.prototype.isPureReactComponent?!ih(f,d)||!ih(y,b):!0}function $1(o,l,f,d){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,d),l.state!==o&&h0.enqueueReplaceState(l,l.state,null)}function iu(o,l){var f=l;if("ref"in l){f={};for(var d in l)d!=="ref"&&(f[d]=l[d])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var y in o)f[y]===void 0&&(f[y]=o[y])}return f}var Sm=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function G1(o){Sm(o)}function W1(o){console.error(o)}function K1(o){Sm(o)}function Rm(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function Y1(o,l,f){try{var d=o.onCaughtError;d(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function d0(o,l,f){return f=ga(f),f.tag=3,f.payload={element:null},f.callback=function(){Rm(o,l)},f}function Q1(o){return o=ga(o),o.tag=3,o}function X1(o,l,f,d){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;o.payload=function(){return y(b)},o.callback=function(){Y1(l,f,d)}}var I=f.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(o.callback=function(){Y1(l,f,d),typeof y!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var V=d.stack;this.componentDidCatch(d.value,{componentStack:V!==null?V:""})})}function nz(o,l,f,d,y){if(f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=f.alternate,l!==null&&uh(l,f,y,!0),f=Ji.current,f!==null){switch(f.tag){case 13:return Ys===null?V0():f.alternate===null&&cn===0&&(cn=3),f.flags&=-257,f.flags|=65536,f.lanes=y,d===F_?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([d]):l.add(d),z0(o,d,y)),!1;case 22:return f.flags|=65536,d===F_?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([d]):f.add(d)),z0(o,d,y)),!1}throw Error(r(435,f.tag))}return z0(o,d,y),V0(),!1}if(xt)return l=Ji.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,d!==P_&&(o=Error(r(422),{cause:d}),lh(Ki(o,f)))):(d!==P_&&(l=Error(r(423),{cause:d}),lh(Ki(l,f))),o=o.current.alternate,o.flags|=65536,y&=-y,o.lanes|=y,d=Ki(d,f),y=d0(o.stateNode,d,y),$_(o,y),cn!==4&&(cn=2)),!1;var b=Error(r(520),{cause:d});if(b=Ki(b,f),Ih===null?Ih=[b]:Ih.push(b),cn!==4&&(cn=2),l===null)return!0;d=Ki(d,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=y&-y,f.lanes|=o,o=d0(f.stateNode,d,o),$_(f,o),!1;case 1:if(l=f.type,b=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ra===null||!Ra.has(b))))return f.flags|=65536,y&=-y,f.lanes|=y,y=Q1(y),X1(y,o,f,d),$_(f,y),!1}f=f.return}while(f!==null);return!1}var J1=Error(r(461)),Hn=!1;function or(o,l,f,d){l.child=o===null?F1(l,null,f,d):xc(l,o.child,f,d)}function Z1(o,l,f,d,y){f=f.render;var b=l.ref;if("ref"in d){var I={};for(var V in d)V!=="ref"&&(I[V]=d[V])}else I=d;return tu(l),d=Q_(o,l,f,I,b,y),V=X_(),o!==null&&!Hn?(J_(o,l,y),Lo(o,l,y)):(xt&&V&&M_(l),l.flags|=1,or(o,l,d,y),l.child)}function eR(o,l,f,d,y){if(o===null){var b=f.type;return typeof b=="function"&&!k_(b)&&b.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=b,tR(o,l,b,d,y)):(o=sm(f.type,null,d,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(b=o.child,!A0(o,y)){var I=b.memoizedProps;if(f=f.compare,f=f!==null?f:ih,f(I,d)&&o.ref===l.ref)return Lo(o,l,y)}return l.flags|=1,o=Io(b,d),o.ref=l.ref,o.return=l,l.child=o}function tR(o,l,f,d,y){if(o!==null){var b=o.memoizedProps;if(ih(b,d)&&o.ref===l.ref)if(Hn=!1,l.pendingProps=d=b,A0(o,y))(o.flags&131072)!==0&&(Hn=!0);else return l.lanes=o.lanes,Lo(o,l,y)}return p0(o,l,f,d,y)}function nR(o,l,f){var d=l.pendingProps,y=d.children,b=o!==null?o.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=b!==null?b.baseLanes|f:f,o!==null){for(y=l.child=o.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;l.childLanes=b&~d}else l.childLanes=0,l.child=null;return rR(o,l,d,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&cm(l,b!==null?b.cachePool:null),b!==null?t1(l,b):W_(),H1(l);else return l.lanes=l.childLanes=536870912,rR(o,l,b!==null?b.baseLanes|f:f,f)}else b!==null?(cm(l,b.cachePool),t1(l,b),ba(),l.memoizedState=null):(o!==null&&cm(l,null),W_(),ba());return or(o,l,y,f),l.child}function rR(o,l,f,d){var y=j_();return y=y===null?null:{parent:Un._currentValue,pool:y},l.memoizedState={baseLanes:f,cachePool:y},o!==null&&cm(l,null),W_(),H1(l),o!==null&&uh(o,l,d,!0),null}function Cm(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function p0(o,l,f,d,y){return tu(l),f=Q_(o,l,f,d,void 0,y),d=X_(),o!==null&&!Hn?(J_(o,l,y),Lo(o,l,y)):(xt&&d&&M_(l),l.flags|=1,or(o,l,f,y),l.child)}function iR(o,l,f,d,y,b){return tu(l),l.updateQueue=null,f=r1(l,d,f,y),n1(o),d=X_(),o!==null&&!Hn?(J_(o,l,b),Lo(o,l,b)):(xt&&d&&M_(l),l.flags|=1,or(o,l,f,b),l.child)}function sR(o,l,f,d,y){if(tu(l),l.stateNode===null){var b=vc,I=f.contextType;typeof I=="object"&&I!==null&&(b=_r(I)),b=new f(d,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=h0,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=d,b.state=l.memoizedState,b.refs={},H_(l),I=f.contextType,b.context=typeof I=="object"&&I!==null?_r(I):vc,b.state=l.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(f0(l,f,I,d),b.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(I=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),I!==b.state&&h0.enqueueReplaceState(b,b.state,null),gh(l,d,b,y),mh(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(o===null){b=l.stateNode;var V=l.memoizedProps,K=iu(f,V);b.props=K;var oe=b.context,he=f.contextType;I=vc,typeof he=="object"&&he!==null&&(I=_r(he));var me=f.getDerivedStateFromProps;he=typeof me=="function"||typeof b.getSnapshotBeforeUpdate=="function",V=l.pendingProps!==V,he||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(V||oe!==I)&&$1(l,b,d,I),ma=!1;var ae=l.memoizedState;b.state=ae,gh(l,d,b,y),mh(),oe=l.memoizedState,V||ae!==oe||ma?(typeof me=="function"&&(f0(l,f,me,d),oe=l.memoizedState),(K=ma||q1(l,f,K,d,ae,oe,I))?(he||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=oe),b.props=d,b.state=oe,b.context=I,d=K):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{b=l.stateNode,q_(o,l),I=l.memoizedProps,he=iu(f,I),b.props=he,me=l.pendingProps,ae=b.context,oe=f.contextType,K=vc,typeof oe=="object"&&oe!==null&&(K=_r(oe)),V=f.getDerivedStateFromProps,(oe=typeof V=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==me||ae!==K)&&$1(l,b,d,K),ma=!1,ae=l.memoizedState,b.state=ae,gh(l,d,b,y),mh();var le=l.memoizedState;I!==me||ae!==le||ma||o!==null&&o.dependencies!==null&&lm(o.dependencies)?(typeof V=="function"&&(f0(l,f,V,d),le=l.memoizedState),(he=ma||q1(l,f,he,d,ae,le,K)||o!==null&&o.dependencies!==null&&lm(o.dependencies))?(oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,le,K),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,le,K)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||I===o.memoizedProps&&ae===o.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&ae===o.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=le),b.props=d,b.state=le,b.context=K,d=he):(typeof b.componentDidUpdate!="function"||I===o.memoizedProps&&ae===o.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&ae===o.memoizedState||(l.flags|=1024),d=!1)}return b=d,Cm(o,l),d=(l.flags&128)!==0,b||d?(b=l.stateNode,f=d&&typeof f.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,o!==null&&d?(l.child=xc(l,o.child,null,y),l.child=xc(l,null,f,y)):or(o,l,f,y),l.memoizedState=b.state,o=l.child):o=Lo(o,l,y),o}function oR(o,l,f,d){return ah(),l.flags|=256,or(o,l,f,d),l.child}var m0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function g0(o){return{baseLanes:o,cachePool:WS()}}function y0(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Zi),o}function aR(o,l,f){var d=l.pendingProps,y=!1,b=(l.flags&128)!==0,I;if((I=b)||(I=o!==null&&o.memoizedState===null?!1:(zn.current&2)!==0),I&&(y=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,o===null){if(xt){if(y?_a(l):ba(),xt){var V=un,K;if(K=V){e:{for(K=V,V=Ks;K.nodeType!==8;){if(!V){V=null;break e}if(K=Es(K.nextSibling),K===null){V=null;break e}}V=K}V!==null?(l.memoizedState={dehydrated:V,treeContext:Ql!==null?{id:ko,overflow:Oo}:null,retryLane:536870912,hydrationErrors:null},K=_i(18,null,null,0),K.stateNode=V,K.return=l,l.child=K,Ur=l,un=null,K=!0):K=!1}K||Zl(l)}if(V=l.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return eb(V)?l.lanes=32:l.lanes=536870912,null;Po(l)}return V=d.children,d=d.fallback,y?(ba(),y=l.mode,V=xm({mode:"hidden",children:V},y),d=Yl(d,y,f,null),V.return=l,d.return=l,V.sibling=d,l.child=V,y=l.child,y.memoizedState=g0(f),y.childLanes=y0(o,I,f),l.memoizedState=m0,d):(_a(l),v0(l,V))}if(K=o.memoizedState,K!==null&&(V=K.dehydrated,V!==null)){if(b)l.flags&256?(_a(l),l.flags&=-257,l=_0(o,l,f)):l.memoizedState!==null?(ba(),l.child=o.child,l.flags|=128,l=null):(ba(),y=d.fallback,V=l.mode,d=xm({mode:"visible",children:d.children},V),y=Yl(y,V,f,null),y.flags|=2,d.return=l,y.return=l,d.sibling=y,l.child=d,xc(l,o.child,null,f),d=l.child,d.memoizedState=g0(f),d.childLanes=y0(o,I,f),l.memoizedState=m0,l=y);else if(_a(l),eb(V)){if(I=V.nextSibling&&V.nextSibling.dataset,I)var oe=I.dgst;I=oe,d=Error(r(419)),d.stack="",d.digest=I,lh({value:d,source:null,stack:null}),l=_0(o,l,f)}else if(Hn||uh(o,l,f,!1),I=(f&o.childLanes)!==0,Hn||I){if(I=Gt,I!==null&&(d=f&-f,d=(d&42)!==0?1:rr(d),d=(d&(I.suspendedLanes|f))!==0?0:d,d!==0&&d!==K.retryLane))throw K.retryLane=d,yc(o,d),wi(I,o,d),J1;V.data==="$?"||V0(),l=_0(o,l,f)}else V.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=K.treeContext,un=Es(V.nextSibling),Ur=l,xt=!0,Jl=null,Ks=!1,o!==null&&(Qi[Xi++]=ko,Qi[Xi++]=Oo,Qi[Xi++]=Ql,ko=o.id,Oo=o.overflow,Ql=l),l=v0(l,d.children),l.flags|=4096);return l}return y?(ba(),y=d.fallback,V=l.mode,K=o.child,oe=K.sibling,d=Io(K,{mode:"hidden",children:d.children}),d.subtreeFlags=K.subtreeFlags&65011712,oe!==null?y=Io(oe,y):(y=Yl(y,V,f,null),y.flags|=2),y.return=l,d.return=l,d.sibling=y,l.child=d,d=y,y=l.child,V=o.child.memoizedState,V===null?V=g0(f):(K=V.cachePool,K!==null?(oe=Un._currentValue,K=K.parent!==oe?{parent:oe,pool:oe}:K):K=WS(),V={baseLanes:V.baseLanes|f,cachePool:K}),y.memoizedState=V,y.childLanes=y0(o,I,f),l.memoizedState=m0,d):(_a(l),f=o.child,o=f.sibling,f=Io(f,{mode:"visible",children:d.children}),f.return=l,f.sibling=null,o!==null&&(I=l.deletions,I===null?(l.deletions=[o],l.flags|=16):I.push(o)),l.child=f,l.memoizedState=null,f)}function v0(o,l){return l=xm({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function xm(o,l){return o=_i(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function _0(o,l,f){return xc(l,o.child,null,f),o=v0(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function lR(o,l,f){o.lanes|=l;var d=o.alternate;d!==null&&(d.lanes|=l),V_(o.return,l,f)}function b0(o,l,f,d,y){var b=o.memoizedState;b===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:f,tailMode:y}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=f,b.tailMode=y)}function uR(o,l,f){var d=l.pendingProps,y=d.revealOrder,b=d.tail;if(or(o,l,d.children,f),d=zn.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&lR(o,f,l);else if(o.tag===19)lR(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}switch(ce(zn,d),y){case"forwards":for(f=l.child,y=null;f!==null;)o=f.alternate,o!==null&&wm(o)===null&&(y=f),f=f.sibling;f=y,f===null?(y=l.child,l.child=null):(y=f.sibling,f.sibling=null),b0(l,!1,y,f,b);break;case"backwards":for(f=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&wm(o)===null){l.child=y;break}o=y.sibling,y.sibling=f,f=y,y=o}b0(l,!0,f,null,b);break;case"together":b0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Lo(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Sa|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(uh(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=Io(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=Io(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function A0(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&lm(o)))}function rz(o,l,f){switch(l.tag){case 3:vt(l,l.stateNode.containerInfo),pa(l,Un,o.memoizedState.cache),ah();break;case 27:case 5:Ot(l);break;case 4:vt(l,l.stateNode.containerInfo);break;case 10:pa(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(_a(l),l.flags|=128,null):(f&l.child.childLanes)!==0?aR(o,l,f):(_a(l),o=Lo(o,l,f),o!==null?o.sibling:null);_a(l);break;case 19:var y=(o.flags&128)!==0;if(d=(f&l.childLanes)!==0,d||(uh(o,l,f,!1),d=(f&l.childLanes)!==0),y){if(d)return uR(o,l,f);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ce(zn,zn.current),d)break;return null;case 22:case 23:return l.lanes=0,nR(o,l,f);case 24:pa(l,Un,o.memoizedState.cache)}return Lo(o,l,f)}function cR(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)Hn=!0;else{if(!A0(o,f)&&(l.flags&128)===0)return Hn=!1,rz(o,l,f);Hn=(o.flags&131072)!==0}else Hn=!1,xt&&(l.flags&1048576)!==0&&BS(l,am,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var d=l.elementType,y=d._init;if(d=y(d._payload),l.type=d,typeof d=="function")k_(d)?(o=iu(d,o),l.tag=1,l=sR(null,l,d,o,f)):(l.tag=0,l=p0(null,l,d,o,f));else{if(d!=null){if(y=d.$$typeof,y===q){l.tag=11,l=Z1(null,l,d,o,f);break e}else if(y===L){l.tag=14,l=eR(null,l,d,o,f);break e}}throw l=J(d)||d,Error(r(306,l,""))}}return l;case 0:return p0(o,l,l.type,l.pendingProps,f);case 1:return d=l.type,y=iu(d,l.pendingProps),sR(o,l,d,y,f);case 3:e:{if(vt(l,l.stateNode.containerInfo),o===null)throw Error(r(387));d=l.pendingProps;var b=l.memoizedState;y=b.element,q_(o,l),gh(l,d,null,f);var I=l.memoizedState;if(d=I.cache,pa(l,Un,d),d!==b.cache&&U_(l,[Un],f,!0),mh(),d=I.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=oR(o,l,d,f);break e}else if(d!==y){y=Ki(Error(r(424)),l),lh(y),l=oR(o,l,d,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(un=Es(o.firstChild),Ur=l,xt=!0,Jl=null,Ks=!0,f=F1(l,null,d,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(ah(),d===y){l=Lo(o,l,f);break e}or(o,l,d,f)}l=l.child}return l;case 26:return Cm(o,l),o===null?(f=pC(l.type,null,l.pendingProps,null))?l.memoizedState=f:xt||(f=l.type,o=l.pendingProps,d=Fm(Pe.current).createElement(f),d[pe]=l,d[Ae]=o,lr(d,f,o),ht(d),l.stateNode=d):l.memoizedState=pC(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ot(l),o===null&&xt&&(d=l.stateNode=fC(l.type,l.pendingProps,Pe.current),Ur=l,Ks=!0,y=un,Ia(l.type)?(tb=y,un=Es(d.firstChild)):un=y),or(o,l,l.pendingProps.children,f),Cm(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&xt&&((y=d=un)&&(d=Oz(d,l.type,l.pendingProps,Ks),d!==null?(l.stateNode=d,Ur=l,un=Es(d.firstChild),Ks=!1,y=!0):y=!1),y||Zl(l)),Ot(l),y=l.type,b=l.pendingProps,I=o!==null?o.memoizedProps:null,d=b.children,X0(y,b)?d=null:I!==null&&X0(y,I)&&(l.flags|=32),l.memoizedState!==null&&(y=Q_(o,l,YU,null,null,f),Uh._currentValue=y),Cm(o,l),or(o,l,d,f),l.child;case 6:return o===null&&xt&&((o=f=un)&&(f=Nz(f,l.pendingProps,Ks),f!==null?(l.stateNode=f,Ur=l,un=null,o=!0):o=!1),o||Zl(l)),null;case 13:return aR(o,l,f);case 4:return vt(l,l.stateNode.containerInfo),d=l.pendingProps,o===null?l.child=xc(l,null,d,f):or(o,l,d,f),l.child;case 11:return Z1(o,l,l.type,l.pendingProps,f);case 7:return or(o,l,l.pendingProps,f),l.child;case 8:return or(o,l,l.pendingProps.children,f),l.child;case 12:return or(o,l,l.pendingProps.children,f),l.child;case 10:return d=l.pendingProps,pa(l,l.type,d.value),or(o,l,d.children,f),l.child;case 9:return y=l.type._context,d=l.pendingProps.children,tu(l),y=_r(y),d=d(y),l.flags|=1,or(o,l,d,f),l.child;case 14:return eR(o,l,l.type,l.pendingProps,f);case 15:return tR(o,l,l.type,l.pendingProps,f);case 19:return uR(o,l,f);case 31:return d=l.pendingProps,f=l.mode,d={mode:d.mode,children:d.children},o===null?(f=xm(d,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=Io(o.child,d),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return nR(o,l,f);case 24:return tu(l),d=_r(Un),o===null?(y=j_(),y===null&&(y=Gt,b=z_(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=f),y=b),l.memoizedState={parent:d,cache:y},H_(l),pa(l,Un,y)):((o.lanes&f)!==0&&(q_(o,l),gh(l,null,null,f),mh()),y=o.memoizedState,b=l.memoizedState,y.parent!==d?(y={parent:d,cache:d},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),pa(l,Un,d)):(d=b.cache,pa(l,Un,d),d!==y.cache&&U_(l,[Un],f,!0))),or(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Vo(o){o.flags|=4}function fR(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!_C(l)){if(l=Ji.current,l!==null&&((Et&4194048)===Et?Ys!==null:(Et&62914560)!==Et&&(Et&536870912)===0||l!==Ys))throw dh=F_,KS;o.flags|=8192}}function Im(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Fi():536870912,o.lanes|=l,Nc|=l)}function Eh(o,l){if(!xt)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function nn(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,d=0;if(l)for(var y=o.child;y!==null;)f|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)f|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=d,o.childLanes=f,l}function iz(o,l,f){var d=l.pendingProps;switch(D_(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(l),null;case 1:return nn(l),null;case 3:return f=l.stateNode,d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Mo(Un),Yt(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(oh(l)?Vo(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,HS())),nn(l),null;case 26:return f=l.memoizedState,o===null?(Vo(l),f!==null?(nn(l),fR(l,f)):(nn(l),l.flags&=-16777217)):f?f!==o.memoizedState?(Vo(l),nn(l),fR(l,f)):(nn(l),l.flags&=-16777217):(o.memoizedProps!==d&&Vo(l),nn(l),l.flags&=-16777217),null;case 27:Dn(l),f=Pe.current;var y=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==d&&Vo(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return nn(l),null}o=we.current,oh(l)?jS(l):(o=fC(y,d,f),l.stateNode=o,Vo(l))}return nn(l),null;case 5:if(Dn(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==d&&Vo(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return nn(l),null}if(o=we.current,oh(l))jS(l);else{switch(y=Fm(Pe.current),o){case 1:o=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=y.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?o.multiple=!0:d.size&&(o.size=d.size);break;default:o=typeof d.is=="string"?y.createElement(f,{is:d.is}):y.createElement(f)}}o[pe]=l,o[Ae]=d;e:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)o.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break e;for(;y.sibling===null;){if(y.return===null||y.return===l)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=o;e:switch(lr(o,f,d),f){case"button":case"input":case"select":case"textarea":o=!!d.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Vo(l)}}return nn(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==d&&Vo(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(r(166));if(o=Pe.current,oh(l)){if(o=l.stateNode,f=l.memoizedProps,d=null,y=Ur,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}o[pe]=l,o=!!(o.nodeValue===f||d!==null&&d.suppressHydrationWarning===!0||iC(o.nodeValue,f)),o||Zl(l)}else o=Fm(o).createTextNode(d),o[pe]=l,l.stateNode=o}return nn(l),null;case 13:if(d=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(y=oh(l),d!==null&&d.dehydrated!==null){if(o===null){if(!y)throw Error(r(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[pe]=l}else ah(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;nn(l),y=!1}else y=HS(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(Po(l),l):(Po(l),null)}if(Po(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=d!==null,o=o!==null&&o.memoizedState!==null,f){d=l.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),Im(l,l.updateQueue),nn(l),null;case 4:return Yt(),o===null&&G0(l.stateNode.containerInfo),nn(l),null;case 10:return Mo(l.type),nn(l),null;case 19:if(fe(zn),y=l.memoizedState,y===null)return nn(l),null;if(d=(l.flags&128)!==0,b=y.rendering,b===null)if(d)Eh(y,!1);else{if(cn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(b=wm(o),b!==null){for(l.flags|=128,Eh(y,!1),o=b.updateQueue,l.updateQueue=o,Im(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)zS(f,o),f=f.sibling;return ce(zn,zn.current&1|2),l.child}o=o.sibling}y.tail!==null&&ln()>Nm&&(l.flags|=128,d=!0,Eh(y,!1),l.lanes=4194304)}else{if(!d)if(o=wm(b),o!==null){if(l.flags|=128,d=!0,o=o.updateQueue,l.updateQueue=o,Im(l,o),Eh(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!xt)return nn(l),null}else 2*ln()-y.renderingStartTime>Nm&&f!==536870912&&(l.flags|=128,d=!0,Eh(y,!1),l.lanes=4194304);y.isBackwards?(b.sibling=l.child,l.child=b):(o=y.last,o!==null?o.sibling=b:l.child=b,y.last=b)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=ln(),l.sibling=null,o=zn.current,ce(zn,d?o&1|2:o&1),l):(nn(l),null);case 22:case 23:return Po(l),K_(),d=l.memoizedState!==null,o!==null?o.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(f&536870912)!==0&&(l.flags&128)===0&&(nn(l),l.subtreeFlags&6&&(l.flags|=8192)):nn(l),f=l.updateQueue,f!==null&&Im(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048),o!==null&&fe(nu),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Mo(Un),nn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function sz(o,l){switch(D_(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Mo(Un),Yt(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Dn(l),null;case 13:if(Po(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));ah()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return fe(zn),null;case 4:return Yt(),null;case 10:return Mo(l.type),null;case 22:case 23:return Po(l),K_(),o!==null&&fe(nu),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Mo(Un),null;case 25:return null;default:return null}}function hR(o,l){switch(D_(l),l.tag){case 3:Mo(Un),Yt();break;case 26:case 27:case 5:Dn(l);break;case 4:Yt();break;case 13:Po(l);break;case 19:fe(zn);break;case 10:Mo(l.type);break;case 22:case 23:Po(l),K_(),o!==null&&fe(nu);break;case 24:Mo(Un)}}function wh(o,l){try{var f=l.updateQueue,d=f!==null?f.lastEffect:null;if(d!==null){var y=d.next;f=y;do{if((f.tag&o)===o){d=void 0;var b=f.create,I=f.inst;d=b(),I.destroy=d}f=f.next}while(f!==y)}}catch(V){Ht(l,l.return,V)}}function Aa(o,l,f){try{var d=l.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&o)===o){var I=d.inst,V=I.destroy;if(V!==void 0){I.destroy=void 0,y=l;var K=f,oe=V;try{oe()}catch(he){Ht(y,K,he)}}}d=d.next}while(d!==b)}}catch(he){Ht(l,l.return,he)}}function dR(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{e1(l,f)}catch(d){Ht(o,o.return,d)}}}function pR(o,l,f){f.props=iu(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(d){Ht(o,l,d)}}function Sh(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var d=o.stateNode;break;case 30:d=o.stateNode;break;default:d=o.stateNode}typeof f=="function"?o.refCleanup=f(d):f.current=d}}catch(y){Ht(o,l,y)}}function Qs(o,l){var f=o.ref,d=o.refCleanup;if(f!==null)if(typeof d=="function")try{d()}catch(y){Ht(o,l,y)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){Ht(o,l,y)}else f.current=null}function mR(o){var l=o.type,f=o.memoizedProps,d=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&d.focus();break e;case"img":f.src?d.src=f.src:f.srcSet&&(d.srcset=f.srcSet)}}catch(y){Ht(o,o.return,y)}}function T0(o,l,f){try{var d=o.stateNode;Rz(d,o.type,f,l),d[Ae]=l}catch(y){Ht(o,o.return,y)}}function gR(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ia(o.type)||o.tag===4}function E0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||gR(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ia(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function w0(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=jm));else if(d!==4&&(d===27&&Ia(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(w0(o,l,f),o=o.sibling;o!==null;)w0(o,l,f),o=o.sibling}function km(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(d!==4&&(d===27&&Ia(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(km(o,l,f),o=o.sibling;o!==null;)km(o,l,f),o=o.sibling}function yR(o){var l=o.stateNode,f=o.memoizedProps;try{for(var d=o.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);lr(l,d,f),l[pe]=o,l[Ae]=f}catch(b){Ht(o,o.return,b)}}var Uo=!1,vn=!1,S0=!1,vR=typeof WeakSet=="function"?WeakSet:Set,qn=null;function oz(o,l){if(o=o.containerInfo,Y0=Km,o=IS(o),E_(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var d=f.getSelection&&f.getSelection();if(d&&d.rangeCount!==0){f=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{f.nodeType,b.nodeType}catch{f=null;break e}var I=0,V=-1,K=-1,oe=0,he=0,me=o,ae=null;t:for(;;){for(var le;me!==f||y!==0&&me.nodeType!==3||(V=I+y),me!==b||d!==0&&me.nodeType!==3||(K=I+d),me.nodeType===3&&(I+=me.nodeValue.length),(le=me.firstChild)!==null;)ae=me,me=le;for(;;){if(me===o)break t;if(ae===f&&++oe===y&&(V=I),ae===b&&++he===d&&(K=I),(le=me.nextSibling)!==null)break;me=ae,ae=me.parentNode}me=le}f=V===-1||K===-1?null:{start:V,end:K}}else f=null}f=f||{start:0,end:0}}else f=null;for(Q0={focusedElem:o,selectionRange:f},Km=!1,qn=l;qn!==null;)if(l=qn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,qn=o;else for(;qn!==null;){switch(l=qn,b=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&b!==null){o=void 0,f=l,y=b.memoizedProps,b=b.memoizedState,d=f.stateNode;try{var Qe=iu(f.type,y,f.elementType===f.type);o=d.getSnapshotBeforeUpdate(Qe,b),d.__reactInternalSnapshotBeforeUpdate=o}catch(Ge){Ht(f,f.return,Ge)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)Z0(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Z0(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,qn=o;break}qn=l.return}}function _R(o,l,f){var d=f.flags;switch(f.tag){case 0:case 11:case 15:Ta(o,f),d&4&&wh(5,f);break;case 1:if(Ta(o,f),d&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(I){Ht(f,f.return,I)}else{var y=iu(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(y,l,o.__reactInternalSnapshotBeforeUpdate)}catch(I){Ht(f,f.return,I)}}d&64&&dR(f),d&512&&Sh(f,f.return);break;case 3:if(Ta(o,f),d&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{e1(o,l)}catch(I){Ht(f,f.return,I)}}break;case 27:l===null&&d&4&&yR(f);case 26:case 5:Ta(o,f),l===null&&d&4&&mR(f),d&512&&Sh(f,f.return);break;case 12:Ta(o,f);break;case 13:Ta(o,f),d&4&&TR(o,f),d&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=mz.bind(null,f),Mz(o,f))));break;case 22:if(d=f.memoizedState!==null||Uo,!d){l=l!==null&&l.memoizedState!==null||vn,y=Uo;var b=vn;Uo=d,(vn=l)&&!b?Ea(o,f,(f.subtreeFlags&8772)!==0):Ta(o,f),Uo=y,vn=b}break;case 30:break;default:Ta(o,f)}}function bR(o){var l=o.alternate;l!==null&&(o.alternate=null,bR(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Ie(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Qt=null,Jr=!1;function zo(o,l,f){for(f=f.child;f!==null;)AR(o,l,f),f=f.sibling}function AR(o,l,f){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(ut,f)}catch{}switch(f.tag){case 26:vn||Qs(f,l),zo(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:vn||Qs(f,l);var d=Qt,y=Jr;Ia(f.type)&&(Qt=f.stateNode,Jr=!1),zo(o,l,f),Dh(f.stateNode),Qt=d,Jr=y;break;case 5:vn||Qs(f,l);case 6:if(d=Qt,y=Jr,Qt=null,zo(o,l,f),Qt=d,Jr=y,Qt!==null)if(Jr)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(f.stateNode)}catch(b){Ht(f,l,b)}else try{Qt.removeChild(f.stateNode)}catch(b){Ht(f,l,b)}break;case 18:Qt!==null&&(Jr?(o=Qt,uC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Fh(o)):uC(Qt,f.stateNode));break;case 4:d=Qt,y=Jr,Qt=f.stateNode.containerInfo,Jr=!0,zo(o,l,f),Qt=d,Jr=y;break;case 0:case 11:case 14:case 15:vn||Aa(2,f,l),vn||Aa(4,f,l),zo(o,l,f);break;case 1:vn||(Qs(f,l),d=f.stateNode,typeof d.componentWillUnmount=="function"&&pR(f,l,d)),zo(o,l,f);break;case 21:zo(o,l,f);break;case 22:vn=(d=vn)||f.memoizedState!==null,zo(o,l,f),vn=d;break;default:zo(o,l,f)}}function TR(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Fh(o)}catch(f){Ht(l,l.return,f)}}function az(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new vR),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new vR),l;default:throw Error(r(435,o.tag))}}function R0(o,l){var f=az(o);l.forEach(function(d){var y=gz.bind(null,o,d);f.has(d)||(f.add(d),d.then(y,y))})}function bi(o,l){var f=l.deletions;if(f!==null)for(var d=0;d<f.length;d++){var y=f[d],b=o,I=l,V=I;e:for(;V!==null;){switch(V.tag){case 27:if(Ia(V.type)){Qt=V.stateNode,Jr=!1;break e}break;case 5:Qt=V.stateNode,Jr=!1;break e;case 3:case 4:Qt=V.stateNode.containerInfo,Jr=!0;break e}V=V.return}if(Qt===null)throw Error(r(160));AR(b,I,y),Qt=null,Jr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)ER(l,o),l=l.sibling}var Ts=null;function ER(o,l){var f=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:bi(l,o),Ai(o),d&4&&(Aa(3,o,o.return),wh(3,o),Aa(5,o,o.return));break;case 1:bi(l,o),Ai(o),d&512&&(vn||f===null||Qs(f,f.return)),d&64&&Uo&&(o=o.updateQueue,o!==null&&(d=o.callbacks,d!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?d:f.concat(d))));break;case 26:var y=Ts;if(bi(l,o),Ai(o),d&512&&(vn||f===null||Qs(f,f.return)),d&4){var b=f!==null?f.memoizedState:null;if(d=o.memoizedState,f===null)if(d===null)if(o.stateNode===null){e:{d=o.type,f=o.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Fe]||b[pe]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),lr(b,d,f),b[pe]=o,ht(b),d=b;break e;case"link":var I=yC("link","href",y).get(d+(f.href||""));if(I){for(var V=0;V<I.length;V++)if(b=I[V],b.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&b.getAttribute("rel")===(f.rel==null?null:f.rel)&&b.getAttribute("title")===(f.title==null?null:f.title)&&b.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){I.splice(V,1);break t}}b=y.createElement(d),lr(b,d,f),y.head.appendChild(b);break;case"meta":if(I=yC("meta","content",y).get(d+(f.content||""))){for(V=0;V<I.length;V++)if(b=I[V],b.getAttribute("content")===(f.content==null?null:""+f.content)&&b.getAttribute("name")===(f.name==null?null:f.name)&&b.getAttribute("property")===(f.property==null?null:f.property)&&b.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&b.getAttribute("charset")===(f.charSet==null?null:f.charSet)){I.splice(V,1);break t}}b=y.createElement(d),lr(b,d,f),y.head.appendChild(b);break;default:throw Error(r(468,d))}b[pe]=o,ht(b),d=b}o.stateNode=d}else vC(y,o.type,o.stateNode);else o.stateNode=gC(y,d,o.memoizedProps);else b!==d?(b===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):b.count--,d===null?vC(y,o.type,o.stateNode):gC(y,d,o.memoizedProps)):d===null&&o.stateNode!==null&&T0(o,o.memoizedProps,f.memoizedProps)}break;case 27:bi(l,o),Ai(o),d&512&&(vn||f===null||Qs(f,f.return)),f!==null&&d&4&&T0(o,o.memoizedProps,f.memoizedProps);break;case 5:if(bi(l,o),Ai(o),d&512&&(vn||f===null||Qs(f,f.return)),o.flags&32){y=o.stateNode;try{qi(y,"")}catch(le){Ht(o,o.return,le)}}d&4&&o.stateNode!=null&&(y=o.memoizedProps,T0(o,y,f!==null?f.memoizedProps:y)),d&1024&&(S0=!0);break;case 6:if(bi(l,o),Ai(o),d&4){if(o.stateNode===null)throw Error(r(162));d=o.memoizedProps,f=o.stateNode;try{f.nodeValue=d}catch(le){Ht(o,o.return,le)}}break;case 3:if($m=null,y=Ts,Ts=Hm(l.containerInfo),bi(l,o),Ts=y,Ai(o),d&4&&f!==null&&f.memoizedState.isDehydrated)try{Fh(l.containerInfo)}catch(le){Ht(o,o.return,le)}S0&&(S0=!1,wR(o));break;case 4:d=Ts,Ts=Hm(o.stateNode.containerInfo),bi(l,o),Ai(o),Ts=d;break;case 12:bi(l,o),Ai(o);break;case 13:bi(l,o),Ai(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(N0=ln()),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,R0(o,d)));break;case 22:y=o.memoizedState!==null;var K=f!==null&&f.memoizedState!==null,oe=Uo,he=vn;if(Uo=oe||y,vn=he||K,bi(l,o),vn=he,Uo=oe,Ai(o),d&8192)e:for(l=o.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(f===null||K||Uo||vn||su(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){K=f=l;try{if(b=K.stateNode,y)I=b.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{V=K.stateNode;var me=K.memoizedProps.style,ae=me!=null&&me.hasOwnProperty("display")?me.display:null;V.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(le){Ht(K,K.return,le)}}}else if(l.tag===6){if(f===null){K=l;try{K.stateNode.nodeValue=y?"":K.memoizedProps}catch(le){Ht(K,K.return,le)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=o.updateQueue,d!==null&&(f=d.retryQueue,f!==null&&(d.retryQueue=null,R0(o,f))));break;case 19:bi(l,o),Ai(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,R0(o,d)));break;case 30:break;case 21:break;default:bi(l,o),Ai(o)}}function Ai(o){var l=o.flags;if(l&2){try{for(var f,d=o.return;d!==null;){if(gR(d)){f=d;break}d=d.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var y=f.stateNode,b=E0(o);km(o,b,y);break;case 5:var I=f.stateNode;f.flags&32&&(qi(I,""),f.flags&=-33);var V=E0(o);km(o,V,I);break;case 3:case 4:var K=f.stateNode.containerInfo,oe=E0(o);w0(o,oe,K);break;default:throw Error(r(161))}}catch(he){Ht(o,o.return,he)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function wR(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;wR(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Ta(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)_R(o,l.alternate,l),l=l.sibling}function su(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Aa(4,l,l.return),su(l);break;case 1:Qs(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&pR(l,l.return,f),su(l);break;case 27:Dh(l.stateNode);case 26:case 5:Qs(l,l.return),su(l);break;case 22:l.memoizedState===null&&su(l);break;case 30:su(l);break;default:su(l)}o=o.sibling}}function Ea(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,y=o,b=l,I=b.flags;switch(b.tag){case 0:case 11:case 15:Ea(y,b,f),wh(4,b);break;case 1:if(Ea(y,b,f),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(oe){Ht(d,d.return,oe)}if(d=b,y=d.updateQueue,y!==null){var V=d.stateNode;try{var K=y.shared.hiddenCallbacks;if(K!==null)for(y.shared.hiddenCallbacks=null,y=0;y<K.length;y++)ZS(K[y],V)}catch(oe){Ht(d,d.return,oe)}}f&&I&64&&dR(b),Sh(b,b.return);break;case 27:yR(b);case 26:case 5:Ea(y,b,f),f&&d===null&&I&4&&mR(b),Sh(b,b.return);break;case 12:Ea(y,b,f);break;case 13:Ea(y,b,f),f&&I&4&&TR(y,b);break;case 22:b.memoizedState===null&&Ea(y,b,f),Sh(b,b.return);break;case 30:break;default:Ea(y,b,f)}l=l.sibling}}function C0(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&ch(f))}function x0(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&ch(o))}function Xs(o,l,f,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)SR(o,l,f,d),l=l.sibling}function SR(o,l,f,d){var y=l.flags;switch(l.tag){case 0:case 11:case 15:Xs(o,l,f,d),y&2048&&wh(9,l);break;case 1:Xs(o,l,f,d);break;case 3:Xs(o,l,f,d),y&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&ch(o)));break;case 12:if(y&2048){Xs(o,l,f,d),o=l.stateNode;try{var b=l.memoizedProps,I=b.id,V=b.onPostCommit;typeof V=="function"&&V(I,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(K){Ht(l,l.return,K)}}else Xs(o,l,f,d);break;case 13:Xs(o,l,f,d);break;case 23:break;case 22:b=l.stateNode,I=l.alternate,l.memoizedState!==null?b._visibility&2?Xs(o,l,f,d):Rh(o,l):b._visibility&2?Xs(o,l,f,d):(b._visibility|=2,Ic(o,l,f,d,(l.subtreeFlags&10256)!==0)),y&2048&&C0(I,l);break;case 24:Xs(o,l,f,d),y&2048&&x0(l.alternate,l);break;default:Xs(o,l,f,d)}}function Ic(o,l,f,d,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var b=o,I=l,V=f,K=d,oe=I.flags;switch(I.tag){case 0:case 11:case 15:Ic(b,I,V,K,y),wh(8,I);break;case 23:break;case 22:var he=I.stateNode;I.memoizedState!==null?he._visibility&2?Ic(b,I,V,K,y):Rh(b,I):(he._visibility|=2,Ic(b,I,V,K,y)),y&&oe&2048&&C0(I.alternate,I);break;case 24:Ic(b,I,V,K,y),y&&oe&2048&&x0(I.alternate,I);break;default:Ic(b,I,V,K,y)}l=l.sibling}}function Rh(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,d=l,y=d.flags;switch(d.tag){case 22:Rh(f,d),y&2048&&C0(d.alternate,d);break;case 24:Rh(f,d),y&2048&&x0(d.alternate,d);break;default:Rh(f,d)}l=l.sibling}}var Ch=8192;function kc(o){if(o.subtreeFlags&Ch)for(o=o.child;o!==null;)RR(o),o=o.sibling}function RR(o){switch(o.tag){case 26:kc(o),o.flags&Ch&&o.memoizedState!==null&&Gz(Ts,o.memoizedState,o.memoizedProps);break;case 5:kc(o);break;case 3:case 4:var l=Ts;Ts=Hm(o.stateNode.containerInfo),kc(o),Ts=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=Ch,Ch=16777216,kc(o),Ch=l):kc(o));break;default:kc(o)}}function CR(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function xh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];qn=d,IR(d,o)}CR(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)xR(o),o=o.sibling}function xR(o){switch(o.tag){case 0:case 11:case 15:xh(o),o.flags&2048&&Aa(9,o,o.return);break;case 3:xh(o);break;case 12:xh(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Om(o)):xh(o);break;default:xh(o)}}function Om(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];qn=d,IR(d,o)}CR(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Aa(8,l,l.return),Om(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Om(l));break;default:Om(l)}o=o.sibling}}function IR(o,l){for(;qn!==null;){var f=qn;switch(f.tag){case 0:case 11:case 15:Aa(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var d=f.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ch(f.memoizedState.cache)}if(d=f.child,d!==null)d.return=f,qn=d;else e:for(f=o;qn!==null;){d=qn;var y=d.sibling,b=d.return;if(bR(d),d===f){qn=null;break e}if(y!==null){y.return=b,qn=y;break e}qn=b}}}var lz={getCacheForType:function(o){var l=_r(Un),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},uz=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Gt=null,dt=null,Et=0,Dt=0,Ti=null,wa=!1,Oc=!1,I0=!1,Bo=0,cn=0,Sa=0,ou=0,k0=0,Zi=0,Nc=0,Ih=null,Zr=null,O0=!1,N0=0,Nm=1/0,Mm=null,Ra=null,ar=0,Ca=null,Mc=null,Dc=0,M0=0,D0=null,kR=null,kh=0,P0=null;function Ei(){if((Mt&2)!==0&&Et!==0)return Et&-Et;if($.T!==null){var o=Ac;return o!==0?o:F0()}return Y()}function OR(){Zi===0&&(Zi=(Et&536870912)===0||xt?Kr():536870912);var o=Ji.current;return o!==null&&(o.flags|=32),Zi}function wi(o,l,f){(o===Gt&&(Dt===2||Dt===9)||o.cancelPendingCommit!==null)&&(Pc(o,0),xa(o,Et,Zi,!1)),tr(o,f),((Mt&2)===0||o!==Gt)&&(o===Gt&&((Mt&2)===0&&(ou|=f),cn===4&&xa(o,Et,Zi,!1)),Js(o))}function NR(o,l,f){if((Mt&6)!==0)throw Error(r(327));var d=!f&&(l&124)===0&&(l&o.expiredLanes)===0||yr(o,l),y=d?hz(o,l):U0(o,l,!0),b=d;do{if(y===0){Oc&&!d&&xa(o,l,0,!1);break}else{if(f=o.current.alternate,b&&!cz(f)){y=U0(o,l,!1),b=!1;continue}if(y===2){if(b=l,o.errorRecoveryDisabledLanes&b)var I=0;else I=o.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var V=o;y=Ih;var K=V.current.memoizedState.isDehydrated;if(K&&(Pc(V,I).flags|=256),I=U0(V,I,!1),I!==2){if(I0&&!K){V.errorRecoveryDisabledLanes|=b,ou|=b,y=4;break e}b=Zr,Zr=y,b!==null&&(Zr===null?Zr=b:Zr.push.apply(Zr,b))}y=I}if(b=!1,y!==2)continue}}if(y===1){Pc(o,0),xa(o,l,0,!0);break}e:{switch(d=o,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:xa(d,l,Zi,!wa);break e;case 2:Zr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(y=N0+300-ln(),10<y)){if(xa(d,l,Zi,!wa),gi(d,0,!0)!==0)break e;d.timeoutHandle=aC(MR.bind(null,d,f,Zr,Mm,O0,l,Zi,ou,Nc,wa,b,2,-0,0),y);break e}MR(d,f,Zr,Mm,O0,l,Zi,ou,Nc,wa,b,0,-0,0)}}break}while(!0);Js(o)}function MR(o,l,f,d,y,b,I,V,K,oe,he,me,ae,le){if(o.timeoutHandle=-1,me=l.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Vh={stylesheets:null,count:0,unsuspend:$z},RR(l),me=Wz(),me!==null)){o.cancelPendingCommit=me(BR.bind(null,o,l,b,f,d,y,I,V,K,he,1,ae,le)),xa(o,b,I,!oe);return}BR(o,l,b,f,d,y,I,V,K)}function cz(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var d=0;d<f.length;d++){var y=f[d],b=y.getSnapshot;y=y.value;try{if(!vi(b(),y))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function xa(o,l,f,d){l&=~k0,l&=~ou,o.suspendedLanes|=l,o.pingedLanes&=~l,d&&(o.warmLanes|=l),d=o.expirationTimes;for(var y=l;0<y;){var b=31-Zt(y),I=1<<b;d[b]=-1,y&=~I}f!==0&&nr(o,f,l)}function Dm(){return(Mt&6)===0?(Oh(0),!1):!0}function L0(){if(dt!==null){if(Dt===0)var o=dt.return;else o=dt,No=eu=null,Z_(o),Cc=null,Ah=0,o=dt;for(;o!==null;)hR(o.alternate,o),o=o.return;dt=null}}function Pc(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,xz(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),L0(),Gt=o,dt=f=Io(o.current,null),Et=l,Dt=0,Ti=null,wa=!1,Oc=yr(o,l),I0=!1,Nc=Zi=k0=ou=Sa=cn=0,Zr=Ih=null,O0=!1,(l&8)!==0&&(l|=l&32);var d=o.entangledLanes;if(d!==0)for(o=o.entanglements,d&=l;0<d;){var y=31-Zt(d),b=1<<y;l|=o[y],d&=~b}return Bo=l,nm(),f}function DR(o,l){ot=null,$.H=Am,l===hh||l===fm?(l=XS(),Dt=3):l===KS?(l=XS(),Dt=4):Dt=l===J1?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ti=l,dt===null&&(cn=1,Rm(o,Ki(l,o.current)))}function PR(){var o=$.H;return $.H=Am,o===null?Am:o}function LR(){var o=$.A;return $.A=lz,o}function V0(){cn=4,wa||(Et&4194048)!==Et&&Ji.current!==null||(Oc=!0),(Sa&134217727)===0&&(ou&134217727)===0||Gt===null||xa(Gt,Et,Zi,!1)}function U0(o,l,f){var d=Mt;Mt|=2;var y=PR(),b=LR();(Gt!==o||Et!==l)&&(Mm=null,Pc(o,l)),l=!1;var I=cn;e:do try{if(Dt!==0&&dt!==null){var V=dt,K=Ti;switch(Dt){case 8:L0(),I=6;break e;case 3:case 2:case 9:case 6:Ji.current===null&&(l=!0);var oe=Dt;if(Dt=0,Ti=null,Lc(o,V,K,oe),f&&Oc){I=0;break e}break;default:oe=Dt,Dt=0,Ti=null,Lc(o,V,K,oe)}}fz(),I=cn;break}catch(he){DR(o,he)}while(!0);return l&&o.shellSuspendCounter++,No=eu=null,Mt=d,$.H=y,$.A=b,dt===null&&(Gt=null,Et=0,nm()),I}function fz(){for(;dt!==null;)VR(dt)}function hz(o,l){var f=Mt;Mt|=2;var d=PR(),y=LR();Gt!==o||Et!==l?(Mm=null,Nm=ln()+500,Pc(o,l)):Oc=yr(o,l);e:do try{if(Dt!==0&&dt!==null){l=dt;var b=Ti;t:switch(Dt){case 1:Dt=0,Ti=null,Lc(o,l,b,1);break;case 2:case 9:if(YS(b)){Dt=0,Ti=null,UR(l);break}l=function(){Dt!==2&&Dt!==9||Gt!==o||(Dt=7),Js(o)},b.then(l,l);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:YS(b)?(Dt=0,Ti=null,UR(l)):(Dt=0,Ti=null,Lc(o,l,b,7));break;case 5:var I=null;switch(dt.tag){case 26:I=dt.memoizedState;case 5:case 27:var V=dt;if(!I||_C(I)){Dt=0,Ti=null;var K=V.sibling;if(K!==null)dt=K;else{var oe=V.return;oe!==null?(dt=oe,Pm(oe)):dt=null}break t}}Dt=0,Ti=null,Lc(o,l,b,5);break;case 6:Dt=0,Ti=null,Lc(o,l,b,6);break;case 8:L0(),cn=6;break e;default:throw Error(r(462))}}dz();break}catch(he){DR(o,he)}while(!0);return No=eu=null,$.H=d,$.A=y,Mt=f,dt!==null?0:(Gt=null,Et=0,nm(),cn)}function dz(){for(;dt!==null&&!vs();)VR(dt)}function VR(o){var l=cR(o.alternate,o,Bo);o.memoizedProps=o.pendingProps,l===null?Pm(o):dt=l}function UR(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=iR(f,l,l.pendingProps,l.type,void 0,Et);break;case 11:l=iR(f,l,l.pendingProps,l.type.render,l.ref,Et);break;case 5:Z_(l);default:hR(f,l),l=dt=zS(l,Bo),l=cR(f,l,Bo)}o.memoizedProps=o.pendingProps,l===null?Pm(o):dt=l}function Lc(o,l,f,d){No=eu=null,Z_(l),Cc=null,Ah=0;var y=l.return;try{if(nz(o,y,l,f,Et)){cn=1,Rm(o,Ki(f,o.current)),dt=null;return}}catch(b){if(y!==null)throw dt=y,b;cn=1,Rm(o,Ki(f,o.current)),dt=null;return}l.flags&32768?(xt||d===1?o=!0:Oc||(Et&536870912)!==0?o=!1:(wa=o=!0,(d===2||d===9||d===3||d===6)&&(d=Ji.current,d!==null&&d.tag===13&&(d.flags|=16384))),zR(l,o)):Pm(l)}function Pm(o){var l=o;do{if((l.flags&32768)!==0){zR(l,wa);return}o=l.return;var f=iz(l.alternate,l,Bo);if(f!==null){dt=f;return}if(l=l.sibling,l!==null){dt=l;return}dt=l=o}while(l!==null);cn===0&&(cn=5)}function zR(o,l){do{var f=sz(o.alternate,o);if(f!==null){f.flags&=32767,dt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){dt=o;return}dt=o=f}while(o!==null);cn=6,dt=null}function BR(o,l,f,d,y,b,I,V,K){o.cancelPendingCommit=null;do Lm();while(ar!==0);if((Mt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=x_,Us(o,f,b,I,V,K),o===Gt&&(dt=Gt=null,Et=0),Mc=l,Ca=o,Dc=f,M0=b,D0=y,kR=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,yz(ji,function(){return $R(),null})):(o.callbackNode=null,o.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,y=G.p,G.p=2,I=Mt,Mt|=4;try{oz(o,l,f)}finally{Mt=I,G.p=y,$.T=d}}ar=1,jR(),FR(),HR()}}function jR(){if(ar===1){ar=0;var o=Ca,l=Mc,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=$.T,$.T=null;var d=G.p;G.p=2;var y=Mt;Mt|=4;try{ER(l,o);var b=Q0,I=IS(o.containerInfo),V=b.focusedElem,K=b.selectionRange;if(I!==V&&V&&V.ownerDocument&&xS(V.ownerDocument.documentElement,V)){if(K!==null&&E_(V)){var oe=K.start,he=K.end;if(he===void 0&&(he=oe),"selectionStart"in V)V.selectionStart=oe,V.selectionEnd=Math.min(he,V.value.length);else{var me=V.ownerDocument||document,ae=me&&me.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Qe=V.textContent.length,Ge=Math.min(K.start,Qe),Ut=K.end===void 0?Ge:Math.min(K.end,Qe);!le.extend&&Ge>Ut&&(I=Ut,Ut=Ge,Ge=I);var ee=CS(V,Ge),X=CS(V,Ut);if(ee&&X&&(le.rangeCount!==1||le.anchorNode!==ee.node||le.anchorOffset!==ee.offset||le.focusNode!==X.node||le.focusOffset!==X.offset)){var se=me.createRange();se.setStart(ee.node,ee.offset),le.removeAllRanges(),Ge>Ut?(le.addRange(se),le.extend(X.node,X.offset)):(se.setEnd(X.node,X.offset),le.addRange(se))}}}}for(me=[],le=V;le=le.parentNode;)le.nodeType===1&&me.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<me.length;V++){var de=me[V];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Km=!!Y0,Q0=Y0=null}finally{Mt=y,G.p=d,$.T=f}}o.current=l,ar=2}}function FR(){if(ar===2){ar=0;var o=Ca,l=Mc,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=$.T,$.T=null;var d=G.p;G.p=2;var y=Mt;Mt|=4;try{_R(o,l.alternate,l)}finally{Mt=y,G.p=d,$.T=f}}ar=3}}function HR(){if(ar===4||ar===3){ar=0,Ds();var o=Ca,l=Mc,f=Dc,d=kR;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ar=5:(ar=0,Mc=Ca=null,qR(o,o.pendingLanes));var y=o.pendingLanes;if(y===0&&(Ra=null),zs(f),l=l.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(ut,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=$.T,y=G.p,G.p=2,$.T=null;try{for(var b=o.onRecoverableError,I=0;I<d.length;I++){var V=d[I];b(V.value,{componentStack:V.stack})}}finally{$.T=l,G.p=y}}(Dc&3)!==0&&Lm(),Js(o),y=o.pendingLanes,(f&4194090)!==0&&(y&42)!==0?o===P0?kh++:(kh=0,P0=o):kh=0,Oh(0)}}function qR(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,ch(l)))}function Lm(o){return jR(),FR(),HR(),$R()}function $R(){if(ar!==5)return!1;var o=Ca,l=M0;M0=0;var f=zs(Dc),d=$.T,y=G.p;try{G.p=32>f?32:f,$.T=null,f=D0,D0=null;var b=Ca,I=Dc;if(ar=0,Mc=Ca=null,Dc=0,(Mt&6)!==0)throw Error(r(331));var V=Mt;if(Mt|=4,xR(b.current),SR(b,b.current,I,f),Mt=V,Oh(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(ut,b)}catch{}return!0}finally{G.p=y,$.T=d,qR(o,l)}}function GR(o,l,f){l=Ki(f,l),l=d0(o.stateNode,l,2),o=ya(o,l,2),o!==null&&(tr(o,2),Js(o))}function Ht(o,l,f){if(o.tag===3)GR(o,o,f);else for(;l!==null;){if(l.tag===3){GR(l,o,f);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ra===null||!Ra.has(d))){o=Ki(f,o),f=Q1(2),d=ya(l,f,2),d!==null&&(X1(f,d,l,o),tr(d,2),Js(d));break}}l=l.return}}function z0(o,l,f){var d=o.pingCache;if(d===null){d=o.pingCache=new uz;var y=new Set;d.set(l,y)}else y=d.get(l),y===void 0&&(y=new Set,d.set(l,y));y.has(f)||(I0=!0,y.add(f),o=pz.bind(null,o,l,f),l.then(o,o))}function pz(o,l,f){var d=o.pingCache;d!==null&&d.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Gt===o&&(Et&f)===f&&(cn===4||cn===3&&(Et&62914560)===Et&&300>ln()-N0?(Mt&2)===0&&Pc(o,0):k0|=f,Nc===Et&&(Nc=0)),Js(o)}function WR(o,l){l===0&&(l=Fi()),o=yc(o,l),o!==null&&(tr(o,l),Js(o))}function mz(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),WR(o,f)}function gz(o,l){var f=0;switch(o.tag){case 13:var d=o.stateNode,y=o.memoizedState;y!==null&&(f=y.retryLane);break;case 19:d=o.stateNode;break;case 22:d=o.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(l),WR(o,f)}function yz(o,l){return pi(o,l)}var Vm=null,Vc=null,B0=!1,Um=!1,j0=!1,au=0;function Js(o){o!==Vc&&o.next===null&&(Vc===null?Vm=Vc=o:Vc=Vc.next=o),Um=!0,B0||(B0=!0,_z())}function Oh(o,l){if(!j0&&Um){j0=!0;do for(var f=!1,d=Vm;d!==null;){if(o!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var I=d.suspendedLanes,V=d.pingedLanes;b=(1<<31-Zt(42|o)+1)-1,b&=y&~(I&~V),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(f=!0,XR(d,b))}else b=Et,b=gi(d,d===Gt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||yr(d,b)||(f=!0,XR(d,b));d=d.next}while(f);j0=!1}}function vz(){KR()}function KR(){Um=B0=!1;var o=0;au!==0&&(Cz()&&(o=au),au=0);for(var l=ln(),f=null,d=Vm;d!==null;){var y=d.next,b=YR(d,l);b===0?(d.next=null,f===null?Vm=y:f.next=y,y===null&&(Vc=f)):(f=d,(o!==0||(b&3)!==0)&&(Um=!0)),d=y}Oh(o)}function YR(o,l){for(var f=o.suspendedLanes,d=o.pingedLanes,y=o.expirationTimes,b=o.pendingLanes&-62914561;0<b;){var I=31-Zt(b),V=1<<I,K=y[I];K===-1?((V&f)===0||(V&d)!==0)&&(y[I]=Vs(V,l)):K<=l&&(o.expiredLanes|=V),b&=~V}if(l=Gt,f=Et,f=gi(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d=o.callbackNode,f===0||o===l&&(Dt===2||Dt===9)||o.cancelPendingCommit!==null)return d!==null&&d!==null&&Jt(d),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||yr(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(d!==null&&Jt(d),zs(f)){case 2:case 8:f=_s;break;case 32:f=ji;break;case 268435456:f=gr;break;default:f=ji}return d=QR.bind(null,o),f=pi(f,d),o.callbackPriority=l,o.callbackNode=f,l}return d!==null&&d!==null&&Jt(d),o.callbackPriority=2,o.callbackNode=null,2}function QR(o,l){if(ar!==0&&ar!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Lm()&&o.callbackNode!==f)return null;var d=Et;return d=gi(o,o===Gt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d===0?null:(NR(o,d,l),YR(o,ln()),o.callbackNode!=null&&o.callbackNode===f?QR.bind(null,o):null)}function XR(o,l){if(Lm())return null;NR(o,l,!0)}function _z(){Iz(function(){(Mt&6)!==0?pi(Bi,vz):KR()})}function F0(){return au===0&&(au=Kr()),au}function JR(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:sc(""+o)}function ZR(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function bz(o,l,f,d,y){if(l==="submit"&&f&&f.stateNode===y){var b=JR((y[Ae]||null).action),I=d.submitter;I&&(l=(l=I[Ae]||null)?JR(l.formAction):I.getAttribute("formAction"),l!==null&&(b=l,I=null));var V=new oc("action","action",null,d,y);o.push({event:V,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(au!==0){var K=I?ZR(y,I):new FormData(y);l0(f,{pending:!0,data:K,method:y.method,action:b},null,K)}}else typeof b=="function"&&(V.preventDefault(),K=I?ZR(y,I):new FormData(y),l0(f,{pending:!0,data:K,method:y.method,action:b},b,K))},currentTarget:y}]})}}for(var H0=0;H0<C_.length;H0++){var q0=C_[H0],Az=q0.toLowerCase(),Tz=q0[0].toUpperCase()+q0.slice(1);As(Az,"on"+Tz)}As(NS,"onAnimationEnd"),As(MS,"onAnimationIteration"),As(DS,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(zU,"onTransitionRun"),As(BU,"onTransitionStart"),As(jU,"onTransitionCancel"),As(PS,"onTransitionEnd"),xe("onMouseEnter",["mouseout","mouseover"]),xe("onMouseLeave",["mouseout","mouseover"]),xe("onPointerEnter",["pointerout","pointerover"]),xe("onPointerLeave",["pointerout","pointerover"]),ve("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ve("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ve("onBeforeInput",["compositionend","keypress","textInput","paste"]),ve("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ve("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ve("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ez=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nh));function eC(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var d=o[f],y=d.event;d=d.listeners;e:{var b=void 0;if(l)for(var I=d.length-1;0<=I;I--){var V=d[I],K=V.instance,oe=V.currentTarget;if(V=V.listener,K!==b&&y.isPropagationStopped())break e;b=V,y.currentTarget=oe;try{b(y)}catch(he){Sm(he)}y.currentTarget=null,b=K}else for(I=0;I<d.length;I++){if(V=d[I],K=V.instance,oe=V.currentTarget,V=V.listener,K!==b&&y.isPropagationStopped())break e;b=V,y.currentTarget=oe;try{b(y)}catch(he){Sm(he)}y.currentTarget=null,b=K}}}}function pt(o,l){var f=l[Be];f===void 0&&(f=l[Be]=new Set);var d=o+"__bubble";f.has(d)||(tC(l,o,2,!1),f.add(d))}function $0(o,l,f){var d=0;l&&(d|=4),tC(f,o,d,l)}var zm="_reactListening"+Math.random().toString(36).slice(2);function G0(o){if(!o[zm]){o[zm]=!0,Te.forEach(function(f){f!=="selectionchange"&&(Ez.has(f)||$0(f,!1,o),$0(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[zm]||(l[zm]=!0,$0("selectionchange",!1,l))}}function tC(o,l,f,d){switch(SC(l)){case 2:var y=Qz;break;case 8:y=Xz;break;default:y=ob}f=y.bind(null,l,f,o),y=void 0,!Gi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),d?y!==void 0?o.addEventListener(l,f,{capture:!0,passive:y}):o.addEventListener(l,f,!0):y!==void 0?o.addEventListener(l,f,{passive:y}):o.addEventListener(l,f,!1)}function W0(o,l,f,d,y){var b=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var V=d.stateNode.containerInfo;if(V===y)break;if(I===4)for(I=d.return;I!==null;){var K=I.tag;if((K===3||K===4)&&I.stateNode.containerInfo===y)return;I=I.return}for(;V!==null;){if(I=qe(V),I===null)return;if(K=I.tag,K===5||K===6||K===26||K===27){d=b=I;continue e}V=V.parentNode}}d=d.return}jp(function(){var oe=b,he=$i(f),me=[];e:{var ae=LS.get(o);if(ae!==void 0){var le=oc,Qe=o;switch(o){case"keypress":if(Hs(f)===0)break e;case"keydown":case"keyup":le=hc;break;case"focusin":Qe="focus",le=uc;break;case"focusout":Qe="blur",le=uc;break;case"beforeblur":case"afterblur":le=uc;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Wi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=__;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Yp;break;case NS:case MS:case DS:le=cc;break;case PS:le=Xp;break;case"scroll":case"scrollend":le=Fp;break;case"wheel":le=dc;break;case"copy":case"cut":case"paste":le=fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=nh;break;case"toggle":case"beforetoggle":le=Zp}var Ge=(l&4)!==0,Ut=!Ge&&(o==="scroll"||o==="scrollend"),ee=Ge?ae!==null?ae+"Capture":null:ae;Ge=[];for(var X=oe,se;X!==null;){var de=X;if(se=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||se===null||ee===null||(de=Bl(X,ee),de!=null&&Ge.push(Mh(X,de,se))),Ut)break;X=X.return}0<Ge.length&&(ae=new le(ae,Qe,null,f,he),me.push({event:ae,listeners:Ge}))}}if((l&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",le=o==="mouseout"||o==="pointerout",ae&&f!==Eo&&(Qe=f.relatedTarget||f.fromElement)&&(qe(Qe)||Qe[Ce]))break e;if((le||ae)&&(ae=he.window===he?he:(ae=he.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Qe=f.relatedTarget||f.toElement,le=oe,Qe=Qe?qe(Qe):null,Qe!==null&&(Ut=s(Qe),Ge=Qe.tag,Qe!==Ut||Ge!==5&&Ge!==27&&Ge!==6)&&(Qe=null)):(le=null,Qe=oe),le!==Qe)){if(Ge=Wi,de="onMouseLeave",ee="onMouseEnter",X="mouse",(o==="pointerout"||o==="pointerover")&&(Ge=nh,de="onPointerLeave",ee="onPointerEnter",X="pointer"),Ut=le==null?ae:St(le),se=Qe==null?ae:St(Qe),ae=new Ge(de,X+"leave",le,f,he),ae.target=Ut,ae.relatedTarget=se,de=null,qe(he)===oe&&(Ge=new Ge(ee,X+"enter",Qe,f,he),Ge.target=se,Ge.relatedTarget=Ut,de=Ge),Ut=de,le&&Qe)t:{for(Ge=le,ee=Qe,X=0,se=Ge;se;se=Uc(se))X++;for(se=0,de=ee;de;de=Uc(de))se++;for(;0<X-se;)Ge=Uc(Ge),X--;for(;0<se-X;)ee=Uc(ee),se--;for(;X--;){if(Ge===ee||ee!==null&&Ge===ee.alternate)break t;Ge=Uc(Ge),ee=Uc(ee)}Ge=null}else Ge=null;le!==null&&nC(me,ae,le,Ge,!1),Qe!==null&&Ut!==null&&nC(me,Ut,Qe,Ge,!0)}}e:{if(ae=oe?St(oe):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var Le=AS;else if(Vn(ae))if(TS)Le=LU;else{Le=DU;var ct=MU}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?oe&&Yf(oe.elementType)&&(Le=AS):Le=PU;if(Le&&(Le=Le(o,oe))){xo(me,Le,f,he);break e}ct&&ct(o,ae,oe),o==="focusout"&&oe&&ae.type==="number"&&oe.memoizedProps.value!=null&&ha(ae,"number",ae.value)}switch(ct=oe?St(oe):window,o){case"focusin":(Vn(ct)||ct.contentEditable==="true")&&(pc=ct,w_=oe,sh=null);break;case"focusout":sh=w_=pc=null;break;case"mousedown":S_=!0;break;case"contextmenu":case"mouseup":case"dragend":S_=!1,kS(me,f,he);break;case"selectionchange":if(UU)break;case"keydown":case"keyup":kS(me,f,he)}var je;if(Gs)e:{switch(o){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else At?ue(o,f)&&(We="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(We="onCompositionStart");We&&(x&&f.locale!=="ko"&&(At||We!=="onCompositionStart"?We==="onCompositionEnd"&&At&&(je=Xf()):(Fs=he,da="value"in Fs?Fs.value:Fs.textContent,At=!0)),ct=Bm(oe,We),0<ct.length&&(We=new eh(We,o,null,f,he),me.push({event:We,listeners:ct}),je?We.data=je:(je=Se(f),je!==null&&(We.data=je)))),(je=E?Ln(o,f):Tt(o,f))&&(We=Bm(oe,"onBeforeInput"),0<We.length&&(ct=new eh("onBeforeInput","beforeinput",null,f,he),me.push({event:ct,listeners:We}),ct.data=je)),bz(me,o,oe,f,he)}eC(me,l)})}function Mh(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Bm(o,l){for(var f=l+"Capture",d=[];o!==null;){var y=o,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Bl(o,f),y!=null&&d.unshift(Mh(o,y,b)),y=Bl(o,l),y!=null&&d.push(Mh(o,y,b))),o.tag===3)return d;o=o.return}return[]}function Uc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function nC(o,l,f,d,y){for(var b=l._reactName,I=[];f!==null&&f!==d;){var V=f,K=V.alternate,oe=V.stateNode;if(V=V.tag,K!==null&&K===d)break;V!==5&&V!==26&&V!==27||oe===null||(K=oe,y?(oe=Bl(f,b),oe!=null&&I.unshift(Mh(f,oe,K))):y||(oe=Bl(f,b),oe!=null&&I.push(Mh(f,oe,K)))),f=f.return}I.length!==0&&o.push({event:l,listeners:I})}var wz=/\r\n?/g,Sz=/\u0000|\uFFFD/g;function rC(o){return(typeof o=="string"?o:""+o).replace(wz,`
`).replace(Sz,"")}function iC(o,l){return l=rC(l),rC(o)===l}function jm(){}function Vt(o,l,f,d,y,b){switch(f){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||qi(o,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&qi(o,""+d);break;case"className":gn(o,"class",d);break;case"tabIndex":gn(o,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(o,f,d);break;case"style":Kf(o,d,b);break;case"data":if(l!=="object"){gn(o,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=sc(""+d),o.setAttribute(f,d);break;case"action":case"formAction":if(typeof d=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(f==="formAction"?(l!=="input"&&Vt(o,l,"name",y.name,y,null),Vt(o,l,"formEncType",y.formEncType,y,null),Vt(o,l,"formMethod",y.formMethod,y,null),Vt(o,l,"formTarget",y.formTarget,y,null)):(Vt(o,l,"encType",y.encType,y,null),Vt(o,l,"method",y.method,y,null),Vt(o,l,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=sc(""+d),o.setAttribute(f,d);break;case"onClick":d!=null&&(o.onclick=jm);break;case"onScroll":d!=null&&pt("scroll",o);break;case"onScrollEnd":d!=null&&pt("scrollend",o);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(y.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":o.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){o.removeAttribute("xlink:href");break}f=sc(""+d),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""+d):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":d===!0?o.setAttribute(f,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,d):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?o.setAttribute(f,d):o.removeAttribute(f);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?o.removeAttribute(f):o.setAttribute(f,d);break;case"popover":pt("beforetoggle",o),pt("toggle",o),jt(o,"popover",d);break;case"xlinkActuate":Ue(o,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ue(o,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ue(o,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ue(o,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ue(o,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ue(o,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ue(o,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ue(o,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ue(o,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":jt(o,"is",d);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=y_.get(f)||f,jt(o,f,d))}}function K0(o,l,f,d,y,b){switch(f){case"style":Kf(o,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(y.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof d=="string"?qi(o,d):(typeof d=="number"||typeof d=="bigint")&&qi(o,""+d);break;case"onScroll":d!=null&&pt("scroll",o);break;case"onScrollEnd":d!=null&&pt("scrollend",o);break;case"onClick":d!=null&&(o.onclick=jm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Q.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),l=f.slice(2,y?f.length-7:void 0),b=o[Ae]||null,b=b!=null?b[f]:null,typeof b=="function"&&o.removeEventListener(l,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,d,y);break e}f in o?o[f]=d:d===!0?o.setAttribute(f,""):jt(o,f,d)}}}function lr(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",o),pt("load",o);var d=!1,y=!1,b;for(b in f)if(f.hasOwnProperty(b)){var I=f[b];if(I!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Vt(o,l,b,I,f,null)}}y&&Vt(o,l,"srcSet",f.srcSet,f,null),d&&Vt(o,l,"src",f.src,f,null);return;case"input":pt("invalid",o);var V=b=I=y=null,K=null,oe=null;for(d in f)if(f.hasOwnProperty(d)){var he=f[d];if(he!=null)switch(d){case"name":y=he;break;case"type":I=he;break;case"checked":K=he;break;case"defaultChecked":oe=he;break;case"value":b=he;break;case"defaultValue":V=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,l));break;default:Vt(o,l,d,he,f,null)}}Vl(o,b,V,K,oe,I,y,!1),ic(o);return;case"select":pt("invalid",o),d=I=b=null;for(y in f)if(f.hasOwnProperty(y)&&(V=f[y],V!=null))switch(y){case"value":b=V;break;case"defaultValue":I=V;break;case"multiple":d=V;default:Vt(o,l,y,V,f,null)}l=b,f=I,o.multiple=!!d,l!=null?To(o,!!d,l,!1):f!=null&&To(o,!!d,f,!0);return;case"textarea":pt("invalid",o),b=y=d=null;for(I in f)if(f.hasOwnProperty(I)&&(V=f[I],V!=null))switch(I){case"value":d=V;break;case"defaultValue":y=V;break;case"children":b=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Vt(o,l,I,V,f,null)}Ul(o,d,y,b),ic(o);return;case"option":for(K in f)if(f.hasOwnProperty(K)&&(d=f[K],d!=null))switch(K){case"selected":o.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Vt(o,l,K,d,f,null)}return;case"dialog":pt("beforetoggle",o),pt("toggle",o),pt("cancel",o),pt("close",o);break;case"iframe":case"object":pt("load",o);break;case"video":case"audio":for(d=0;d<Nh.length;d++)pt(Nh[d],o);break;case"image":pt("error",o),pt("load",o);break;case"details":pt("toggle",o);break;case"embed":case"source":case"link":pt("error",o),pt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in f)if(f.hasOwnProperty(oe)&&(d=f[oe],d!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Vt(o,l,oe,d,f,null)}return;default:if(Yf(l)){for(he in f)f.hasOwnProperty(he)&&(d=f[he],d!==void 0&&K0(o,l,he,d,f,void 0));return}}for(V in f)f.hasOwnProperty(V)&&(d=f[V],d!=null&&Vt(o,l,V,d,f,null))}function Rz(o,l,f,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,I=null,V=null,K=null,oe=null,he=null;for(le in f){var me=f[le];if(f.hasOwnProperty(le)&&me!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":K=me;default:d.hasOwnProperty(le)||Vt(o,l,le,null,d,me)}}for(var ae in d){var le=d[ae];if(me=f[ae],d.hasOwnProperty(ae)&&(le!=null||me!=null))switch(ae){case"type":b=le;break;case"name":y=le;break;case"checked":oe=le;break;case"defaultChecked":he=le;break;case"value":I=le;break;case"defaultValue":V=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:le!==me&&Vt(o,l,ae,le,d,me)}}yi(o,I,V,K,oe,he,b,y);return;case"select":le=I=V=ae=null;for(b in f)if(K=f[b],f.hasOwnProperty(b)&&K!=null)switch(b){case"value":break;case"multiple":le=K;default:d.hasOwnProperty(b)||Vt(o,l,b,null,d,K)}for(y in d)if(b=d[y],K=f[y],d.hasOwnProperty(y)&&(b!=null||K!=null))switch(y){case"value":ae=b;break;case"defaultValue":V=b;break;case"multiple":I=b;default:b!==K&&Vt(o,l,y,b,d,K)}l=V,f=I,d=le,ae!=null?To(o,!!f,ae,!1):!!d!=!!f&&(l!=null?To(o,!!f,l,!0):To(o,!!f,f?[]:"",!1));return;case"textarea":le=ae=null;for(V in f)if(y=f[V],f.hasOwnProperty(V)&&y!=null&&!d.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Vt(o,l,V,null,d,y)}for(I in d)if(y=d[I],b=f[I],d.hasOwnProperty(I)&&(y!=null||b!=null))switch(I){case"value":ae=y;break;case"defaultValue":le=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&Vt(o,l,I,y,d,b)}Pt(o,ae,le);return;case"option":for(var Qe in f)if(ae=f[Qe],f.hasOwnProperty(Qe)&&ae!=null&&!d.hasOwnProperty(Qe))switch(Qe){case"selected":o.selected=!1;break;default:Vt(o,l,Qe,null,d,ae)}for(K in d)if(ae=d[K],le=f[K],d.hasOwnProperty(K)&&ae!==le&&(ae!=null||le!=null))switch(K){case"selected":o.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Vt(o,l,K,ae,d,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in f)ae=f[Ge],f.hasOwnProperty(Ge)&&ae!=null&&!d.hasOwnProperty(Ge)&&Vt(o,l,Ge,null,d,ae);for(oe in d)if(ae=d[oe],le=f[oe],d.hasOwnProperty(oe)&&ae!==le&&(ae!=null||le!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:Vt(o,l,oe,ae,d,le)}return;default:if(Yf(l)){for(var Ut in f)ae=f[Ut],f.hasOwnProperty(Ut)&&ae!==void 0&&!d.hasOwnProperty(Ut)&&K0(o,l,Ut,void 0,d,ae);for(he in d)ae=d[he],le=f[he],!d.hasOwnProperty(he)||ae===le||ae===void 0&&le===void 0||K0(o,l,he,ae,d,le);return}}for(var ee in f)ae=f[ee],f.hasOwnProperty(ee)&&ae!=null&&!d.hasOwnProperty(ee)&&Vt(o,l,ee,null,d,ae);for(me in d)ae=d[me],le=f[me],!d.hasOwnProperty(me)||ae===le||ae==null&&le==null||Vt(o,l,me,ae,d,le)}var Y0=null,Q0=null;function Fm(o){return o.nodeType===9?o:o.ownerDocument}function sC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oC(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function X0(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var J0=null;function Cz(){var o=window.event;return o&&o.type==="popstate"?o===J0?!1:(J0=o,!0):(J0=null,!1)}var aC=typeof setTimeout=="function"?setTimeout:void 0,xz=typeof clearTimeout=="function"?clearTimeout:void 0,lC=typeof Promise=="function"?Promise:void 0,Iz=typeof queueMicrotask=="function"?queueMicrotask:typeof lC<"u"?function(o){return lC.resolve(null).then(o).catch(kz)}:aC;function kz(o){setTimeout(function(){throw o})}function Ia(o){return o==="head"}function uC(o,l){var f=l,d=0,y=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(0<d&&8>d){f=d;var I=o.ownerDocument;if(f&1&&Dh(I.documentElement),f&2&&Dh(I.body),f&4)for(f=I.head,Dh(f),I=f.firstChild;I;){var V=I.nextSibling,K=I.nodeName;I[Fe]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=V}}if(y===0){o.removeChild(b),Fh(l);return}y--}else f==="$"||f==="$?"||f==="$!"?y++:d=f.charCodeAt(0)-48;else d=0;f=b}while(f);Fh(l)}function Z0(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Z0(f),Ie(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function Oz(o,l,f,d){for(;o.nodeType===1;){var y=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(d){if(!o[Fe])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(b=o.getAttribute("rel"),b==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(b!==y.rel||o.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||o.getAttribute("title")!==(y.title==null?null:y.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(b=o.getAttribute("src"),(b!==(y.src==null?null:y.src)||o.getAttribute("type")!==(y.type==null?null:y.type)||o.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&o.getAttribute("name")===b)return o}else return o;if(o=Es(o.nextSibling),o===null)break}return null}function Nz(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Es(o.nextSibling),o===null))return null;return o}function eb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Mz(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var d=function(){l(),f.removeEventListener("DOMContentLoaded",d)};f.addEventListener("DOMContentLoaded",d),o._reactRetry=d}}function Es(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var tb=null;function cC(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function fC(o,l,f){switch(l=Fm(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Dh(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Ie(o)}var es=new Map,hC=new Set;function Hm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var jo=G.d;G.d={f:Dz,r:Pz,D:Lz,C:Vz,L:Uz,m:zz,X:jz,S:Bz,M:Fz};function Dz(){var o=jo.f(),l=Dm();return o||l}function Pz(o){var l=it(o);l!==null&&l.tag===5&&l.type==="form"?N1(l):jo.r(o)}var zc=typeof document>"u"?null:document;function dC(o,l,f){var d=zc;if(d&&typeof l=="string"&&l){var y=wn(l);y='link[rel="'+o+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),hC.has(y)||(hC.add(y),o={rel:o,crossOrigin:f,href:l},d.querySelector(y)===null&&(l=d.createElement("link"),lr(l,"link",o),ht(l),d.head.appendChild(l)))}}function Lz(o){jo.D(o),dC("dns-prefetch",o,null)}function Vz(o,l){jo.C(o,l),dC("preconnect",o,l)}function Uz(o,l,f){jo.L(o,l,f);var d=zc;if(d&&o&&l){var y='link[rel="preload"][as="'+wn(l)+'"]';l==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+wn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+wn(f.imageSizes)+'"]')):y+='[href="'+wn(o)+'"]';var b=y;switch(l){case"style":b=Bc(o);break;case"script":b=jc(o)}es.has(b)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),es.set(b,o),d.querySelector(y)!==null||l==="style"&&d.querySelector(Ph(b))||l==="script"&&d.querySelector(Lh(b))||(l=d.createElement("link"),lr(l,"link",o),ht(l),d.head.appendChild(l)))}}function zz(o,l){jo.m(o,l);var f=zc;if(f&&o){var d=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+wn(d)+'"][href="'+wn(o)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=jc(o)}if(!es.has(b)&&(o=p({rel:"modulepreload",href:o},l),es.set(b,o),f.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Lh(b)))return}d=f.createElement("link"),lr(d,"link",o),ht(d),f.head.appendChild(d)}}}function Bz(o,l,f){jo.S(o,l,f);var d=zc;if(d&&o){var y=_t(d).hoistableStyles,b=Bc(o);l=l||"default";var I=y.get(b);if(!I){var V={loading:0,preload:null};if(I=d.querySelector(Ph(b)))V.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=es.get(b))&&nb(o,f);var K=I=d.createElement("link");ht(K),lr(K,"link",o),K._p=new Promise(function(oe,he){K.onload=oe,K.onerror=he}),K.addEventListener("load",function(){V.loading|=1}),K.addEventListener("error",function(){V.loading|=2}),V.loading|=4,qm(I,l,d)}I={type:"stylesheet",instance:I,count:1,state:V},y.set(b,I)}}}function jz(o,l){jo.X(o,l);var f=zc;if(f&&o){var d=_t(f).hoistableScripts,y=jc(o),b=d.get(y);b||(b=f.querySelector(Lh(y)),b||(o=p({src:o,async:!0},l),(l=es.get(y))&&rb(o,l),b=f.createElement("script"),ht(b),lr(b,"link",o),f.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function Fz(o,l){jo.M(o,l);var f=zc;if(f&&o){var d=_t(f).hoistableScripts,y=jc(o),b=d.get(y);b||(b=f.querySelector(Lh(y)),b||(o=p({src:o,async:!0,type:"module"},l),(l=es.get(y))&&rb(o,l),b=f.createElement("script"),ht(b),lr(b,"link",o),f.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function pC(o,l,f,d){var y=(y=Pe.current)?Hm(y):null;if(!y)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Bc(f.href),f=_t(y).hoistableStyles,d=f.get(l),d||(d={type:"style",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Bc(f.href);var b=_t(y).hoistableStyles,I=b.get(o);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(o,I),(b=y.querySelector(Ph(o)))&&!b._p&&(I.instance=b,I.state.loading=5),es.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},es.set(o,f),b||Hz(y,o,f,I.state))),l&&d===null)throw Error(r(528,""));return I}if(l&&d!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=jc(f),f=_t(y).hoistableScripts,d=f.get(l),d||(d={type:"script",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Bc(o){return'href="'+wn(o)+'"'}function Ph(o){return'link[rel="stylesheet"]['+o+"]"}function mC(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function Hz(o,l,f,d){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=o.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),lr(l,"link",f),ht(l),o.head.appendChild(l))}function jc(o){return'[src="'+wn(o)+'"]'}function Lh(o){return"script[async]"+o}function gC(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var d=o.querySelector('style[data-href~="'+wn(f.href)+'"]');if(d)return l.instance=d,ht(d),d;var y=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return d=(o.ownerDocument||o).createElement("style"),ht(d),lr(d,"style",y),qm(d,f.precedence,o),l.instance=d;case"stylesheet":y=Bc(f.href);var b=o.querySelector(Ph(y));if(b)return l.state.loading|=4,l.instance=b,ht(b),b;d=mC(f),(y=es.get(y))&&nb(d,y),b=(o.ownerDocument||o).createElement("link"),ht(b);var I=b;return I._p=new Promise(function(V,K){I.onload=V,I.onerror=K}),lr(b,"link",d),l.state.loading|=4,qm(b,f.precedence,o),l.instance=b;case"script":return b=jc(f.src),(y=o.querySelector(Lh(b)))?(l.instance=y,ht(y),y):(d=f,(y=es.get(b))&&(d=p({},f),rb(d,y)),o=o.ownerDocument||o,y=o.createElement("script"),ht(y),lr(y,"link",d),o.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,qm(d,f.precedence,o));return l.instance}function qm(o,l,f){for(var d=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,I=0;I<d.length;I++){var V=d[I];if(V.dataset.precedence===l)b=V;else if(b!==y)break}b?b.parentNode.insertBefore(o,b.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function nb(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function rb(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var $m=null;function yC(o,l,f){if($m===null){var d=new Map,y=$m=new Map;y.set(f,d)}else y=$m,d=y.get(f),d||(d=new Map,y.set(f,d));if(d.has(o))return d;for(d.set(o,null),f=f.getElementsByTagName(o),y=0;y<f.length;y++){var b=f[y];if(!(b[Fe]||b[pe]||o==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var I=b.getAttribute(l)||"";I=o+I;var V=d.get(I);V?V.push(b):d.set(I,[b])}}return d}function vC(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function qz(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function _C(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Vh=null;function $z(){}function Gz(o,l,f){if(Vh===null)throw Error(r(475));var d=Vh;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Bc(f.href),b=o.querySelector(Ph(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(d.count++,d=Gm.bind(d),o.then(d,d)),l.state.loading|=4,l.instance=b,ht(b);return}b=o.ownerDocument||o,f=mC(f),(y=es.get(y))&&nb(f,y),b=b.createElement("link"),ht(b);var I=b;I._p=new Promise(function(V,K){I.onload=V,I.onerror=K}),lr(b,"link",f),l.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=Gm.bind(d),o.addEventListener("load",l),o.addEventListener("error",l))}}function Wz(){if(Vh===null)throw Error(r(475));var o=Vh;return o.stylesheets&&o.count===0&&ib(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&ib(o,o.stylesheets),o.unsuspend){var d=o.unsuspend;o.unsuspend=null,d()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Gm(){if(this.count--,this.count===0){if(this.stylesheets)ib(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Wm=null;function ib(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Wm=new Map,l.forEach(Kz,o),Wm=null,Gm.call(o))}function Kz(o,l){if(!(l.state.loading&4)){var f=Wm.get(o);if(f)var d=f.get(null);else{f=new Map,Wm.set(o,f);for(var y=o.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var I=y[b];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(f.set(I.dataset.precedence,I),d=I)}d&&f.set(null,d)}y=l.instance,I=y.getAttribute("data-precedence"),b=f.get(I)||d,b===d&&f.set(null,y),f.set(I,y),this.count++,d=Gm.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(y,o.firstChild)),l.state.loading|=4}}var Uh={$$typeof:j,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Yz(o,l,f,d,y,b,I,V){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function bC(o,l,f,d,y,b,I,V,K,oe,he,me){return o=new Yz(o,l,f,I,V,K,oe,me),l=1,b===!0&&(l|=24),b=_i(3,null,null,l),o.current=b,b.stateNode=o,l=z_(),l.refCount++,o.pooledCache=l,l.refCount++,b.memoizedState={element:d,isDehydrated:f,cache:l},H_(b),o}function AC(o){return o?(o=vc,o):vc}function TC(o,l,f,d,y,b){y=AC(y),d.context===null?d.context=y:d.pendingContext=y,d=ga(l),d.payload={element:f},b=b===void 0?null:b,b!==null&&(d.callback=b),f=ya(o,d,l),f!==null&&(wi(f,o,l),ph(f,o,l))}function EC(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function sb(o,l){EC(o,l),(o=o.alternate)&&EC(o,l)}function wC(o){if(o.tag===13){var l=yc(o,67108864);l!==null&&wi(l,o,67108864),sb(o,67108864)}}var Km=!0;function Qz(o,l,f,d){var y=$.T;$.T=null;var b=G.p;try{G.p=2,ob(o,l,f,d)}finally{G.p=b,$.T=y}}function Xz(o,l,f,d){var y=$.T;$.T=null;var b=G.p;try{G.p=8,ob(o,l,f,d)}finally{G.p=b,$.T=y}}function ob(o,l,f,d){if(Km){var y=ab(d);if(y===null)W0(o,l,d,Ym,f),RC(o,d);else if(Zz(y,o,l,f,d))d.stopPropagation();else if(RC(o,d),l&4&&-1<Jz.indexOf(o)){for(;y!==null;){var b=it(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var I=En(b.pendingLanes);if(I!==0){var V=b;for(V.pendingLanes|=2,V.entangledLanes|=2;I;){var K=1<<31-Zt(I);V.entanglements[1]|=K,I&=~K}Js(b),(Mt&6)===0&&(Nm=ln()+500,Oh(0))}}break;case 13:V=yc(b,2),V!==null&&wi(V,b,2),Dm(),sb(b,2)}if(b=ab(d),b===null&&W0(o,l,d,Ym,f),b===y)break;y=b}y!==null&&d.stopPropagation()}else W0(o,l,d,null,f)}}function ab(o){return o=$i(o),lb(o)}var Ym=null;function lb(o){if(Ym=null,o=qe(o),o!==null){var l=s(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=a(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Ym=o,null}function SC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ps()){case Bi:return 2;case _s:return 8;case ji:case mi:return 32;case gr:return 268435456;default:return 32}default:return 32}}var ub=!1,ka=null,Oa=null,Na=null,zh=new Map,Bh=new Map,Ma=[],Jz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RC(o,l){switch(o){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":zh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bh.delete(l.pointerId)}}function jh(o,l,f,d,y,b){return o===null||o.nativeEvent!==b?(o={blockedOn:l,domEventName:f,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},l!==null&&(l=it(l),l!==null&&wC(l)),o):(o.eventSystemFlags|=d,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function Zz(o,l,f,d,y){switch(l){case"focusin":return ka=jh(ka,o,l,f,d,y),!0;case"dragenter":return Oa=jh(Oa,o,l,f,d,y),!0;case"mouseover":return Na=jh(Na,o,l,f,d,y),!0;case"pointerover":var b=y.pointerId;return zh.set(b,jh(zh.get(b)||null,o,l,f,d,y)),!0;case"gotpointercapture":return b=y.pointerId,Bh.set(b,jh(Bh.get(b)||null,o,l,f,d,y)),!0}return!1}function CC(o){var l=qe(o.target);if(l!==null){var f=s(l);if(f!==null){if(l=f.tag,l===13){if(l=a(f),l!==null){o.blockedOn=l,te(o.priority,function(){if(f.tag===13){var d=Ei();d=rr(d);var y=yc(f,d);y!==null&&wi(y,f,d),sb(f,d)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Qm(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=ab(o.nativeEvent);if(f===null){f=o.nativeEvent;var d=new f.constructor(f.type,f);Eo=d,f.target.dispatchEvent(d),Eo=null}else return l=it(f),l!==null&&wC(l),o.blockedOn=f,!1;l.shift()}return!0}function xC(o,l,f){Qm(o)&&f.delete(l)}function eB(){ub=!1,ka!==null&&Qm(ka)&&(ka=null),Oa!==null&&Qm(Oa)&&(Oa=null),Na!==null&&Qm(Na)&&(Na=null),zh.forEach(xC),Bh.forEach(xC)}function Xm(o,l){o.blockedOn===l&&(o.blockedOn=null,ub||(ub=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eB)))}var Jm=null;function IC(o){Jm!==o&&(Jm=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Jm===o&&(Jm=null);for(var l=0;l<o.length;l+=3){var f=o[l],d=o[l+1],y=o[l+2];if(typeof d!="function"){if(lb(d||f)===null)continue;break}var b=it(f);b!==null&&(o.splice(l,3),l-=3,l0(b,{pending:!0,data:y,method:f.method,action:d},d,y))}}))}function Fh(o){function l(K){return Xm(K,o)}ka!==null&&Xm(ka,o),Oa!==null&&Xm(Oa,o),Na!==null&&Xm(Na,o),zh.forEach(l),Bh.forEach(l);for(var f=0;f<Ma.length;f++){var d=Ma[f];d.blockedOn===o&&(d.blockedOn=null)}for(;0<Ma.length&&(f=Ma[0],f.blockedOn===null);)CC(f),f.blockedOn===null&&Ma.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(d=0;d<f.length;d+=3){var y=f[d],b=f[d+1],I=y[Ae]||null;if(typeof b=="function")I||IC(f);else if(I){var V=null;if(b&&b.hasAttribute("formAction")){if(y=b,I=b[Ae]||null)V=I.formAction;else if(lb(y)!==null)continue}else V=I.action;typeof V=="function"?f[d+1]=V:(f.splice(d,3),d-=3),IC(f)}}}function cb(o){this._internalRoot=o}Zm.prototype.render=cb.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,d=Ei();TC(f,d,o,l,null,null)},Zm.prototype.unmount=cb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;TC(o.current,2,null,o,null,null),Dm(),l[Ce]=null}};function Zm(o){this._internalRoot=o}Zm.prototype.unstable_scheduleHydration=function(o){if(o){var l=Y();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Ma.length&&l!==0&&l<Ma[f].priority;f++);Ma.splice(f,0,o),f===0&&CC(o)}};var kC=e.version;if(kC!=="19.1.0")throw Error(r(527,kC,"19.1.0"));G.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var tB={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eg.isDisabled&&eg.supportsFiber)try{ut=eg.inject(tB),et=eg}catch{}}return qh.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,d="",y=G1,b=W1,I=K1,V=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(V=l.unstable_transitionCallbacks)),l=bC(o,1,!1,null,null,f,d,y,b,I,V,null),o[Ce]=l.current,G0(o),new cb(l)},qh.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var d=!1,y="",b=G1,I=W1,V=K1,K=null,oe=null;return f!=null&&(f.unstable_strictMode===!0&&(d=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(b=f.onUncaughtError),f.onCaughtError!==void 0&&(I=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(K=f.unstable_transitionCallbacks),f.formState!==void 0&&(oe=f.formState)),l=bC(o,1,!0,l,f??null,d,y,b,I,V,K,oe),l.context=AC(null),f=l.current,d=Ei(),d=rr(d),y=ga(d),y.callback=null,ya(f,y,d),f=d,l.current.lanes=f,tr(l,f),Js(l),o[Ce]=l.current,G0(o),new Zm(l)},qh.version="19.1.0",qh}var BC;function cB(){if(BC)return db.exports;BC=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),db.exports=uB(),db.exports}var fB=cB(),$h={},jC;function hB(){if(jC)return $h;jC=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.parse=a,$h.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,_){const A=new s,T=v.length;if(T<2)return A;const w=(_==null?void 0:_.decode)||p;let O=0;do{const M=v.indexOf("=",O);if(M===-1)break;const j=v.indexOf(";",O),q=j===-1?T:j;if(M>q){O=v.lastIndexOf(";",M-1)+1;continue}const U=u(v,O,M),D=c(v,M,U),L=v.slice(U,D);if(A[L]===void 0){let S=u(v,M+1,q),C=c(v,q,S);const B=w(v.slice(S,C));A[L]=B}O=q+1}while(O<T);return A}function u(v,_,A){do{const T=v.charCodeAt(_);if(T!==32&&T!==9)return _}while(++_<A);return A}function c(v,_,A){for(;_>A;){const T=v.charCodeAt(--_);if(T!==32&&T!==9)return _+1}return A}function h(v,_,A){const T=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const w=T(_);if(!e.test(w))throw new TypeError(`argument val is invalid: ${_}`);let O=v+"="+w;if(!A)return O;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);O+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);O+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);O+="; Path="+A.path}if(A.expires){if(!m(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);O+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(O+="; HttpOnly"),A.secure&&(O+="; Secure"),A.partitioned&&(O+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return O}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function m(v){return i.call(v)==="[object Date]"}return $h}hB();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _N=n=>{throw TypeError(n)},dB=(n,e,t)=>e.has(n)||_N("Cannot "+t),yb=(n,e,t)=>(dB(n,e,"read from private field"),t?t.call(n):e.get(n)),pB=(n,e,t)=>e.has(n)?_N("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),FC="popstate";function mB(n={}){function e(r,i){let{pathname:s,search:a,hash:u}=r.location;return $d("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:pl(i)}return yB(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function An(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gB(){return Math.random().toString(36).substring(2,10)}function HC(n,e){return{usr:n.state,key:n.key,idx:e}}function $d(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Cl(e):e,state:t,key:e&&e.key||r||gB()}}function pl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Cl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function yB(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u="POP",c=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function m(){u="POP";let w=p(),O=w==null?null:w-h;h=w,c&&c({action:u,location:T.location,delta:O})}function v(w,O){u="PUSH";let M=$d(T.location,w,O);h=p()+1;let j=HC(M,h),q=T.createHref(M);try{a.pushState(j,"",q)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(q)}s&&c&&c({action:u,location:T.location,delta:1})}function _(w,O){u="REPLACE";let M=$d(T.location,w,O);h=p();let j=HC(M,h),q=T.createHref(M);a.replaceState(j,"",q),s&&c&&c({action:u,location:T.location,delta:0})}function A(w){let O=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof w=="string"?w:pl(w);return M=M.replace(/ $/,"%20"),ft(O,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,O)}let T={get action(){return u},get location(){return n(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(FC,m),c=w,()=>{i.removeEventListener(FC,m),c=null}},createHref(w){return e(i,w)},createURL:A,encodeLocation(w){let O=A(w);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:_,go(w){return a.go(w)}};return T}var hd,qC=class{constructor(n){if(pB(this,hd,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(yb(this,hd).has(n))return yb(this,hd).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){yb(this,hd).set(n,e)}};hd=new WeakMap;var vB=new Set(["lazy","caseSensitive","path","id","index","children"]);function _B(n){return vB.has(n)}var bB=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function AB(n){return bB.has(n)}function TB(n){return n.index===!0}function Xg(n,e,t=[],r={}){return n.map((i,s)=>{let a=[...t,String(s)],u=typeof i.id=="string"?i.id:a.join("-");if(ft(i.index!==!0||!i.children,"Cannot specify children on an index route"),ft(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),TB(i)){let c={...i,...e(i),id:u};return r[u]=c,c}else{let c={...i,...e(i),id:u,children:void 0};return r[u]=c,i.children&&(c.children=Xg(i.children,e,a,r)),c}})}function Fa(n,e,t="/"){return Rg(n,e,t,!1)}function Rg(n,e,t,r){let i=typeof e=="string"?Cl(e):e,s=fs(i.pathname||"/",t);if(s==null)return null;let a=bN(n);wB(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let h=PB(s);u=MB(a[c],h,r)}return u}function EB(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function bN(n,e=[],t=[],r=""){let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(ft(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=lo([r,c.relativePath]),p=t.concat(c);s.children&&s.children.length>0&&(ft(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),bN(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:OB(h,s.index),routesMeta:p})};return n.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of AN(s.path))i(s,a,c)}),e}function AN(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=AN(r.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function wB(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NB(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var SB=/^:[\w-]+$/,RB=3,CB=2,xB=1,IB=10,kB=-2,$C=n=>n==="*";function OB(n,e){let t=n.split("/"),r=t.length;return t.some($C)&&(r+=kB),e&&(r+=CB),t.filter(i=>!$C(i)).reduce((i,s)=>i+(SB.test(s)?RB:s===""?xB:IB),r)}function NB(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function MB(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=Jg({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),v=c.route;if(!m&&h&&t&&!r[r.length-1].route.index&&(m=Jg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:lo([s,m.pathname]),pathnameBase:UB(lo([s,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(s=lo([s,m.pathnameBase]))}return a}function Jg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=DB(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:m},v)=>{if(p==="*"){let A=u[v]||"";a=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const _=u[v];return m&&!_?h[p]=void 0:h[p]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:n}}function DB(n,e=!1,t=!0){An(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function PB(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function fs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function LB(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Cl(n):n;return{pathname:t?t.startsWith("/")?t:VB(t,e):e,search:zB(r),hash:BB(i)}}function VB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function vb(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vv(n){let e=TN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function _v(n,e,t,r=!1){let i;typeof n=="string"?i=Cl(n):(i={...n},ft(!i.pathname||!i.pathname.includes("?"),vb("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),vb("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),vb("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=t;else{let m=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}u=m>=0?e[m]:"/"}let c=LB(i,u),h=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var lo=n=>n.join("/").replace(/\/\/+/g,"/"),UB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zB=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BB=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Zg=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Gd(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var EN=["POST","PUT","PATCH","DELETE"],jB=new Set(EN),FB=["GET",...EN],HB=new Set(FB),qB=new Set([301,302,303,307,308]),$B=new Set([307,308]),_b={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GB={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},sE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WB=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),wN="remix-router-transitions",SN=Symbol("ResetLoaderData");function KB(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ft(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],i=n.mapRouteProperties||WB,s={},a=Xg(n.routes,i,void 0,s),u,c=n.basename||"/",h=n.dataStrategy||ZB,p={unstable_middleware:!1,...n.future},m=null,v=new Set,_=null,A=null,T=null,w=n.hydrationData!=null,O=Fa(a,n.history.location,c),M=!1,j=null;if(O==null&&!n.patchRoutesOnNavigation){let Y=is(404,{pathname:n.history.location.pathname}),{matches:te,route:ie}=rx(a);O=te,j={[ie.id]:Y}}O&&!n.hydrationData&&nr(O,a,n.history.location.pathname).active&&(O=null);let q;if(O)if(O.some(Y=>Y.route.lazy))q=!1;else if(!O.some(Y=>Y.route.loader))q=!0;else{let Y=n.hydrationData?n.hydrationData.loaderData:null,te=n.hydrationData?n.hydrationData.errors:null;if(te){let ie=O.findIndex(pe=>te[pe.route.id]!==void 0);q=O.slice(0,ie+1).every(pe=>!OA(pe.route,Y,te))}else q=O.every(ie=>!OA(ie.route,Y,te))}else{q=!1,O=[];let Y=nr(null,a,n.history.location.pathname);Y.active&&Y.matches&&(M=!0,O=Y.matches)}let U,D={historyAction:n.history.action,location:n.history.location,matches:O,initialized:q,navigation:_b,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||j,fetchers:new Map,blockers:new Map},L="POP",S=!1,C,B=!1,P=new Map,N=null,k=!1,J=!1,F=new Set,$=new Map,G=0,Z=-1,_e=new Map,H=new Set,ne=new Map,fe=new Map,ce=new Set,we=new Map,Re,Pe=null;function zt(){if(m=n.history.listen(({action:Y,location:te,delta:ie})=>{if(Re){Re(),Re=void 0;return}An(we.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let pe=Vs({currentLocation:D.location,nextLocation:te,historyAction:Y});if(pe&&ie!=null){let Ae=new Promise(Ce=>{Re=Ce});n.history.go(ie*-1),yr(pe,{state:"blocked",location:te,proceed(){yr(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),Ae.then(()=>n.history.go(ie))},reset(){let Ce=new Map(D.blockers);Ce.set(pe,Gh),Ot({blockers:Ce})}});return}return Jt(Y,te)}),t){cj(e,P);let Y=()=>fj(e,P);e.addEventListener("pagehide",Y),N=()=>e.removeEventListener("pagehide",Y)}return D.initialized||Jt("POP",D.location,{initialHydration:!0}),U}function vt(){m&&m(),N&&N(),v.clear(),C&&C.abort(),D.fetchers.forEach((Y,te)=>Zt(te)),D.blockers.forEach((Y,te)=>gi(te))}function Yt(Y){return v.add(Y),()=>v.delete(Y)}function Ot(Y,te={}){D={...D,...Y};let ie=[],pe=[];D.fetchers.forEach((Ae,Ce)=>{Ae.state==="idle"&&(ce.has(Ce)?ie.push(Ce):pe.push(Ce))}),ce.forEach(Ae=>{!D.fetchers.has(Ae)&&!$.has(Ae)&&ie.push(Ae)}),[...v].forEach(Ae=>Ae(D,{deletedFetchers:ie,viewTransitionOpts:te.viewTransitionOpts,flushSync:te.flushSync===!0})),ie.forEach(Ae=>Zt(Ae)),pe.forEach(Ae=>D.fetchers.delete(Ae))}function Dn(Y,te,{flushSync:ie}={}){var ze,Fe;let pe=D.actionData!=null&&D.navigation.formMethod!=null&&Ci(D.navigation.formMethod)&&D.navigation.state==="loading"&&((ze=Y.state)==null?void 0:ze._isRedirect)!==!0,Ae;te.actionData?Object.keys(te.actionData).length>0?Ae=te.actionData:Ae=null:pe?Ae=D.actionData:Ae=null;let Ce=te.loaderData?tx(D.loaderData,te.loaderData,te.matches||[],te.errors):D.loaderData,Be=D.blockers;Be.size>0&&(Be=new Map(Be),Be.forEach((Ie,qe)=>Be.set(qe,Gh)));let Oe=S===!0||D.navigation.formMethod!=null&&Ci(D.navigation.formMethod)&&((Fe=Y.state)==null?void 0:Fe._isRedirect)!==!0;u&&(a=u,u=void 0),k||L==="POP"||(L==="PUSH"?n.history.push(Y,Y.state):L==="REPLACE"&&n.history.replace(Y,Y.state));let De;if(L==="POP"){let Ie=P.get(D.location.pathname);Ie&&Ie.has(Y.pathname)?De={currentLocation:D.location,nextLocation:Y}:P.has(Y.pathname)&&(De={currentLocation:Y,nextLocation:D.location})}else if(B){let Ie=P.get(D.location.pathname);Ie?Ie.add(Y.pathname):(Ie=new Set([Y.pathname]),P.set(D.location.pathname,Ie)),De={currentLocation:D.location,nextLocation:Y}}Ot({...te,actionData:Ae,loaderData:Ce,historyAction:L,location:Y,initialized:!0,navigation:_b,revalidation:"idle",restoreScrollPosition:Us(Y,te.matches||D.matches),preventScrollReset:Oe,blockers:Be},{viewTransitionOpts:De,flushSync:ie===!0}),L="POP",S=!1,B=!1,k=!1,J=!1,Pe==null||Pe.resolve(),Pe=null}async function er(Y,te){if(typeof Y=="number"){n.history.go(Y);return}let ie=kA(D.location,D.matches,c,Y,te==null?void 0:te.fromRouteId,te==null?void 0:te.relative),{path:pe,submission:Ae,error:Ce}=GC(!1,ie,te),Be=D.location,Oe=$d(D.location,pe,te&&te.state);Oe={...Oe,...n.history.encodeLocation(Oe)};let De=te&&te.replace!=null?te.replace:void 0,ze="PUSH";De===!0?ze="REPLACE":De===!1||Ae!=null&&Ci(Ae.formMethod)&&Ae.formAction===D.location.pathname+D.location.search&&(ze="REPLACE");let Fe=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,Ie=(te&&te.flushSync)===!0,qe=Vs({currentLocation:Be,nextLocation:Oe,historyAction:ze});if(qe){yr(qe,{state:"blocked",location:Oe,proceed(){yr(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Oe}),er(Y,te)},reset(){let it=new Map(D.blockers);it.set(qe,Gh),Ot({blockers:it})}});return}await Jt(ze,Oe,{submission:Ae,pendingError:Ce,preventScrollReset:Fe,replace:te&&te.replace,enableViewTransition:te&&te.viewTransition,flushSync:Ie})}function pi(){Pe||(Pe=hj()),Mr(),Ot({revalidation:"loading"});let Y=Pe.promise;return D.navigation.state==="submitting"?Y:D.navigation.state==="idle"?(Jt(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),Y):(Jt(L||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:B===!0}),Y)}async function Jt(Y,te,ie){C&&C.abort(),C=null,L=Y,k=(ie&&ie.startUninterruptedRevalidation)===!0,tr(D.location,D.matches),S=(ie&&ie.preventScrollReset)===!0,B=(ie&&ie.enableViewTransition)===!0;let pe=u||a,Ae=ie&&ie.overrideNavigation,Ce=ie!=null&&ie.initialHydration&&D.matches&&D.matches.length>0&&!M?D.matches:Fa(pe,te,c),Be=(ie&&ie.flushSync)===!0;if(Ce&&D.initialized&&!J&&sj(D.location,te)&&!(ie&&ie.submission&&Ci(ie.submission.formMethod))){Dn(te,{matches:Ce},{flushSync:Be});return}let Oe=nr(Ce,pe,te.pathname);if(Oe.active&&Oe.matches&&(Ce=Oe.matches),!Ce){let{error:_t,notFoundMatches:ht,route:Te}=Kr(te.pathname);Dn(te,{matches:ht,loaderData:{},errors:{[Te.id]:_t}},{flushSync:Be});return}C=new AbortController;let De=$c(n.history,te,C.signal,ie&&ie.submission),ze=new qC(n.unstable_getContext?await n.unstable_getContext():void 0),Fe;if(ie&&ie.pendingError)Fe=[pu(Ce).route.id,{type:"error",error:ie.pendingError}];else if(ie&&ie.submission&&Ci(ie.submission.formMethod)){let _t=await vs(De,te,ie.submission,Ce,ze,Oe.active,ie&&ie.initialHydration===!0,{replace:ie.replace,flushSync:Be});if(_t.shortCircuited)return;if(_t.pendingActionResult){let[ht,Te]=_t.pendingActionResult;if(Ri(Te)&&Gd(Te.error)&&Te.error.status===404){C=null,Dn(te,{matches:_t.matches,loaderData:{},errors:{[ht]:Te.error}});return}}Ce=_t.matches||Ce,Fe=_t.pendingActionResult,Ae=bb(te,ie.submission),Be=!1,Oe.active=!1,De=$c(n.history,De.url,De.signal)}let{shortCircuited:Ie,matches:qe,loaderData:it,errors:St}=await Ds(De,te,Ce,ze,Oe.active,Ae,ie&&ie.submission,ie&&ie.fetcherSubmission,ie&&ie.replace,ie&&ie.initialHydration===!0,Be,Fe);Ie||(C=null,Dn(te,{matches:qe||Ce,...nx(Fe),loaderData:it,errors:St}))}async function vs(Y,te,ie,pe,Ae,Ce,Be,Oe={}){Mr();let De=lj(te,ie);if(Ot({navigation:De},{flushSync:Oe.flushSync===!0}),Ce){let Ie=await Nt(pe,te.pathname,Y.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){let qe=pu(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,pendingActionResult:[qe,{type:"error",error:Ie.error}]}}else if(Ie.matches)pe=Ie.matches;else{let{notFoundMatches:qe,error:it,route:St}=Kr(te.pathname);return{matches:qe,pendingActionResult:[St.id,{type:"error",error:it}]}}}let ze,Fe=dd(pe,te);if(!Fe.route.action&&!Fe.route.lazy)ze={type:"error",error:is(405,{method:Y.method,pathname:te.pathname,routeId:Fe.route.id})};else{let Ie=rf(i,s,Y,pe,Fe,Be?[]:r,Ae),qe=await gr(Y,Ie,Ae,null);if(ze=qe[Fe.route.id],!ze){for(let it of pe)if(qe[it.route.id]){ze=qe[it.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(vu(ze)){let Ie;return Oe&&Oe.replace!=null?Ie=Oe.replace:Ie=JC(ze.response.headers.get("Location"),new URL(Y.url),c)===D.location.pathname+D.location.search,await mi(Y,ze,!0,{submission:ie,replace:Ie}),{shortCircuited:!0}}if(Ri(ze)){let Ie=pu(pe,Fe.route.id);return(Oe&&Oe.replace)!==!0&&(L="PUSH"),{matches:pe,pendingActionResult:[Ie.route.id,ze,Fe.route.id]}}return{matches:pe,pendingActionResult:[Fe.route.id,ze]}}async function Ds(Y,te,ie,pe,Ae,Ce,Be,Oe,De,ze,Fe,Ie){let qe=Ce||bb(te,Be),it=Be||Oe||sx(qe),St=!k&&!ze;if(Ae){if(St){let tn=ln(Ie);Ot({navigation:qe,...tn!==void 0?{actionData:tn}:{}},{flushSync:Fe})}let Ue=await Nt(ie,te.pathname,Y.signal);if(Ue.type==="aborted")return{shortCircuited:!0};if(Ue.type==="error"){let tn=pu(Ue.partialMatches).route.id;return{matches:Ue.partialMatches,loaderData:{},errors:{[tn]:Ue.error}}}else if(Ue.matches)ie=Ue.matches;else{let{error:tn,notFoundMatches:vr,route:Qr}=Kr(te.pathname);return{matches:vr,loaderData:{},errors:{[Qr.id]:tn}}}}let _t=u||a,{dsMatches:ht,revalidatingFetchers:Te}=WC(Y,pe,i,s,n.history,D,ie,it,te,ze?[]:r,ze===!0,J,F,ce,ne,H,_t,c,Ie);if(Z=++G,!n.dataStrategy&&!ht.some(Ue=>Ue.shouldLoad)&&Te.length===0){let Ue=Lr();return Dn(te,{matches:ie,loaderData:{},errors:Ie&&Ri(Ie[1])?{[Ie[0]]:Ie[1].error}:null,...nx(Ie),...Ue?{fetchers:new Map(D.fetchers)}:{}},{flushSync:Fe}),{shortCircuited:!0}}if(St){let Ue={};if(!Ae){Ue.navigation=qe;let tn=ln(Ie);tn!==void 0&&(Ue.actionData=tn)}Te.length>0&&(Ue.fetchers=Ps(Te)),Ot(Ue,{flushSync:Fe})}Te.forEach(Ue=>{Dr(Ue.key),Ue.controller&&$.set(Ue.key,Ue.controller)});let Q=()=>Te.forEach(Ue=>Dr(Ue.key));C&&C.signal.addEventListener("abort",Q);let{loaderResults:ve,fetcherResults:xe}=await Wr(ht,Te,Y,pe);if(Y.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Q),Te.forEach(Ue=>$.delete(Ue.key));let tt=tg(ve);if(tt)return await mi(Y,tt.result,!0,{replace:De}),{shortCircuited:!0};if(tt=tg(xe),tt)return H.add(tt.key),await mi(Y,tt.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:Bt,errors:Ct}=ex(D,ie,ve,Ie,Te,xe);ze&&D.errors&&(Ct={...D.errors,...Ct});let en=Lr(),jt=Tn(Z),gn=en||jt||Te.length>0;return{matches:ie,loaderData:Bt,errors:Ct,...gn?{fetchers:new Map(D.fetchers)}:{}}}function ln(Y){if(Y&&!Ri(Y[1]))return{[Y[0]]:Y[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function Ps(Y){return Y.forEach(te=>{let ie=D.fetchers.get(te.key),pe=Wh(void 0,ie?ie.data:void 0);D.fetchers.set(te.key,pe)}),new Map(D.fetchers)}async function Bi(Y,te,ie,pe){Dr(Y);let Ae=(pe&&pe.flushSync)===!0,Ce=u||a,Be=kA(D.location,D.matches,c,ie,te,pe==null?void 0:pe.relative),Oe=Fa(Ce,Be,c),De=nr(Oe,Ce,Be);if(De.active&&De.matches&&(Oe=De.matches),!Oe){et(Y,te,is(404,{pathname:Be}),{flushSync:Ae});return}let{path:ze,submission:Fe,error:Ie}=GC(!0,Be,pe);if(Ie){et(Y,te,Ie,{flushSync:Ae});return}let qe=dd(Oe,ze),it=new qC(n.unstable_getContext?await n.unstable_getContext():void 0),St=(pe&&pe.preventScrollReset)===!0;if(Fe&&Ci(Fe.formMethod)){await _s(Y,te,ze,qe,Oe,it,De.active,Ae,St,Fe);return}ne.set(Y,{routeId:te,path:ze}),await ji(Y,te,ze,qe,Oe,it,De.active,Ae,St,Fe)}async function _s(Y,te,ie,pe,Ae,Ce,Be,Oe,De,ze){Mr(),ne.delete(Y);function Fe(Ft){if(!Ft.route.action&&!Ft.route.lazy){let Hi=is(405,{method:ze.formMethod,pathname:ie,routeId:te});return et(Y,te,Hi,{flushSync:Oe}),!0}return!1}if(!Be&&Fe(pe))return;let Ie=D.fetchers.get(Y);ut(Y,uj(ze,Ie),{flushSync:Oe});let qe=new AbortController,it=$c(n.history,ie,qe.signal,ze);if(Be){let Ft=await Nt(Ae,ie,it.signal,Y);if(Ft.type==="aborted")return;if(Ft.type==="error"){et(Y,te,Ft.error,{flushSync:Oe});return}else if(Ft.matches){if(Ae=Ft.matches,pe=dd(Ae,ie),Fe(pe))return}else{et(Y,te,is(404,{pathname:ie}),{flushSync:Oe});return}}$.set(Y,qe);let St=G,_t=rf(i,s,it,Ae,pe,r,Ce),Te=(await gr(it,_t,Ce,Y))[pe.route.id];if(it.signal.aborted){$.get(Y)===qe&&$.delete(Y);return}if(ce.has(Y)){if(vu(Te)||Ri(Te)){ut(Y,Va(void 0));return}}else{if(vu(Te))if($.delete(Y),Z>St){ut(Y,Va(void 0));return}else return H.add(Y),ut(Y,Wh(ze)),mi(it,Te,!1,{fetcherSubmission:ze,preventScrollReset:De});if(Ri(Te)){et(Y,te,Te.error);return}}let Q=D.navigation.location||D.location,ve=$c(n.history,Q,qe.signal),xe=u||a,tt=D.navigation.state!=="idle"?Fa(xe,D.navigation.location,c):D.matches;ft(tt,"Didn't find any matches after fetcher action");let Bt=++G;_e.set(Y,Bt);let Ct=Wh(ze,Te.data);D.fetchers.set(Y,Ct);let{dsMatches:en,revalidatingFetchers:jt}=WC(ve,Ce,i,s,n.history,D,tt,ze,Q,r,!1,J,F,ce,ne,H,xe,c,[pe.route.id,Te]);jt.filter(Ft=>Ft.key!==Y).forEach(Ft=>{let Hi=Ft.key,Ao=D.fetchers.get(Hi),ir=Wh(void 0,Ao?Ao.data:void 0);D.fetchers.set(Hi,ir),Dr(Hi),Ft.controller&&$.set(Hi,Ft.controller)}),Ot({fetchers:new Map(D.fetchers)});let gn=()=>jt.forEach(Ft=>Dr(Ft.key));qe.signal.addEventListener("abort",gn);let{loaderResults:Ue,fetcherResults:tn}=await Wr(en,jt,ve,Ce);if(qe.signal.aborted)return;qe.signal.removeEventListener("abort",gn),_e.delete(Y),$.delete(Y),jt.forEach(Ft=>$.delete(Ft.key));let vr=tg(Ue);if(vr)return mi(ve,vr.result,!1,{preventScrollReset:De});if(vr=tg(tn),vr)return H.add(vr.key),mi(ve,vr.result,!1,{preventScrollReset:De});let{loaderData:Qr,errors:Bs}=ex(D,tt,Ue,void 0,jt,tn);if(D.fetchers.has(Y)){let Ft=Va(Te.data);D.fetchers.set(Y,Ft)}Tn(Bt),D.navigation.state==="loading"&&Bt>Z?(ft(L,"Expected pending action"),C&&C.abort(),Dn(D.navigation.location,{matches:tt,loaderData:Qr,errors:Bs,fetchers:new Map(D.fetchers)})):(Ot({errors:Bs,loaderData:tx(D.loaderData,Qr,tt,Bs),fetchers:new Map(D.fetchers)}),J=!1)}async function ji(Y,te,ie,pe,Ae,Ce,Be,Oe,De,ze){let Fe=D.fetchers.get(Y);ut(Y,Wh(ze,Fe?Fe.data:void 0),{flushSync:Oe});let Ie=new AbortController,qe=$c(n.history,ie,Ie.signal);if(Be){let Te=await Nt(Ae,ie,qe.signal,Y);if(Te.type==="aborted")return;if(Te.type==="error"){et(Y,te,Te.error,{flushSync:Oe});return}else if(Te.matches)Ae=Te.matches,pe=dd(Ae,ie);else{et(Y,te,is(404,{pathname:ie}),{flushSync:Oe});return}}$.set(Y,Ie);let it=G,St=rf(i,s,qe,Ae,pe,r,Ce),ht=(await gr(qe,St,Ce,Y))[pe.route.id];if($.get(Y)===Ie&&$.delete(Y),!qe.signal.aborted){if(ce.has(Y)){ut(Y,Va(void 0));return}if(vu(ht))if(Z>it){ut(Y,Va(void 0));return}else{H.add(Y),await mi(qe,ht,!1,{preventScrollReset:De});return}if(Ri(ht)){et(Y,te,ht.error);return}ut(Y,Va(ht.data))}}async function mi(Y,te,ie,{submission:pe,fetcherSubmission:Ae,preventScrollReset:Ce,replace:Be}={}){te.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Oe=te.response.headers.get("Location");ft(Oe,"Expected a Location header on the redirect Response"),Oe=JC(Oe,new URL(Y.url),c);let De=$d(D.location,Oe,{_isRedirect:!0});if(t){let St=!1;if(te.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(sE.test(Oe)){const _t=n.history.createURL(Oe);St=_t.origin!==e.location.origin||fs(_t.pathname,c)==null}if(St){Be?e.location.replace(Oe):e.location.assign(Oe);return}}C=null;let ze=Be===!0||te.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Fe,formAction:Ie,formEncType:qe}=D.navigation;!pe&&!Ae&&Fe&&Ie&&qe&&(pe=sx(D.navigation));let it=pe||Ae;if($B.has(te.response.status)&&it&&Ci(it.formMethod))await Jt(ze,De,{submission:{...it,formAction:Oe},preventScrollReset:Ce||S,enableViewTransition:ie?B:void 0});else{let St=bb(De,pe);await Jt(ze,De,{overrideNavigation:St,fetcherSubmission:Ae,preventScrollReset:Ce||S,enableViewTransition:ie?B:void 0})}}async function gr(Y,te,ie,pe){let Ae,Ce={};try{Ae=await ej(h,Y,te,pe,ie,!1)}catch(Be){return te.filter(Oe=>Oe.shouldLoad).forEach(Oe=>{Ce[Oe.route.id]={type:"error",error:Be}}),Ce}for(let[Be,Oe]of Object.entries(Ae))if(oj(Oe)){let De=Oe.result;Ce[Be]={type:"redirect",response:rj(De,Y,Be,te,c)}}else Ce[Be]=await nj(Oe);return Ce}async function Wr(Y,te,ie,pe){let Ae=gr(ie,Y,pe,null),Ce=Promise.all(te.map(async De=>{if(De.matches&&De.match&&De.request&&De.controller){let Fe=(await gr(De.request,De.matches,pe,De.key))[De.match.route.id];return{[De.key]:Fe}}else return Promise.resolve({[De.key]:{type:"error",error:is(404,{pathname:De.path})}})})),Be=await Ae,Oe=(await Ce).reduce((De,ze)=>Object.assign(De,ze),{});return{loaderResults:Be,fetcherResults:Oe}}function Mr(){J=!0,ne.forEach((Y,te)=>{$.has(te)&&F.add(te),Dr(te)})}function ut(Y,te,ie={}){D.fetchers.set(Y,te),Ot({fetchers:new Map(D.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function et(Y,te,ie,pe={}){let Ae=pu(D.matches,te);Zt(Y),Ot({errors:{[Ae.route.id]:ie},fetchers:new Map(D.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function Pn(Y){return fe.set(Y,(fe.get(Y)||0)+1),ce.has(Y)&&ce.delete(Y),D.fetchers.get(Y)||GB}function Zt(Y){let te=D.fetchers.get(Y);$.has(Y)&&!(te&&te.state==="loading"&&_e.has(Y))&&Dr(Y),ne.delete(Y),_e.delete(Y),H.delete(Y),ce.delete(Y),F.delete(Y),D.fetchers.delete(Y)}function Ls(Y){let te=(fe.get(Y)||0)-1;te<=0?(fe.delete(Y),ce.add(Y)):fe.set(Y,te),Ot({fetchers:new Map(D.fetchers)})}function Dr(Y){let te=$.get(Y);te&&(te.abort(),$.delete(Y))}function Pr(Y){for(let te of Y){let ie=Pn(te),pe=Va(ie.data);D.fetchers.set(te,pe)}}function Lr(){let Y=[],te=!1;for(let ie of H){let pe=D.fetchers.get(ie);ft(pe,`Expected fetcher: ${ie}`),pe.state==="loading"&&(H.delete(ie),Y.push(ie),te=!0)}return Pr(Y),te}function Tn(Y){let te=[];for(let[ie,pe]of _e)if(pe<Y){let Ae=D.fetchers.get(ie);ft(Ae,`Expected fetcher: ${ie}`),Ae.state==="loading"&&(Dr(ie),_e.delete(ie),te.push(ie))}return Pr(te),te.length>0}function En(Y,te){let ie=D.blockers.get(Y)||Gh;return we.get(Y)!==te&&we.set(Y,te),ie}function gi(Y){D.blockers.delete(Y),we.delete(Y)}function yr(Y,te){let ie=D.blockers.get(Y)||Gh;ft(ie.state==="unblocked"&&te.state==="blocked"||ie.state==="blocked"&&te.state==="blocked"||ie.state==="blocked"&&te.state==="proceeding"||ie.state==="blocked"&&te.state==="unblocked"||ie.state==="proceeding"&&te.state==="unblocked",`Invalid blocker state transition: ${ie.state} -> ${te.state}`);let pe=new Map(D.blockers);pe.set(Y,te),Ot({blockers:pe})}function Vs({currentLocation:Y,nextLocation:te,historyAction:ie}){if(we.size===0)return;we.size>1&&An(!1,"A router only supports one blocker at a time");let pe=Array.from(we.entries()),[Ae,Ce]=pe[pe.length-1],Be=D.blockers.get(Ae);if(!(Be&&Be.state==="proceeding")&&Ce({currentLocation:Y,nextLocation:te,historyAction:ie}))return Ae}function Kr(Y){let te=is(404,{pathname:Y}),ie=u||a,{matches:pe,route:Ae}=rx(ie);return{notFoundMatches:pe,route:Ae,error:te}}function Fi(Y,te,ie){if(_=Y,T=te,A=ie||null,!w&&D.navigation===_b){w=!0;let pe=Us(D.location,D.matches);pe!=null&&Ot({restoreScrollPosition:pe})}return()=>{_=null,T=null,A=null}}function Yr(Y,te){return A&&A(Y,te.map(pe=>EB(pe,D.loaderData)))||Y.key}function tr(Y,te){if(_&&T){let ie=Yr(Y,te);_[ie]=T()}}function Us(Y,te){if(_){let ie=Yr(Y,te),pe=_[ie];if(typeof pe=="number")return pe}return null}function nr(Y,te,ie){if(n.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:Rg(te,ie,c,!0)}}else return{active:!0,matches:Rg(te,ie,c,!0)||[]};return{active:!1,matches:null}}async function Nt(Y,te,ie,pe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Y};let Ae=Y;for(;;){let Ce=u==null,Be=u||a,Oe=s;try{await n.patchRoutesOnNavigation({signal:ie,path:te,matches:Ae,fetcherKey:pe,patch:(Fe,Ie)=>{ie.aborted||KC(Fe,Ie,Be,Oe,i)}})}catch(Fe){return{type:"error",error:Fe,partialMatches:Ae}}finally{Ce&&!ie.aborted&&(a=[...a])}if(ie.aborted)return{type:"aborted"};let De=Fa(Be,te,c);if(De)return{type:"success",matches:De};let ze=Rg(Be,te,c,!0);if(!ze||Ae.length===ze.length&&Ae.every((Fe,Ie)=>Fe.route.id===ze[Ie].route.id))return{type:"success",matches:null};Ae=ze}}function rr(Y){s={},u=Xg(Y,i,void 0,s)}function zs(Y,te){let ie=u==null;KC(Y,te,u||a,s,i),ie&&(a=[...a],Ot({}))}return U={get basename(){return c},get future(){return p},get state(){return D},get routes(){return a},get window(){return e},initialize:zt,subscribe:Yt,enableScrollRestoration:Fi,navigate:er,fetch:Bi,revalidate:pi,createHref:Y=>n.history.createHref(Y),encodeLocation:Y=>n.history.encodeLocation(Y),getFetcher:Pn,deleteFetcher:Ls,dispose:vt,getBlocker:En,deleteBlocker:gi,patchRoutes:zs,_internalFetchControllers:$,_internalSetRoutes:rr},U}function YB(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function kA(n,e,t,r,i,s){let a,u;if(i){a=[];for(let h of e)if(a.push(h),h.route.id===i){u=h;break}}else a=e,u=e[e.length-1];let c=_v(r||".",vv(a),fs(n.pathname,t)||n.pathname,s==="path");if(r==null&&(c.search=n.search,c.hash=n.hash),(r==null||r===""||r===".")&&u){let h=oE(c.search);if(u.route.index&&!h)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let p=new URLSearchParams(c.search),m=p.getAll("index");p.delete("index"),m.filter(_=>_).forEach(_=>p.append("index",_));let v=p.toString();c.search=v?`?${v}`:""}}return t!=="/"&&(c.pathname=c.pathname==="/"?t:lo([t,c.pathname])),pl(c)}function GC(n,e,t){if(!t||!YB(t))return{path:e};if(t.formMethod&&!aj(t.formMethod))return{path:e,error:is(405,{method:t.formMethod})};let r=()=>({path:e,error:is(400,{type:"invalid-body"})}),s=(t.formMethod||"get").toUpperCase(),a=ON(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Ci(s))return r();let m=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((v,[_,A])=>`${v}${_}=${A}
`,""):String(t.body);return{path:e,submission:{formMethod:s,formAction:a,formEncType:t.formEncType,formData:void 0,json:void 0,text:m}}}else if(t.formEncType==="application/json"){if(!Ci(s))return r();try{let m=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:s,formAction:a,formEncType:t.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}ft(typeof FormData=="function","FormData is not available in this environment");let u,c;if(t.formData)u=MA(t.formData),c=t.formData;else if(t.body instanceof FormData)u=MA(t.body),c=t.body;else if(t.body instanceof URLSearchParams)u=t.body,c=ZC(u);else if(t.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(t.body),c=ZC(u)}catch{return r()}let h={formMethod:s,formAction:a,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Ci(h.formMethod))return{path:e,submission:h};let p=Cl(e);return n&&p.search&&oE(p.search)&&u.append("index",""),p.search=`?${u}`,{path:pl(p),submission:h}}function WC(n,e,t,r,i,s,a,u,c,h,p,m,v,_,A,T,w,O,M){var N;let j=M?Ri(M[1])?M[1].error:M[1].data:void 0,q=i.createURL(s.location),U=i.createURL(c),D;if(p&&s.errors){let k=Object.keys(s.errors)[0];D=a.findIndex(J=>J.route.id===k)}else if(M&&Ri(M[1])){let k=M[0];D=a.findIndex(J=>J.route.id===k)-1}let L=M?M[1].statusCode:void 0,S=L&&L>=400,C={currentUrl:q,currentParams:((N=s.matches[0])==null?void 0:N.params)||{},nextUrl:U,nextParams:a[0].params,...u,actionResult:j,actionStatus:L},B=a.map((k,J)=>{let{route:F}=k,$=null;if(D!=null&&J>D?$=!1:F.lazy?$=!0:F.loader==null?$=!1:p?$=OA(F,s.loaderData,s.errors):QB(s.loaderData,s.matches[J],k)&&($=!0),$!==null)return NA(t,r,n,k,h,e,$);let G=S?!1:m||q.pathname+q.search===U.pathname+U.search||q.search!==U.search||XB(s.matches[J],k),Z={...C,defaultShouldRevalidate:G},_e=ey(k,Z);return NA(t,r,n,k,h,e,_e,Z)}),P=[];return A.forEach((k,J)=>{if(p||!a.some(ne=>ne.route.id===k.routeId)||_.has(J))return;let F=Fa(w,k.path,O);if(!F){P.push({key:J,routeId:k.routeId,path:k.path,matches:null,match:null,request:null,controller:null});return}if(T.has(J))return;let $=s.fetchers.get(J),G=dd(F,k.path),Z=new AbortController,_e=$c(i,k.path,Z.signal),H=null;if(v.has(J))v.delete(J),H=rf(t,r,_e,F,G,h,e);else if($&&$.state!=="idle"&&$.data===void 0)m&&(H=rf(t,r,_e,F,G,h,e));else{let ne={...C,defaultShouldRevalidate:S?!1:m};ey(G,ne)&&(H=rf(t,r,_e,F,G,h,e,ne))}H&&P.push({key:J,routeId:k.routeId,path:k.path,matches:H,match:G,request:_e,controller:Z})}),{dsMatches:B,revalidatingFetchers:P}}function OA(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function QB(n,e,t){let r=!e||t.route.id!==e.route.id,i=!n.hasOwnProperty(t.route.id);return r||i}function XB(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function ey(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function KC(n,e,t,r,i){let s;if(n){let c=r[n];ft(c,`No route found to patch children into: routeId = ${n}`),c.children||(c.children=[]),s=c.children}else s=t;let a=e.filter(c=>!s.some(h=>RN(c,h))),u=Xg(a,i,[n||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...u)}function RN(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>RN(t,s))}):!1}var YC=new WeakMap,CN=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let i=t[e.id];if(ft(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[n];if(!s)return;let a=YC.get(i);a||(a={},YC.set(i,a));let u=a[n];if(u)return u;let c=(async()=>{let h=_B(n),m=i[n]!==void 0&&n!=="hasErrorBoundary";if(h)An(!h,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),a[n]=Promise.resolve();else if(m)An(!1,`Route "${i.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let v=await s();v!=null&&(Object.assign(i,{[n]:v}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[n]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return a[n]=c,c},QC=new WeakMap;function JB(n,e,t,r,i){let s=t[n.id];if(ft(s,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let p=QC.get(s);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let m=(async()=>{ft(typeof n.lazy=="function","No lazy route function found");let v=await n.lazy(),_={};for(let A in v){let T=v[A];if(T===void 0)continue;let w=AB(A),M=s[A]!==void 0&&A!=="hasErrorBoundary";w?An(!w,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):M?An(!M,`Route "${s.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):_[A]=T}Object.assign(s,_),Object.assign(s,{...r(s),lazy:void 0})})();return QC.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let a=Object.keys(n.lazy),u=[],c;for(let p of a){if(i&&i.includes(p))continue;let m=CN({key:p,route:n,manifest:t,mapRouteProperties:r});m&&(u.push(m),p===e&&(c=m))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h==null||h.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:c}}async function XC(n){let e=n.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{t[e[s].route.id]=i}),t}async function ZB(n){return n.matches.some(e=>e.route.unstable_middleware)?xN(n,!1,()=>XC(n),(e,t)=>({[t]:{type:"error",result:e}})):XC(n)}async function xN(n,e,t,r){let{matches:i,request:s,params:a,context:u}=n,c={handlerResult:void 0};try{let h=i.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(v=>[m.route.id,v]):[]),p=await IN({request:s,params:a,context:u},h,e,c,t);return e?p:c.handlerResult}catch(h){if(!c.middlewareError)throw h;let p=await r(c.middlewareError.error,c.middlewareError.routeId);return c.handlerResult?Object.assign(c.handlerResult,p):p}}async function IN(n,e,t,r,i,s=0){let{request:a}=n;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let u=e[s];if(!u)return r.handlerResult=await i(),r.handlerResult;let[c,h]=u,p=!1,m,v=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await IN(n,e,t,r,i,s+1)};try{let _=await h({request:n.request,params:n.params,context:n.context},v);return p?_===void 0?m:_:v()}catch(_){throw r.middlewareError?r.middlewareError.error!==_&&(r.middlewareError={routeId:c,error:_}):r.middlewareError={routeId:c,error:_},_}}function kN(n,e,t,r,i){let s=CN({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),a=JB(r.route,Ci(t.method)?"action":"loader",e,n,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function NA(n,e,t,r,i,s,a,u=null){let c=!1,h=kN(n,e,t,r,i);return{...r,_lazyPromises:h,shouldLoad:a,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(p){return c=!0,u?typeof p=="boolean"?ey(r,{...u,defaultShouldRevalidate:p}):ey(r,u):a},resolve(p){return c||a||p&&t.method==="GET"&&(r.route.lazy||r.route.loader)?tj({request:t,match:r,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:p,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function rf(n,e,t,r,i,s,a,u=null){return r.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:kN(n,e,t,c,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:NA(n,e,t,c,s,a,!0,u))}async function ej(n,e,t,r,i,s){t.some(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware})&&await Promise.all(t.map(h=>{var p;return(p=h._lazyPromises)==null?void 0:p.middleware}));let a={request:e,params:t[0].params,context:i,matches:t},c=await n({...a,fetcherKey:r,unstable_runClientMiddleware:h=>{let p=a;return xN(p,!1,()=>h({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(m,v)=>({[v]:{type:"error",result:m}}))}});try{await Promise.all(t.flatMap(h=>{var p,m;return[(p=h._lazyPromises)==null?void 0:p.handler,(m=h._lazyPromises)==null?void 0:m.route]}))}catch{}return c}async function tj({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let a,u,c=Ci(n.method),h=c?"action":"loader",p=m=>{let v,_=new Promise((w,O)=>v=O);u=()=>v(),n.signal.addEventListener("abort",u);let A=w=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):m({request:n,params:e.params,context:s},...w!==void 0?[w]:[]),T=(async()=>{try{return{type:"data",result:await(i?i(O=>A(O)):A())}}catch(w){return{type:"error",result:w}}})();return Promise.race([T,_])};try{let m=c?e.route.action:e.route.loader;if(t||r)if(m){let v,[_]=await Promise.all([p(m).catch(A=>{v=A}),t,r]);if(v!==void 0)throw v;a=_}else{await t;let v=c?e.route.action:e.route.loader;if(v)[a]=await Promise.all([p(v),r]);else if(h==="action"){let _=new URL(n.url),A=_.pathname+_.search;throw is(405,{method:n.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)a=await p(m);else{let v=new URL(n.url),_=v.pathname+v.search;throw is(404,{pathname:_})}}catch(m){return{type:"error",result:m}}finally{u&&n.signal.removeEventListener("abort",u)}return a}async function nj(n){var r,i,s,a,u,c;let{result:e,type:t}=n;if(NN(e)){let h;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new Zg(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return t==="error"?ix(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Zg(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:Gd(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Gd(e)?e.status:void 0}:ix(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function rj(n,e,t,r,i){let s=n.headers.get("Location");if(ft(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!sE.test(s)){let a=r.slice(0,r.findIndex(u=>u.route.id===t)+1);s=kA(new URL(e.url),a,i,s),n.headers.set("Location",s)}return n}function JC(n,e,t){if(sE.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=fs(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return n}function $c(n,e,t,r){let i=n.createURL(ON(e)).toString(),s={signal:t};if(r&&Ci(r.formMethod)){let{formMethod:a,formEncType:u}=r;s.method=a.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(r.json)):u==="text/plain"?s.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?s.body=MA(r.formData):s.body=r.formData}return new Request(i,s)}function MA(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function ZC(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function ij(n,e,t,r=!1,i=!1){let s={},a=null,u,c=!1,h={},p=t&&Ri(t[1])?t[1].error:void 0;return n.forEach(m=>{if(!(m.route.id in e))return;let v=m.route.id,_=e[v];if(ft(!vu(_),"Cannot handle redirect results in processLoaderData"),Ri(_)){let A=_.error;if(p!==void 0&&(A=p,p=void 0),a=a||{},i)a[v]=A;else{let T=pu(n,v);a[T.route.id]==null&&(a[T.route.id]=A)}r||(s[v]=SN),c||(c=!0,u=Gd(_.error)?_.error.status:500),_.headers&&(h[v]=_.headers)}else s[v]=_.data,_.statusCode&&_.statusCode!==200&&!c&&(u=_.statusCode),_.headers&&(h[v]=_.headers)}),p!==void 0&&t&&(a={[t[0]]:p},t[2]&&(s[t[2]]=void 0)),{loaderData:s,errors:a,statusCode:u||200,loaderHeaders:h}}function ex(n,e,t,r,i,s){let{loaderData:a,errors:u}=ij(e,t,r);return i.filter(c=>!c.matches||c.matches.some(h=>h.shouldLoad)).forEach(c=>{let{key:h,match:p,controller:m}=c,v=s[h];if(ft(v,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Ri(v)){let _=pu(n.matches,p==null?void 0:p.route.id);u&&u[_.route.id]||(u={...u,[_.route.id]:v.error}),n.fetchers.delete(h)}else if(vu(v))ft(!1,"Unhandled fetcher revalidation redirect");else{let _=Va(v.data);n.fetchers.set(h,_)}}),{loaderData:a,errors:u}}function tx(n,e,t,r){let i=Object.entries(e).filter(([,s])=>s!==SN).reduce((s,[a,u])=>(s[a]=u,s),{});for(let s of t){let a=s.route.id;if(!e.hasOwnProperty(a)&&n.hasOwnProperty(a)&&s.route.loader&&(i[a]=n[a]),r&&r.hasOwnProperty(a))break}return i}function nx(n){return n?Ri(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function pu(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function rx(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function is(n,{pathname:e,routeId:t,method:r,type:i,message:s}={}){let a="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(a="Bad Request",r&&e&&t?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):n===403?(a="Forbidden",u=`Route "${t}" does not match URL "${e}"`):n===404?(a="Not Found",u=`No route matches URL "${e}"`):n===405&&(a="Method Not Allowed",r&&e&&t?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Zg(n||500,a,new Error(u),!0)}function tg(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(vu(i))return{key:r,result:i}}}function ON(n){let e=typeof n=="string"?Cl(n):n;return pl({...e,hash:""})}function sj(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function oj(n){return NN(n.result)&&qB.has(n.result.status)}function Ri(n){return n.type==="error"}function vu(n){return(n&&n.type)==="redirect"}function ix(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function NN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function aj(n){return HB.has(n.toUpperCase())}function Ci(n){return jB.has(n.toUpperCase())}function oE(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function dd(n,e){let t=typeof e=="string"?Cl(e).search:e.search;if(n[n.length-1].route.index&&oE(t||""))return n[n.length-1];let r=TN(n);return r[r.length-1]}function sx(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:s,json:a}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:a,text:void 0}}}function bb(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function lj(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Wh(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function uj(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Va(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function cj(n,e){try{let t=n.sessionStorage.getItem(wN);if(t){let r=JSON.parse(t);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function fj(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(wN,JSON.stringify(t))}catch(r){An(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function hj(){let n,e,t=new Promise((r,i)=>{n=async s=>{r(s);try{await t}catch{}},e=async s=>{i(s);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Qu=W.createContext(null);Qu.displayName="DataRouter";var bp=W.createContext(null);bp.displayName="DataRouterState";var aE=W.createContext({isTransitioning:!1});aE.displayName="ViewTransition";var MN=W.createContext(new Map);MN.displayName="Fetchers";var dj=W.createContext(null);dj.displayName="Await";var Ns=W.createContext(null);Ns.displayName="Navigation";var bv=W.createContext(null);bv.displayName="Location";var gs=W.createContext({outlet:null,matches:[],isDataRoute:!1});gs.displayName="Route";var lE=W.createContext(null);lE.displayName="RouteError";function pj(n,{relative:e}={}){ft(Lf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Ns),{hash:i,pathname:s,search:a}=Ap(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:lo([t,s])),r.createHref({pathname:u,search:a,hash:i})}function Lf(){return W.useContext(bv)!=null}function ca(){return ft(Lf(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(bv).location}var DN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PN(n){W.useContext(Ns).static||W.useLayoutEffect(n)}function Ms(){let{isDataRoute:n}=W.useContext(gs);return n?xj():mj()}function mj(){ft(Lf(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Qu),{basename:e,navigator:t}=W.useContext(Ns),{matches:r}=W.useContext(gs),{pathname:i}=ca(),s=JSON.stringify(vv(r)),a=W.useRef(!1);return PN(()=>{a.current=!0}),W.useCallback((c,h={})=>{if(An(a.current,DN),!a.current)return;if(typeof c=="number"){t.go(c);return}let p=_v(c,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:lo([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,s,i,n])}var gj=W.createContext(null);function yj(n){let e=W.useContext(gs).outlet;return e&&W.createElement(gj.Provider,{value:n},e)}function Av(){let{matches:n}=W.useContext(gs),e=n[n.length-1];return e?e.params:{}}function Ap(n,{relative:e}={}){let{matches:t}=W.useContext(gs),{pathname:r}=ca(),i=JSON.stringify(vv(t));return W.useMemo(()=>_v(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function vj(n,e,t,r){ft(Lf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=W.useContext(Ns),{matches:a}=W.useContext(gs),u=a[a.length-1],c=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let M=m&&m.path||"";UN(h,!m||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=ca(),_;_=v;let A=_.pathname||"/",T=A;if(p!=="/"){let M=p.replace(/^\//,"").split("/");T="/"+A.replace(/^\//,"").split("/").slice(M.length).join("/")}let w=!s&&t&&t.matches&&t.matches.length>0?t.matches:Fa(n,{pathname:T});return An(m||w!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),An(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Ej(w&&w.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:lo([p,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:lo([p,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,t,r)}function _j(){let n=Cj(),e=Gd(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:s},"ErrorBoundary")," or"," ",W.createElement("code",{style:s},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,a)}var bj=W.createElement(_j,null),Aj=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(gs.Provider,{value:this.props.routeContext},W.createElement(lE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tj({routeContext:n,match:e,children:t}){let r=W.useContext(Qu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(gs.Provider,{value:n},t)}function Ej(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);ft(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,u=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:m}=t,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,h,p)=>{let m,v=!1,_=null,A=null;t&&(m=s&&h.route.id?s[h.route.id]:void 0,_=h.route.errorElement||bj,a&&(u<0&&p===0?(UN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,A=null):u===p&&(v=!0,A=h.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,p+1)),w=()=>{let O;return m?O=_:v?O=A:h.route.Component?O=W.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=c,W.createElement(Tj,{match:h,routeContext:{outlet:c,matches:T,isDataRoute:t!=null},children:O})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?W.createElement(Aj,{location:t.location,revalidation:t.revalidation,component:_,error:m,children:w(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):w()},null)}function uE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wj(n){let e=W.useContext(Qu);return ft(e,uE(n)),e}function LN(n){let e=W.useContext(bp);return ft(e,uE(n)),e}function Sj(n){let e=W.useContext(gs);return ft(e,uE(n)),e}function cE(n){let e=Sj(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Rj(){return cE("useRouteId")}function VN(){return LN("useNavigation").navigation}function Cj(){var r;let n=W.useContext(lE),e=LN("useRouteError"),t=cE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function xj(){let{router:n}=wj("useNavigate"),e=cE("useNavigate"),t=W.useRef(!1);return PN(()=>{t.current=!0}),W.useCallback(async(i,s={})=>{An(t.current,DN),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var ox={};function UN(n,e,t){!e&&!ox[n]&&(ox[n]=!0,An(!1,t))}var ax={};function lx(n,e){!n&&!ax[e]&&(ax[e]=!0,console.warn(e))}function Ij(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&An(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:W.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&An(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:W.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&An(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:W.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var kj=["HydrateFallback","hydrateFallbackElement"],Oj=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function Nj({router:n,flushSync:e}){let[t,r]=W.useState(n.state),[i,s]=W.useState(),[a,u]=W.useState({isTransitioning:!1}),[c,h]=W.useState(),[p,m]=W.useState(),[v,_]=W.useState(),A=W.useRef(new Map),T=W.useCallback((j,{deletedFetchers:q,flushSync:U,viewTransitionOpts:D})=>{j.fetchers.forEach((S,C)=>{S.data!==void 0&&A.current.set(C,S.data)}),q.forEach(S=>A.current.delete(S)),lx(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let L=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(lx(D==null||L,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!D||!L){e&&U?e(()=>r(j)):W.startTransition(()=>r(j));return}if(e&&U){e(()=>{p&&(c&&c.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let S=n.window.document.startViewTransition(()=>{e(()=>r(j))});S.finished.finally(()=>{e(()=>{h(void 0),m(void 0),s(void 0),u({isTransitioning:!1})})}),e(()=>m(S));return}p?(c&&c.resolve(),p.skipTransition(),_({state:j,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(s(j),u({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,e,p,c]);W.useLayoutEffect(()=>n.subscribe(T),[n,T]),W.useEffect(()=>{a.isTransitioning&&!a.flushSync&&h(new Oj)},[a]),W.useEffect(()=>{if(c&&i&&n.window){let j=i,q=c.promise,U=n.window.document.startViewTransition(async()=>{W.startTransition(()=>r(j)),await q});U.finished.finally(()=>{h(void 0),m(void 0),s(void 0),u({isTransitioning:!1})}),m(U)}},[i,c,n.window]),W.useEffect(()=>{c&&i&&t.location.key===i.location.key&&c.resolve()},[c,p,t.location,i]),W.useEffect(()=>{!a.isTransitioning&&v&&(s(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),_(void 0))},[a.isTransitioning,v]);let w=W.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:j=>n.navigate(j),push:(j,q,U)=>n.navigate(j,{state:q,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(j,q,U)=>n.navigate(j,{replace:!0,state:q,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),O=n.basename||"/",M=W.useMemo(()=>({router:n,navigator:w,static:!1,basename:O}),[n,w,O]);return W.createElement(W.Fragment,null,W.createElement(Qu.Provider,{value:M},W.createElement(bp.Provider,{value:t},W.createElement(MN.Provider,{value:A.current},W.createElement(aE.Provider,{value:a},W.createElement(Vj,{basename:O,location:t.location,navigationType:t.historyAction,navigator:w},W.createElement(Mj,{routes:n.routes,future:n.future,state:t})))))),null)}var Mj=W.memo(Dj);function Dj({routes:n,future:e,state:t}){return vj(n,void 0,t,e)}function Pj({to:n,replace:e,state:t,relative:r}){ft(Lf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=W.useContext(Ns);An(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=W.useContext(gs),{pathname:a}=ca(),u=Ms(),c=_v(n,vv(s),a,r==="path"),h=JSON.stringify(c);return W.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:r})},[u,h,r,e,t]),null}function Lj(n){return yj(n.context)}function Vj({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){ft(!Lf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),u=W.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=Cl(t));let{pathname:c="/",search:h="",hash:p="",state:m=null,key:v="default"}=t,_=W.useMemo(()=>{let A=fs(c,a);return A==null?null:{location:{pathname:A,search:h,hash:p,state:m,key:v},navigationType:r}},[a,c,h,p,m,v,r]);return An(_!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:W.createElement(Ns.Provider,{value:u},W.createElement(bv.Provider,{children:e,value:_}))}var Cg="get",xg="application/x-www-form-urlencoded";function Tv(n){return n!=null&&typeof n.tagName=="string"}function Uj(n){return Tv(n)&&n.tagName.toLowerCase()==="button"}function zj(n){return Tv(n)&&n.tagName.toLowerCase()==="form"}function Bj(n){return Tv(n)&&n.tagName.toLowerCase()==="input"}function jj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Fj(n,e){return n.button===0&&(!e||e==="_self")&&!jj(n)}var ng=null;function Hj(){if(ng===null)try{new FormData(document.createElement("form"),0),ng=!1}catch{ng=!0}return ng}var qj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ab(n){return n!=null&&!qj.has(n)?(An(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xg}"`),null):n}function $j(n,e){let t,r,i,s,a;if(zj(n)){let u=n.getAttribute("action");r=u?fs(u,e):null,t=n.getAttribute("method")||Cg,i=Ab(n.getAttribute("enctype"))||xg,s=new FormData(n)}else if(Uj(n)||Bj(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(r=c?fs(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Cg,i=Ab(n.getAttribute("formenctype"))||Ab(u.getAttribute("enctype"))||xg,s=new FormData(u,n),!Hj()){let{name:h,type:p,value:m}=n;if(p==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,m)}}else{if(Tv(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Cg,r=null,i=xg,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}function fE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Gj(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wj(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Kj(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Gj(s,t);return a.links?a.links():[]}return[]}));return Jj(r.flat(1).filter(Wj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ux(n,e,t,r,i,s){let a=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,u=(c,h)=>{var p;return t[h].pathname!==c.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,h)=>a(c,h)||u(c,h)):s==="data"?e.filter((c,h)=>{var m;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(a(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Yj(n,e,{includeHydrateFallback:t}={}){return Qj(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Qj(n){return[...new Set(n)]}function Xj(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Jj(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(Xj(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}var Zj=new Set([100,101,204,205]);function e4(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&fs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function zN(){let n=W.useContext(Qu);return fE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function t4(){let n=W.useContext(bp);return fE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hE=W.createContext(void 0);hE.displayName="FrameworkContext";function BN(){let n=W.useContext(hE);return fE(n,"You must render this element inside a <HydratedRouter> element"),n}function n4(n,e){let t=W.useContext(hE),[r,i]=W.useState(!1),[s,a]=W.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let T=O=>{O.forEach(M=>{a(M.isIntersecting)})},w=new IntersectionObserver(T,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[n]),W.useEffect(()=>{if(r){let T=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(T)}}},[r]);let _=()=>{i(!0)},A=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,v,{}]:[s,v,{onFocus:Kh(u,_),onBlur:Kh(c,A),onMouseEnter:Kh(h,_),onMouseLeave:Kh(p,A),onTouchStart:Kh(m,_)}]:[!1,v,{}]}function Kh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function r4({page:n,...e}){let{router:t}=zN(),r=W.useMemo(()=>Fa(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(s4,{page:n,matches:r,...e}):null}function i4(n){let{manifest:e,routeModules:t}=BN(),[r,i]=W.useState([]);return W.useEffect(()=>{let s=!1;return Kj(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function s4({page:n,matches:e,...t}){let r=ca(),{manifest:i,routeModules:s}=BN(),{basename:a}=zN(),{loaderData:u,matches:c}=t4(),h=W.useMemo(()=>ux(n,e,c,i,r,"data"),[n,e,c,i,r]),p=W.useMemo(()=>ux(n,e,c,i,r,"assets"),[n,e,c,i,r]),m=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,T=!1;if(e.forEach(O=>{var j;let M=i.routes[O.route.id];!M||!M.hasLoader||(!h.some(q=>q.route.id===O.route.id)&&O.route.id in u&&((j=s[O.route.id])!=null&&j.shouldRevalidate)||M.hasClientLoader?T=!0:A.add(O.route.id))}),A.size===0)return[];let w=e4(n,a);return T&&A.size>0&&w.searchParams.set("_routes",e.filter(O=>A.has(O.route.id)).map(O=>O.route.id).join(",")),[w.pathname+w.search]},[a,u,r,i,h,e,n,s]),v=W.useMemo(()=>Yj(p,i),[p,i]),_=i4(p);return W.createElement(W.Fragment,null,m.map(A=>W.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),v.map(A=>W.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),_.map(({key:A,link:T})=>W.createElement("link",{key:A,...T})))}function o4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jN&&(window.__reactRouterVersion="7.5.3")}catch{}function a4(n,e){return KB({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:mB({window:e==null?void 0:e.window}),hydrationData:l4(),routes:n,mapRouteProperties:Ij,hydrationRouteProperties:kj,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function l4(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:u4(n.errors)}),n}function u4(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new Zg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",t[r]=a}catch{}}if(t[r]==null){let s=new Error(i.message);s.stack="",t[r]=s}}else t[r]=i;return t}var FN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HN=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:u,target:c,to:h,preventScrollReset:p,viewTransition:m,...v},_){let{basename:A}=W.useContext(Ns),T=typeof h=="string"&&FN.test(h),w,O=!1;if(typeof h=="string"&&T&&(w=h,jN))try{let C=new URL(window.location.href),B=h.startsWith("//")?new URL(C.protocol+h):new URL(h),P=fs(B.pathname,A);B.origin===C.origin&&P!=null?h=P+B.search+B.hash:O=!0}catch{An(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=pj(h,{relative:i}),[j,q,U]=n4(r,v),D=d4(h,{replace:a,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:m});function L(C){e&&e(C),C.defaultPrevented||D(C)}let S=W.createElement("a",{...v,...U,href:w||M,onClick:O||s?e:L,ref:o4(_,q),target:c,"data-discover":!T&&t==="render"?"true":void 0});return j&&!T?W.createElement(W.Fragment,null,S,W.createElement(r4,{page:M})):S});HN.displayName="Link";var c4=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:u,children:c,...h},p){let m=Ap(a,{relative:h.relative}),v=ca(),_=W.useContext(bp),{navigator:A,basename:T}=W.useContext(Ns),w=_!=null&&v4(m)&&u===!0,O=A.encodeLocation?A.encodeLocation(m).pathname:m.pathname,M=v.pathname,j=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(M=M.toLowerCase(),j=j?j.toLowerCase():null,O=O.toLowerCase()),j&&T&&(j=fs(j,T)||j);const q=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let U=M===O||!i&&M.startsWith(O)&&M.charAt(q)==="/",D=j!=null&&(j===O||!i&&j.startsWith(O)&&j.charAt(O.length)==="/"),L={isActive:U,isPending:D,isTransitioning:w},S=U?e:void 0,C;typeof r=="function"?C=r(L):C=[r,U?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(L):s;return W.createElement(HN,{...h,"aria-current":S,className:C,ref:p,style:B,to:a,viewTransition:u},typeof c=="function"?c(L):c)});c4.displayName="NavLink";var f4=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=Cg,action:u,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:m,...v},_)=>{let A=g4(),T=y4(u,{relative:h}),w=a.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&FN.test(u),M=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let q=j.nativeEvent.submitter,U=(q==null?void 0:q.getAttribute("formmethod"))||a;A(q||j.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:m})};return W.createElement("form",{ref:_,method:w,action:T,onSubmit:r?c:M,...v,"data-discover":!O&&n==="render"?"true":void 0})});f4.displayName="Form";function h4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qN(n){let e=W.useContext(Qu);return ft(e,h4(n)),e}function d4(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let u=Ms(),c=ca(),h=Ap(n,{relative:s});return W.useCallback(p=>{if(Fj(p,e)){p.preventDefault();let m=t!==void 0?t:pl(c)===pl(h);u(n,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[c,u,h,t,r,e,n,i,s,a])}var p4=0,m4=()=>`__${String(++p4)}__`;function g4(){let{router:n}=qN("useSubmit"),{basename:e}=W.useContext(Ns),t=Rj();return W.useCallback(async(r,i={})=>{let{action:s,method:a,encType:u,formData:c,body:h}=$j(r,e);if(i.navigate===!1){let p=i.fetcherKey||m4();await n.fetch(p,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function y4(n,{relative:e}={}){let{basename:t}=W.useContext(Ns),r=W.useContext(gs);ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ap(n||".",{relative:e})},a=ca();if(n==null){s.search=a.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:lo([t,s.pathname])),pl(s)}function v4(n,e={}){let t=W.useContext(aE);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qN("useViewTransitionState"),i=Ap(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=fs(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=fs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Jg(i.pathname,a)!=null||Jg(i.pathname,s)!=null}new TextEncoder;[...Zj];var $N=vN();const _4=yN($N);/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b4(n){return W.createElement(Nj,{flushSync:$N.flushSync,...n})}const A4=()=>{};var cx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},T4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],u=n[t++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},WN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,u=a?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,p=s>>2,m=(s&3)<<4|u>>4;let v=(u&15)<<2|h>>6,_=h&63;c||(_=64,a||(v=64)),r.push(t[p],t[m],t[v],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(GN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const m=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||h==null||m==null)throw new E4;const v=s<<2|u>>4;if(r.push(v),h!==64){const _=u<<4&240|h>>2;if(r.push(_),m!==64){const A=h<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class E4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w4=function(n){const e=GN(n);return WN.encodeByteArray(e,!0)},ty=function(n){return w4(n).replace(/\./g,"")},KN=function(n){try{return WN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=()=>S4().__FIREBASE_DEFAULTS__,C4=()=>{if(typeof process>"u"||typeof cx>"u")return;const n=cx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},x4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&KN(n[1]);return e&&JSON.parse(e)},Ev=()=>{try{return A4()||R4()||C4()||x4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},YN=n=>{var e,t;return(t=(e=Ev())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},QN=n=>{const e=YN(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},XN=()=>{var n;return(n=Ev())===null||n===void 0?void 0:n.config},JN=n=>{var e;return(e=Ev())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ty(JSON.stringify(t)),ty(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}function O4(){var n;const e=(n=Ev())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function M4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D4(){const n=kr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function P4(){return!O4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tM(){try{return typeof indexedDB=="object"}catch{return!1}}function nM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function L4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="FirebaseError";class ys extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=V4,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?U4(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new ys(i,u,r)}}function U4(n,e){return n.replace(z4,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const z4=/\{\$([^}]+)}/g;function B4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function na(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(fx(s)&&fx(a)){if(!na(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function fx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function md(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function j4(n,e){const t=new F4(n,e);return t.subscribe.bind(t)}class F4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");H4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Tb),i.error===void 0&&(i.error=Tb),i.complete===void 0&&(i.complete=Tb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=1e3,$4=2,G4=4*60*60*1e3,W4=.5;function hx(n,e=q4,t=$4){const r=e*Math.pow(t,n),i=Math.round(W4*r*(Math.random()-.5)*2);return Math.min(G4,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(n){return n&&n._delegate?n._delegate:n}class hs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new I4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q4(e))try{this.getOrInitializeService({instanceIdentifier:fu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fu){return this.instances.has(e)}getOptions(e=fu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fu){return this.component?this.component.multipleInstances?e:fu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y4(n){return n===fu?void 0:n}function Q4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new K4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(gt||(gt={}));const J4={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},Z4=gt.INFO,e3={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},t3=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=e3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wv{constructor(e){this.name=e,this._logLevel=Z4,this._logHandler=t3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const n3=(n,e)=>e.some(t=>n instanceof t);let dx,px;function r3(){return dx||(dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i3(){return px||(px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rM=new WeakMap,DA=new WeakMap,iM=new WeakMap,Eb=new WeakMap,dE=new WeakMap;function s3(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(nl(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&rM.set(t,n)}).catch(()=>{}),dE.set(e,n),e}function o3(n){if(DA.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});DA.set(n,e)}let PA={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return DA.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return nl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function a3(n){PA=n(PA)}function l3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(wb(this),e,...t);return iM.set(r,e.sort?e.sort():[e]),nl(r)}:i3().includes(n)?function(...e){return n.apply(wb(this),e),nl(rM.get(this))}:function(...e){return nl(n.apply(wb(this),e))}}function u3(n){return typeof n=="function"?l3(n):(n instanceof IDBTransaction&&o3(n),n3(n,r3())?new Proxy(n,PA):n)}function nl(n){if(n instanceof IDBRequest)return s3(n);if(Eb.has(n))return Eb.get(n);const e=u3(n);return e!==n&&(Eb.set(n,e),dE.set(e,n)),e}const wb=n=>dE.get(n);function sM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),u=nl(a);return r&&a.addEventListener("upgradeneeded",c=>{r(nl(a.result),c.oldVersion,c.newVersion,nl(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const c3=["get","getKey","getAll","getAllKeys","count"],f3=["put","add","delete","clear"],Sb=new Map;function mx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sb.get(e))return Sb.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=f3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||c3.includes(t)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&c.done]))[0]};return Sb.set(e,s),s}a3(n=>({...n,get:(e,t,r)=>mx(e,t)||n.get(e,t,r),has:(e,t)=>!!mx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(d3(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function d3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const LA="@firebase/app",gx="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new wv("@firebase/app"),p3="@firebase/app-compat",m3="@firebase/analytics-compat",g3="@firebase/analytics",y3="@firebase/app-check-compat",v3="@firebase/app-check",_3="@firebase/auth",b3="@firebase/auth-compat",A3="@firebase/database",T3="@firebase/data-connect",E3="@firebase/database-compat",w3="@firebase/functions",S3="@firebase/functions-compat",R3="@firebase/installations",C3="@firebase/installations-compat",x3="@firebase/messaging",I3="@firebase/messaging-compat",k3="@firebase/performance",O3="@firebase/performance-compat",N3="@firebase/remote-config",M3="@firebase/remote-config-compat",D3="@firebase/storage",P3="@firebase/storage-compat",L3="@firebase/firestore",V3="@firebase/vertexai",U3="@firebase/firestore-compat",z3="firebase",B3="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="[DEFAULT]",j3={[LA]:"fire-core",[p3]:"fire-core-compat",[g3]:"fire-analytics",[m3]:"fire-analytics-compat",[v3]:"fire-app-check",[y3]:"fire-app-check-compat",[_3]:"fire-auth",[b3]:"fire-auth-compat",[A3]:"fire-rtdb",[T3]:"fire-data-connect",[E3]:"fire-rtdb-compat",[w3]:"fire-fn",[S3]:"fire-fn-compat",[R3]:"fire-iid",[C3]:"fire-iid-compat",[x3]:"fire-fcm",[I3]:"fire-fcm-compat",[k3]:"fire-perf",[O3]:"fire-perf-compat",[N3]:"fire-rc",[M3]:"fire-rc-compat",[D3]:"fire-gcs",[P3]:"fire-gcs-compat",[L3]:"fire-fst",[U3]:"fire-fst-compat",[V3]:"fire-vertex","fire-js":"fire-js",[z3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=new Map,F3=new Map,UA=new Map;function yx(n,e){try{n.container.addComponent(e)}catch(t){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Is(n){const e=n.name;if(UA.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;UA.set(e,n);for(const t of ny.values())yx(t,n);for(const t of F3.values())yx(t,n);return!0}function Vf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ii(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rl=new Xu("app","Firebase",H3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=B3;function oM(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:VA,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw rl.create("bad-app-name",{appName:String(i)});if(t||(t=XN()),!t)throw rl.create("no-options");const s=ny.get(i);if(s){if(na(t,s.options)&&na(r,s.config))return s;throw rl.create("duplicate-app",{appName:i})}const a=new X4(i);for(const c of UA.values())a.addComponent(c);const u=new q3(t,r,a);return ny.set(i,u),u}function pE(n=VA){const e=ny.get(n);if(!e&&n===VA&&XN())return oM();if(!e)throw rl.create("no-app",{appName:n});return e}function ri(n,e,t){var r;let i=(r=j3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(u.join(" "));return}Is(new hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="firebase-heartbeat-database",G3=1,Wd="firebase-heartbeat-store";let Rb=null;function aM(){return Rb||(Rb=sM($3,G3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wd)}catch(t){console.warn(t)}}}}).catch(n=>{throw rl.create("idb-open",{originalErrorMessage:n.message})})),Rb}async function W3(n){try{const t=(await aM()).transaction(Wd),r=await t.objectStore(Wd).get(lM(n));return await t.done,r}catch(e){if(e instanceof ys)ra.warn(e.message);else{const t=rl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ra.warn(t.message)}}}async function vx(n,e){try{const r=(await aM()).transaction(Wd,"readwrite");await r.objectStore(Wd).put(e,lM(n)),await r.done}catch(t){if(t instanceof ys)ra.warn(t.message);else{const r=rl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ra.warn(r.message)}}}function lM(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=1024,Y3=30;class Q3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new J3(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_x();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Y3){const a=Z3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ra.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_x(),{heartbeatsToSend:r,unsentEntries:i}=X3(this._heartbeatsCache.heartbeats),s=ty(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ra.warn(t),""}}}function _x(){return new Date().toISOString().substring(0,10)}function X3(n,e=K3){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),bx(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),bx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class J3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tM()?nM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await W3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return vx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return vx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bx(n){return ty(JSON.stringify({version:2,heartbeats:n})).length}function Z3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(n){Is(new hs("platform-logger",e=>new h3(e),"PRIVATE")),Is(new hs("heartbeat",e=>new Q3(e),"PRIVATE")),ri(LA,gx,n),ri(LA,gx,"esm2017"),ri("fire-js","")}eF("");var Ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var il,uM;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,S){function C(){}C.prototype=S.prototype,L.D=S.prototype,L.prototype=new C,L.prototype.constructor=L,L.C=function(B,P,N){for(var k=Array(arguments.length-2),J=2;J<arguments.length;J++)k[J-2]=arguments[J];return S.prototype[P].apply(B,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,S,C){C||(C=0);var B=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)B[P]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(P=0;16>P;++P)B[P]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=L.g[0],C=L.g[1],P=L.g[2];var N=L.g[3],k=S+(N^C&(P^N))+B[0]+3614090360&4294967295;S=C+(k<<7&4294967295|k>>>25),k=N+(P^S&(C^P))+B[1]+3905402710&4294967295,N=S+(k<<12&4294967295|k>>>20),k=P+(C^N&(S^C))+B[2]+606105819&4294967295,P=N+(k<<17&4294967295|k>>>15),k=C+(S^P&(N^S))+B[3]+3250441966&4294967295,C=P+(k<<22&4294967295|k>>>10),k=S+(N^C&(P^N))+B[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=N+(P^S&(C^P))+B[5]+1200080426&4294967295,N=S+(k<<12&4294967295|k>>>20),k=P+(C^N&(S^C))+B[6]+2821735955&4294967295,P=N+(k<<17&4294967295|k>>>15),k=C+(S^P&(N^S))+B[7]+4249261313&4294967295,C=P+(k<<22&4294967295|k>>>10),k=S+(N^C&(P^N))+B[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=N+(P^S&(C^P))+B[9]+2336552879&4294967295,N=S+(k<<12&4294967295|k>>>20),k=P+(C^N&(S^C))+B[10]+4294925233&4294967295,P=N+(k<<17&4294967295|k>>>15),k=C+(S^P&(N^S))+B[11]+2304563134&4294967295,C=P+(k<<22&4294967295|k>>>10),k=S+(N^C&(P^N))+B[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=N+(P^S&(C^P))+B[13]+4254626195&4294967295,N=S+(k<<12&4294967295|k>>>20),k=P+(C^N&(S^C))+B[14]+2792965006&4294967295,P=N+(k<<17&4294967295|k>>>15),k=C+(S^P&(N^S))+B[15]+1236535329&4294967295,C=P+(k<<22&4294967295|k>>>10),k=S+(P^N&(C^P))+B[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=N+(C^P&(S^C))+B[6]+3225465664&4294967295,N=S+(k<<9&4294967295|k>>>23),k=P+(S^C&(N^S))+B[11]+643717713&4294967295,P=N+(k<<14&4294967295|k>>>18),k=C+(N^S&(P^N))+B[0]+3921069994&4294967295,C=P+(k<<20&4294967295|k>>>12),k=S+(P^N&(C^P))+B[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=N+(C^P&(S^C))+B[10]+38016083&4294967295,N=S+(k<<9&4294967295|k>>>23),k=P+(S^C&(N^S))+B[15]+3634488961&4294967295,P=N+(k<<14&4294967295|k>>>18),k=C+(N^S&(P^N))+B[4]+3889429448&4294967295,C=P+(k<<20&4294967295|k>>>12),k=S+(P^N&(C^P))+B[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=N+(C^P&(S^C))+B[14]+3275163606&4294967295,N=S+(k<<9&4294967295|k>>>23),k=P+(S^C&(N^S))+B[3]+4107603335&4294967295,P=N+(k<<14&4294967295|k>>>18),k=C+(N^S&(P^N))+B[8]+1163531501&4294967295,C=P+(k<<20&4294967295|k>>>12),k=S+(P^N&(C^P))+B[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=N+(C^P&(S^C))+B[2]+4243563512&4294967295,N=S+(k<<9&4294967295|k>>>23),k=P+(S^C&(N^S))+B[7]+1735328473&4294967295,P=N+(k<<14&4294967295|k>>>18),k=C+(N^S&(P^N))+B[12]+2368359562&4294967295,C=P+(k<<20&4294967295|k>>>12),k=S+(C^P^N)+B[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=N+(S^C^P)+B[8]+2272392833&4294967295,N=S+(k<<11&4294967295|k>>>21),k=P+(N^S^C)+B[11]+1839030562&4294967295,P=N+(k<<16&4294967295|k>>>16),k=C+(P^N^S)+B[14]+4259657740&4294967295,C=P+(k<<23&4294967295|k>>>9),k=S+(C^P^N)+B[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=N+(S^C^P)+B[4]+1272893353&4294967295,N=S+(k<<11&4294967295|k>>>21),k=P+(N^S^C)+B[7]+4139469664&4294967295,P=N+(k<<16&4294967295|k>>>16),k=C+(P^N^S)+B[10]+3200236656&4294967295,C=P+(k<<23&4294967295|k>>>9),k=S+(C^P^N)+B[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=N+(S^C^P)+B[0]+3936430074&4294967295,N=S+(k<<11&4294967295|k>>>21),k=P+(N^S^C)+B[3]+3572445317&4294967295,P=N+(k<<16&4294967295|k>>>16),k=C+(P^N^S)+B[6]+76029189&4294967295,C=P+(k<<23&4294967295|k>>>9),k=S+(C^P^N)+B[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=N+(S^C^P)+B[12]+3873151461&4294967295,N=S+(k<<11&4294967295|k>>>21),k=P+(N^S^C)+B[15]+530742520&4294967295,P=N+(k<<16&4294967295|k>>>16),k=C+(P^N^S)+B[2]+3299628645&4294967295,C=P+(k<<23&4294967295|k>>>9),k=S+(P^(C|~N))+B[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=N+(C^(S|~P))+B[7]+1126891415&4294967295,N=S+(k<<10&4294967295|k>>>22),k=P+(S^(N|~C))+B[14]+2878612391&4294967295,P=N+(k<<15&4294967295|k>>>17),k=C+(N^(P|~S))+B[5]+4237533241&4294967295,C=P+(k<<21&4294967295|k>>>11),k=S+(P^(C|~N))+B[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=N+(C^(S|~P))+B[3]+2399980690&4294967295,N=S+(k<<10&4294967295|k>>>22),k=P+(S^(N|~C))+B[10]+4293915773&4294967295,P=N+(k<<15&4294967295|k>>>17),k=C+(N^(P|~S))+B[1]+2240044497&4294967295,C=P+(k<<21&4294967295|k>>>11),k=S+(P^(C|~N))+B[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=N+(C^(S|~P))+B[15]+4264355552&4294967295,N=S+(k<<10&4294967295|k>>>22),k=P+(S^(N|~C))+B[6]+2734768916&4294967295,P=N+(k<<15&4294967295|k>>>17),k=C+(N^(P|~S))+B[13]+1309151649&4294967295,C=P+(k<<21&4294967295|k>>>11),k=S+(P^(C|~N))+B[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=N+(C^(S|~P))+B[11]+3174756917&4294967295,N=S+(k<<10&4294967295|k>>>22),k=P+(S^(N|~C))+B[2]+718787259&4294967295,P=N+(k<<15&4294967295|k>>>17),k=C+(N^(P|~S))+B[9]+3951481745&4294967295,L.g[0]=L.g[0]+S&4294967295,L.g[1]=L.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,L.g[2]=L.g[2]+P&4294967295,L.g[3]=L.g[3]+N&4294967295}r.prototype.u=function(L,S){S===void 0&&(S=L.length);for(var C=S-this.blockSize,B=this.B,P=this.h,N=0;N<S;){if(P==0)for(;N<=C;)i(this,L,N),N+=this.blockSize;if(typeof L=="string"){for(;N<S;)if(B[P++]=L.charCodeAt(N++),P==this.blockSize){i(this,B),P=0;break}}else for(;N<S;)if(B[P++]=L[N++],P==this.blockSize){i(this,B),P=0;break}}this.h=P,this.o+=S},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var S=1;S<L.length-8;++S)L[S]=0;var C=8*this.o;for(S=L.length-8;S<L.length;++S)L[S]=C&255,C/=256;for(this.u(L),L=Array(16),S=C=0;4>S;++S)for(var B=0;32>B;B+=8)L[C++]=this.g[S]>>>B&255;return L};function s(L,S){var C=u;return Object.prototype.hasOwnProperty.call(C,L)?C[L]:C[L]=S(L)}function a(L,S){this.h=S;for(var C=[],B=!0,P=L.length-1;0<=P;P--){var N=L[P]|0;B&&N==S||(C[P]=N,B=!1)}this.g=C}var u={};function c(L){return-128<=L&&128>L?s(L,function(S){return new a([S|0],0>S?-1:0)}):new a([L|0],0>L?-1:0)}function h(L){if(isNaN(L)||!isFinite(L))return m;if(0>L)return w(h(-L));for(var S=[],C=1,B=0;L>=C;B++)S[B]=L/C|0,C*=4294967296;return new a(S,0)}function p(L,S){if(L.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(L.charAt(0)=="-")return w(p(L.substring(1),S));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(S,8)),B=m,P=0;P<L.length;P+=8){var N=Math.min(8,L.length-P),k=parseInt(L.substring(P,P+N),S);8>N?(N=h(Math.pow(S,N)),B=B.j(N).add(h(k))):(B=B.j(C),B=B.add(h(k)))}return B}var m=c(0),v=c(1),_=c(16777216);n=a.prototype,n.m=function(){if(T(this))return-w(this).m();for(var L=0,S=1,C=0;C<this.g.length;C++){var B=this.i(C);L+=(0<=B?B:4294967296+B)*S,S*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(A(this))return"0";if(T(this))return"-"+w(this).toString(L);for(var S=h(Math.pow(L,6)),C=this,B="";;){var P=q(C,S).g;C=O(C,P.j(S));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(L);if(C=P,A(C))return N+B;for(;6>N.length;)N="0"+N;B=N+B}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function A(L){if(L.h!=0)return!1;for(var S=0;S<L.g.length;S++)if(L.g[S]!=0)return!1;return!0}function T(L){return L.h==-1}n.l=function(L){return L=O(this,L),T(L)?-1:A(L)?0:1};function w(L){for(var S=L.g.length,C=[],B=0;B<S;B++)C[B]=~L.g[B];return new a(C,~L.h).add(v)}n.abs=function(){return T(this)?w(this):this},n.add=function(L){for(var S=Math.max(this.g.length,L.g.length),C=[],B=0,P=0;P<=S;P++){var N=B+(this.i(P)&65535)+(L.i(P)&65535),k=(N>>>16)+(this.i(P)>>>16)+(L.i(P)>>>16);B=k>>>16,N&=65535,k&=65535,C[P]=k<<16|N}return new a(C,C[C.length-1]&-2147483648?-1:0)};function O(L,S){return L.add(w(S))}n.j=function(L){if(A(this)||A(L))return m;if(T(this))return T(L)?w(this).j(w(L)):w(w(this).j(L));if(T(L))return w(this.j(w(L)));if(0>this.l(_)&&0>L.l(_))return h(this.m()*L.m());for(var S=this.g.length+L.g.length,C=[],B=0;B<2*S;B++)C[B]=0;for(B=0;B<this.g.length;B++)for(var P=0;P<L.g.length;P++){var N=this.i(B)>>>16,k=this.i(B)&65535,J=L.i(P)>>>16,F=L.i(P)&65535;C[2*B+2*P]+=k*F,M(C,2*B+2*P),C[2*B+2*P+1]+=N*F,M(C,2*B+2*P+1),C[2*B+2*P+1]+=k*J,M(C,2*B+2*P+1),C[2*B+2*P+2]+=N*J,M(C,2*B+2*P+2)}for(B=0;B<S;B++)C[B]=C[2*B+1]<<16|C[2*B];for(B=S;B<2*S;B++)C[B]=0;return new a(C,0)};function M(L,S){for(;(L[S]&65535)!=L[S];)L[S+1]+=L[S]>>>16,L[S]&=65535,S++}function j(L,S){this.g=L,this.h=S}function q(L,S){if(A(S))throw Error("division by zero");if(A(L))return new j(m,m);if(T(L))return S=q(w(L),S),new j(w(S.g),w(S.h));if(T(S))return S=q(L,w(S)),new j(w(S.g),S.h);if(30<L.g.length){if(T(L)||T(S))throw Error("slowDivide_ only works with positive integers.");for(var C=v,B=S;0>=B.l(L);)C=U(C),B=U(B);var P=D(C,1),N=D(B,1);for(B=D(B,2),C=D(C,2);!A(B);){var k=N.add(B);0>=k.l(L)&&(P=P.add(C),N=k),B=D(B,1),C=D(C,1)}return S=O(L,P.j(S)),new j(P,S)}for(P=m;0<=L.l(S);){for(C=Math.max(1,Math.floor(L.m()/S.m())),B=Math.ceil(Math.log(C)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),N=h(C),k=N.j(S);T(k)||0<k.l(L);)C-=B,N=h(C),k=N.j(S);A(N)&&(N=v),P=P.add(N),L=O(L,k)}return new j(P,L)}n.A=function(L){return q(this,L).h},n.and=function(L){for(var S=Math.max(this.g.length,L.g.length),C=[],B=0;B<S;B++)C[B]=this.i(B)&L.i(B);return new a(C,this.h&L.h)},n.or=function(L){for(var S=Math.max(this.g.length,L.g.length),C=[],B=0;B<S;B++)C[B]=this.i(B)|L.i(B);return new a(C,this.h|L.h)},n.xor=function(L){for(var S=Math.max(this.g.length,L.g.length),C=[],B=0;B<S;B++)C[B]=this.i(B)^L.i(B);return new a(C,this.h^L.h)};function U(L){for(var S=L.g.length+1,C=[],B=0;B<S;B++)C[B]=L.i(B)<<1|L.i(B-1)>>>31;return new a(C,L.h)}function D(L,S){var C=S>>5;S%=32;for(var B=L.g.length-C,P=[],N=0;N<B;N++)P[N]=0<S?L.i(N+C)>>>S|L.i(N+C+1)<<32-S:L.i(N+C);return new a(P,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uM=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,il=a}).apply(typeof Ax<"u"?Ax:typeof self<"u"?self:typeof window<"u"?window:{});var rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cM,gd,fM,Ig,zA,hM,dM,pM;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,E,x){return g==Array.prototype||g==Object.prototype||(g[E]=x.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof rg=="object"&&rg];for(var E=0;E<g.length;++E){var x=g[E];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function i(g,E){if(E)e:{var x=r;g=g.split(".");for(var z=0;z<g.length-1;z++){var re=g[z];if(!(re in x))break e;x=x[re]}g=g[g.length-1],z=x[g],E=E(z),E!=z&&E!=null&&e(x,g,{configurable:!0,writable:!0,value:E})}}function s(g,E){g instanceof String&&(g+="");var x=0,z=!1,re={next:function(){if(!z&&x<g.length){var ue=x++;return{value:E(ue,g[ue]),done:!1}}return z=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}i("Array.prototype.values",function(g){return g||function(){return s(this,function(E,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(g){var E=typeof g;return E=E!="object"?E:g?Array.isArray(g)?"array":E:"null",E=="array"||E=="object"&&typeof g.length=="number"}function h(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function p(g,E,x){return g.call.apply(g.bind,arguments)}function m(g,E,x){if(!g)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,z),g.apply(E,re)}}return function(){return g.apply(E,arguments)}}function v(g,E,x){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,v.apply(null,arguments)}function _(g,E){var x=Array.prototype.slice.call(arguments,1);return function(){var z=x.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function A(g,E){function x(){}x.prototype=E.prototype,g.aa=E.prototype,g.prototype=new x,g.prototype.constructor=g,g.Qb=function(z,re,ue){for(var Se=Array(arguments.length-2),At=2;At<arguments.length;At++)Se[At-2]=arguments[At];return E.prototype[re].apply(z,Se)}}function T(g){const E=g.length;if(0<E){const x=Array(E);for(let z=0;z<E;z++)x[z]=g[z];return x}return[]}function w(g,E){for(let x=1;x<arguments.length;x++){const z=arguments[x];if(c(z)){const re=g.length||0,ue=z.length||0;g.length=re+ue;for(let Se=0;Se<ue;Se++)g[re+Se]=z[Se]}else g.push(z)}}class O{constructor(E,x){this.i=E,this.j=x,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function M(g){return/^[\s\xa0]*$/.test(g)}function j(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function q(g){return q[" "](g),g}q[" "]=function(){};var U=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function D(g,E,x){for(const z in g)E.call(x,g[z],z,g)}function L(g,E){for(const x in g)E.call(void 0,g[x],x,g)}function S(g){const E={};for(const x in g)E[x]=g[x];return E}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(g,E){let x,z;for(let re=1;re<arguments.length;re++){z=arguments[re];for(x in z)g[x]=z[x];for(let ue=0;ue<C.length;ue++)x=C[ue],Object.prototype.hasOwnProperty.call(z,x)&&(g[x]=z[x])}}function P(g){var E=1;g=g.split(":");const x=[];for(;0<E&&g.length;)x.push(g.shift()),E--;return g.length&&x.push(g.join(":")),x}function N(g){u.setTimeout(()=>{throw g},0)}function k(){var g=_e;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class J{constructor(){this.h=this.g=null}add(E,x){const z=F.get();z.set(E,x),this.h?this.h.next=z:this.g=z,this.h=z}}var F=new O(()=>new $,g=>g.reset());class ${constructor(){this.next=this.g=this.h=null}set(E,x){this.h=E,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Z=!1,_e=new J,H=()=>{const g=u.Promise.resolve(void 0);G=()=>{g.then(ne)}};var ne=()=>{for(var g;g=k();){try{g.h.call(g.g)}catch(x){N(x)}var E=F;E.j(g),100>E.h&&(E.h++,g.next=E.g,E.g=g)}Z=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const x=()=>{};u.addEventListener("test",x,E),u.removeEventListener("test",x,E)}catch{}return g}();function Re(g,E){if(ce.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var x=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget){if(U){e:{try{q(E.nodeName);var re=!0;break e}catch{}re=!1}re||(E=null)}}else x=="mouseover"?E=g.fromElement:x=="mouseout"&&(E=g.toElement);this.relatedTarget=E,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Pe[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Re.aa.h.call(this)}}A(Re,ce);var Pe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),vt=0;function Yt(g,E,x,z,re){this.listener=g,this.proxy=null,this.src=E,this.type=x,this.capture=!!z,this.ha=re,this.key=++vt,this.da=this.fa=!1}function Ot(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Dn(g){this.src=g,this.g={},this.h=0}Dn.prototype.add=function(g,E,x,z,re){var ue=g.toString();g=this.g[ue],g||(g=this.g[ue]=[],this.h++);var Se=pi(g,E,z,re);return-1<Se?(E=g[Se],x||(E.fa=!1)):(E=new Yt(E,this.src,ue,!!z,re),E.fa=x,g.push(E)),E};function er(g,E){var x=E.type;if(x in g.g){var z=g.g[x],re=Array.prototype.indexOf.call(z,E,void 0),ue;(ue=0<=re)&&Array.prototype.splice.call(z,re,1),ue&&(Ot(E),g.g[x].length==0&&(delete g.g[x],g.h--))}}function pi(g,E,x,z){for(var re=0;re<g.length;++re){var ue=g[re];if(!ue.da&&ue.listener==E&&ue.capture==!!x&&ue.ha==z)return re}return-1}var Jt="closure_lm_"+(1e6*Math.random()|0),vs={};function Ds(g,E,x,z,re){if(Array.isArray(E)){for(var ue=0;ue<E.length;ue++)Ds(g,E[ue],x,z,re);return null}return x=Mr(x),g&&g[zt]?g.K(E,x,h(z)?!!z.capture:!1,re):ln(g,E,x,!1,z,re)}function ln(g,E,x,z,re,ue){if(!E)throw Error("Invalid event type");var Se=h(re)?!!re.capture:!!re,At=gr(g);if(At||(g[Jt]=At=new Dn(g)),x=At.add(E,x,z,Se,ue),x.proxy)return x;if(z=Ps(),x.proxy=z,z.src=g,z.listener=x,g.addEventListener)we||(re=Se),re===void 0&&(re=!1),g.addEventListener(E.toString(),z,re);else if(g.attachEvent)g.attachEvent(ji(E.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ps(){function g(x){return E.call(g.src,g.listener,x)}const E=mi;return g}function Bi(g,E,x,z,re){if(Array.isArray(E))for(var ue=0;ue<E.length;ue++)Bi(g,E[ue],x,z,re);else z=h(z)?!!z.capture:!!z,x=Mr(x),g&&g[zt]?(g=g.i,E=String(E).toString(),E in g.g&&(ue=g.g[E],x=pi(ue,x,z,re),-1<x&&(Ot(ue[x]),Array.prototype.splice.call(ue,x,1),ue.length==0&&(delete g.g[E],g.h--)))):g&&(g=gr(g))&&(E=g.g[E.toString()],g=-1,E&&(g=pi(E,x,z,re)),(x=-1<g?E[g]:null)&&_s(x))}function _s(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[zt])er(E.i,g);else{var x=g.type,z=g.proxy;E.removeEventListener?E.removeEventListener(x,z,g.capture):E.detachEvent?E.detachEvent(ji(x),z):E.addListener&&E.removeListener&&E.removeListener(z),(x=gr(E))?(er(x,g),x.h==0&&(x.src=null,E[Jt]=null)):Ot(g)}}}function ji(g){return g in vs?vs[g]:vs[g]="on"+g}function mi(g,E){if(g.da)g=!0;else{E=new Re(E,this);var x=g.listener,z=g.ha||g.src;g.fa&&_s(g),g=x.call(z,E)}return g}function gr(g){return g=g[Jt],g instanceof Dn?g:null}var Wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mr(g){return typeof g=="function"?g:(g[Wr]||(g[Wr]=function(E){return g.handleEvent(E)}),g[Wr])}function ut(){fe.call(this),this.i=new Dn(this),this.M=this,this.F=null}A(ut,fe),ut.prototype[zt]=!0,ut.prototype.removeEventListener=function(g,E,x,z){Bi(this,g,E,x,z)};function et(g,E){var x,z=g.F;if(z)for(x=[];z;z=z.F)x.push(z);if(g=g.M,z=E.type||E,typeof E=="string")E=new ce(E,g);else if(E instanceof ce)E.target=E.target||g;else{var re=E;E=new ce(z,g),B(E,re)}if(re=!0,x)for(var ue=x.length-1;0<=ue;ue--){var Se=E.g=x[ue];re=Pn(Se,z,!0,E)&&re}if(Se=E.g=g,re=Pn(Se,z,!0,E)&&re,re=Pn(Se,z,!1,E)&&re,x)for(ue=0;ue<x.length;ue++)Se=E.g=x[ue],re=Pn(Se,z,!1,E)&&re}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var g=this.i,E;for(E in g.g){for(var x=g.g[E],z=0;z<x.length;z++)Ot(x[z]);delete g.g[E],g.h--}}this.F=null},ut.prototype.K=function(g,E,x,z){return this.i.add(String(g),E,!1,x,z)},ut.prototype.L=function(g,E,x,z){return this.i.add(String(g),E,!0,x,z)};function Pn(g,E,x,z){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();for(var re=!0,ue=0;ue<E.length;++ue){var Se=E[ue];if(Se&&!Se.da&&Se.capture==x){var At=Se.listener,Ln=Se.ha||Se.src;Se.fa&&er(g.i,Se),re=At.call(Ln,z)!==!1&&re}}return re&&!z.defaultPrevented}function Zt(g,E,x){if(typeof g=="function")x&&(g=v(g,x));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(g,E||0)}function Ls(g){g.g=Zt(()=>{g.g=null,g.i&&(g.i=!1,Ls(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class Dr extends fe{constructor(E,x){super(),this.m=E,this.l=x,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ls(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(g){fe.call(this),this.h=g,this.g={}}A(Pr,fe);var Lr=[];function Tn(g){D(g.g,function(E,x){this.g.hasOwnProperty(x)&&_s(E)},g),g.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),Tn(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=u.JSON.stringify,gi=u.JSON.parse,yr=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Vs(){}Vs.prototype.h=null;function Kr(g){return g.h||(g.h=g.i())}function Fi(){}var Yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){ce.call(this,"d")}A(tr,ce);function Us(){ce.call(this,"c")}A(Us,ce);var nr={},Nt=null;function rr(){return Nt=Nt||new ut}nr.La="serverreachability";function zs(g){ce.call(this,nr.La,g)}A(zs,ce);function Y(g){const E=rr();et(E,new zs(E))}nr.STAT_EVENT="statevent";function te(g,E){ce.call(this,nr.STAT_EVENT,g),this.stat=E}A(te,ce);function ie(g){const E=rr();et(E,new te(E,g))}nr.Ma="timingevent";function pe(g,E){ce.call(this,nr.Ma,g),this.size=E}A(pe,ce);function Ae(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},E)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function Be(g,E,x,z,re,ue){g.info(function(){if(g.g)if(ue)for(var Se="",At=ue.split("&"),Ln=0;Ln<At.length;Ln++){var Tt=At[Ln].split("=");if(1<Tt.length){var Fn=Tt[0];Tt=Tt[1];var Vn=Fn.split("_");Se=2<=Vn.length&&Vn[1]=="type"?Se+(Fn+"="+Tt+"&"):Se+(Fn+"=redacted&")}}else Se=null;else Se=ue;return"XMLHTTP REQ ("+z+") [attempt "+re+"]: "+E+`
`+x+`
`+Se})}function Oe(g,E,x,z,re,ue,Se){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+re+"]: "+E+`
`+x+`
`+ue+" "+Se})}function De(g,E,x,z){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+Fe(g,x)+(z?" "+z:"")})}function ze(g,E){g.info(function(){return"TIMEOUT: "+E})}Ce.prototype.info=function(){};function Fe(g,E){if(!g.g)return E;if(!E)return null;try{var x=JSON.parse(E);if(x){for(g=0;g<x.length;g++)if(Array.isArray(x[g])){var z=x[g];if(!(2>z.length)){var re=z[1];if(Array.isArray(re)&&!(1>re.length)){var ue=re[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var Se=1;Se<re.length;Se++)re[Se]=""}}}}return En(x)}catch{return E}}var Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},it;function St(){}A(St,Vs),St.prototype.g=function(){return new XMLHttpRequest},St.prototype.i=function(){return{}},it=new St;function _t(g,E,x,z){this.j=g,this.i=E,this.l=x,this.R=z||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var Te={},Q={};function ve(g,E,x){g.L=1,g.v=Ul(yi(E)),g.m=x,g.P=!0,xe(g,null)}function xe(g,E){g.F=Date.now(),Ct(g),g.A=yi(g.v);var x=g.A,z=g.R;Array.isArray(z)||(z=[String(z)]),Qf(x.i,"t",z),g.C=0,x=g.j.J,g.h=new ht,g.g=Xp(g.j,x?E:null,!g.m),0<g.O&&(g.M=new Dr(v(g.Y,g,g.g),g.O)),E=g.U,x=g.g,z=g.ca;var re="readystatechange";Array.isArray(re)||(re&&(Lr[0]=re.toString()),re=Lr);for(var ue=0;ue<re.length;ue++){var Se=Ds(x,re[ue],z||E.handleEvent,!1,E.h||E);if(!Se)break;E.g[Se.key]=Se}E=g.H?S(g.H):{},g.m?(g.u||(g.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,E)):(g.u="GET",g.g.ea(g.A,g.u,null,E)),Y(),Be(g.i,g.u,g.A,g.l,g.R,g.m)}_t.prototype.ca=function(g){g=g.target;const E=this.M;E&&Wi(g)==3?E.j():this.Y(g)},_t.prototype.Y=function(g){try{if(g==this.g)e:{const Vn=Wi(this.g);var E=this.g.Ba();const xo=this.g.Z();if(!(3>Vn)&&(Vn!=3||this.g&&(this.h.h||this.g.oa()||Hp(this.g)))){this.J||Vn!=4||E==7||(E==8||0>=xo?Y(3):Y(2)),jt(this);var x=this.g.Z();this.X=x;t:if(tt(this)){var z=Hp(this.g);g="";var re=z.length,ue=Wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),gn(this);var Se="";break t}this.h.i=new u.TextDecoder}for(E=0;E<re;E++)this.h.h=!0,g+=this.h.i.decode(z[E],{stream:!(ue&&E==re-1)});z.length=0,this.h.g+=g,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=x==200,Oe(this.i,this.u,this.A,this.l,this.R,Vn,x),this.o){if(this.T&&!this.K){t:{if(this.g){var At,Ln=this.g;if((At=Ln.g?Ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(At)){var Tt=At;break t}}Tt=null}if(x=Tt)De(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tn(this,x);else{this.o=!1,this.s=3,ie(12),Ue(this),gn(this);break e}}if(this.P){x=!0;let sr;for(;!this.J&&this.C<Se.length;)if(sr=Bt(this,Se),sr==Q){Vn==4&&(this.s=4,ie(14),x=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==Te){this.s=4,ie(15),De(this.i,this.l,Se,"[Invalid Chunk]"),x=!1;break}else De(this.i,this.l,sr,null),tn(this,sr);if(tt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vn!=4||Se.length!=0||this.h.h||(this.s=1,ie(16),x=!1),this.o=this.o&&x,!x)De(this.i,this.l,Se,"[Invalid Chunked Response]"),Ue(this),gn(this);else if(0<Se.length&&!this.W){this.W=!0;var Fn=this.j;Fn.g==this&&Fn.ba&&!Fn.M&&(Fn.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),Gl(Fn),Fn.M=!0,ie(11))}}else De(this.i,this.l,Se,null),tn(this,Se);Vn==4&&Ue(this),this.o&&!this.J&&(Vn==4?Kp(this.j,this):(this.o=!1,Ct(this)))}else __(this.g),x==400&&0<Se.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Ue(this),gn(this)}}}catch{}finally{}};function tt(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Bt(g,E){var x=g.C,z=E.indexOf(`
`,x);return z==-1?Q:(x=Number(E.substring(x,z)),isNaN(x)?Te:(z+=1,z+x>E.length?Q:(E=E.slice(z,z+x),g.C=z+x,E)))}_t.prototype.cancel=function(){this.J=!0,Ue(this)};function Ct(g){g.S=Date.now()+g.I,en(g,g.I)}function en(g,E){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Ae(v(g.ba,g),E)}function jt(g){g.B&&(u.clearTimeout(g.B),g.B=null)}_t.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ze(this.i,this.A),this.L!=2&&(Y(),ie(17)),Ue(this),this.s=2,gn(this)):en(this,this.S-g)};function gn(g){g.j.G==0||g.J||Kp(g.j,g)}function Ue(g){jt(g);var E=g.M;E&&typeof E.ma=="function"&&E.ma(),g.M=null,Tn(g.U),g.g&&(E=g.g,g.g=null,E.abort(),E.ma())}function tn(g,E){try{var x=g.j;if(x.G!=0&&(x.g==g||Hi(x.h,g))){if(!g.K&&Hi(x.h,g)&&x.G==3){try{var z=x.Da.g.parse(E)}catch{z=null}if(Array.isArray(z)&&z.length==3){var re=z;if(re[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<g.F)hc(x),cc(x);else break e;th(x),ie(18)}}else x.za=re[1],0<x.za-x.T&&37500>re[2]&&x.F&&x.v==0&&!x.C&&(x.C=Ae(v(x.Za,x),6e3));if(1>=Ft(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Co(x,11)}else if((g.K||x.g==g)&&hc(x),!M(E))for(re=x.Da.g.parse(E),E=0;E<re.length;E++){let Tt=re[E];if(x.T=Tt[0],Tt=Tt[1],x.G==2)if(Tt[0]=="c"){x.K=Tt[1],x.ia=Tt[2];const Fn=Tt[3];Fn!=null&&(x.la=Fn,x.j.info("VER="+x.la));const Vn=Tt[4];Vn!=null&&(x.Aa=Vn,x.j.info("SVER="+x.Aa));const xo=Tt[5];xo!=null&&typeof xo=="number"&&0<xo&&(z=1.5*xo,x.L=z,x.j.info("backChannelRequestTimeoutMs_="+z)),z=x;const sr=g.g;if(sr){const Ws=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ws){var ue=z.h;ue.g||Ws.indexOf("spdy")==-1&&Ws.indexOf("quic")==-1&&Ws.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Ao(ue,ue.h),ue.h=null))}if(z.D){const rh=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;rh&&(z.ya=rh,Pt(z.I,z.D,rh))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-g.F,x.j.info("Handshake RTT: "+x.R+"ms")),z=x;var Se=g;if(z.qa=Qp(z,z.J?z.ia:null,z.W),Se.K){ir(z.h,Se);var At=Se,Ln=z.L;Ln&&(At.I=Ln),At.B&&(jt(At),Ct(At)),z.g=Se}else Gp(z);0<x.i.length&&fc(x)}else Tt[0]!="stop"&&Tt[0]!="close"||Co(x,7);else x.G==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?Co(x,7):Zf(x):Tt[0]!="noop"&&x.l&&x.l.ta(Tt),x.v=0)}}Y(4)}catch{}}var vr=class{constructor(g,E){this.g=g,this.map=E}};function Qr(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bs(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ft(g){return g.h?1:g.g?g.g.size:0}function Hi(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function Ao(g,E){g.g?g.g.add(E):g.h=E}function ir(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}Qr.prototype.cancel=function(){if(this.i=Gf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Gf(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const x of g.g.values())E=E.concat(x.D);return E}return T(g.i)}function m_(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var E=[],x=g.length,z=0;z<x;z++)E.push(g[z]);return E}E=[],x=0;for(z in g)E[x++]=g[z];return E}function ic(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var E=[];g=g.length;for(var x=0;x<g;x++)E.push(x);return E}E=[],x=0;for(const z in g)E[x++]=z;return E}}}function Wf(g,E){if(g.forEach&&typeof g.forEach=="function")g.forEach(E,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,E,void 0);else for(var x=ic(g),z=m_(g),re=z.length,ue=0;ue<re;ue++)E.call(void 0,z[ue],x&&x[ue],g)}var Ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g_(g,E){if(g){g=g.split("&");for(var x=0;x<g.length;x++){var z=g[x].indexOf("="),re=null;if(0<=z){var ue=g[x].substring(0,z);re=g[x].substring(z+1)}else ue=g[x];E(ue,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function wn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof wn){this.h=g.h,Vl(this,g.j),this.o=g.o,this.g=g.g,ha(this,g.s),this.l=g.l;var E=g.i,x=new Eo;x.i=E.i,E.g&&(x.g=new Map(E.g),x.h=E.h),To(this,x),this.m=g.m}else g&&(E=String(g).match(Ll))?(this.h=!1,Vl(this,E[1]||"",!0),this.o=qi(E[2]||""),this.g=qi(E[3]||"",!0),ha(this,E[4]),this.l=qi(E[5]||"",!0),To(this,E[6]||"",!0),this.m=qi(E[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}wn.prototype.toString=function(){var g=[],E=this.j;E&&g.push(zl(E,Kf,!0),":");var x=this.g;return(x||E=="file")&&(g.push("//"),(E=this.o)&&g.push(zl(E,Kf,!0),"@"),g.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&g.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&g.push("/"),g.push(zl(x,x.charAt(0)=="/"?y_:Yf,!0))),(x=this.i.toString())&&g.push("?",x),(x=this.m)&&g.push("#",zl(x,sc)),g.join("")};function yi(g){return new wn(g)}function Vl(g,E,x){g.j=x?qi(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function ha(g,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);g.s=E}else g.s=null}function To(g,E,x){E instanceof Eo?(g.i=E,jp(g.i,g.h)):(x||(E=zl(E,v_)),g.i=new Eo(E,g.h))}function Pt(g,E,x){g.i.set(E,x)}function Ul(g){return Pt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function qi(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function zl(g,E,x){return typeof g=="string"?(g=encodeURI(g).replace(E,Bp),x&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Bp(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Kf=/[#\/\?@]/g,Yf=/[#\?:]/g,y_=/[#\?]/g,v_=/[#\?@]/g,sc=/#/g;function Eo(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function $i(g){g.g||(g.g=new Map,g.h=0,g.i&&g_(g.i,function(E,x){g.add(decodeURIComponent(E.replace(/\+/g," ")),x)}))}n=Eo.prototype,n.add=function(g,E){$i(this),this.i=null,g=js(this,g);var x=this.g.get(g);return x||this.g.set(g,x=[]),x.push(E),this.h+=1,this};function wo(g,E){$i(g),E=js(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function So(g,E){return $i(g),E=js(g,E),g.g.has(E)}n.forEach=function(g,E){$i(this),this.g.forEach(function(x,z){x.forEach(function(re){g.call(E,re,z,this)},this)},this)},n.na=function(){$i(this);const g=Array.from(this.g.values()),E=Array.from(this.g.keys()),x=[];for(let z=0;z<E.length;z++){const re=g[z];for(let ue=0;ue<re.length;ue++)x.push(E[z])}return x},n.V=function(g){$i(this);let E=[];if(typeof g=="string")So(this,g)&&(E=E.concat(this.g.get(js(this,g))));else{g=Array.from(this.g.values());for(let x=0;x<g.length;x++)E=E.concat(g[x])}return E},n.set=function(g,E){return $i(this),this.i=null,g=js(this,g),So(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},n.get=function(g,E){return g?(g=this.V(g),0<g.length?String(g[0]):E):E};function Qf(g,E,x){wo(g,E),0<x.length&&(g.i=null,g.g.set(js(g,E),T(x)),g.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(var x=0;x<E.length;x++){var z=E[x];const ue=encodeURIComponent(String(z)),Se=this.V(z);for(z=0;z<Se.length;z++){var re=ue;Se[z]!==""&&(re+="="+encodeURIComponent(String(Se[z]))),g.push(re)}}return this.i=g.join("&")};function js(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function jp(g,E){E&&!g.j&&($i(g),g.i=null,g.g.forEach(function(x,z){var re=z.toLowerCase();z!=re&&(wo(this,z),Qf(this,re,x))},g)),g.j=E}function Bl(g,E){const x=new Ce;if(u.Image){const z=new Image;z.onload=_(Gi,x,"TestLoadImage: loaded",!0,E,z),z.onerror=_(Gi,x,"TestLoadImage: error",!1,E,z),z.onabort=_(Gi,x,"TestLoadImage: abort",!1,E,z),z.ontimeout=_(Gi,x,"TestLoadImage: timeout",!1,E,z),u.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else E(!1)}function bs(g,E){const x=new Ce,z=new AbortController,re=setTimeout(()=>{z.abort(),Gi(x,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:z.signal}).then(ue=>{clearTimeout(re),ue.ok?Gi(x,"TestPingServer: ok",!0,E):Gi(x,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(re),Gi(x,"TestPingServer: error",!1,E)})}function Gi(g,E,x,z,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),z(x)}catch{}}function jl(){this.g=new yr}function Fs(g,E,x){const z=x||"";try{Wf(g,function(re,ue){let Se=re;h(re)&&(Se=En(re)),E.push(z+ue+"="+encodeURIComponent(Se))})}catch(re){throw E.push(z+"type="+encodeURIComponent("_badmap")),re}}function da(g){this.l=g.Ub||null,this.j=g.eb||!1}A(da,Vs),da.prototype.g=function(){return new Ro(this.l,this.j)},da.prototype.i=function(g){return function(){return g}}({});function Ro(g,E){ut.call(this),this.D=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ro,ut),n=Ro.prototype,n.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=E,this.readyState=1,qs(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(E.body=g),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,qs(this)),this.g&&(this.readyState=3,qs(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xf(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xf(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Hs(this):qs(this),this.readyState==3&&Xf(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Hs(this))},n.Qa=function(g){this.g&&(this.response=g,Hs(this))},n.ga=function(){this.g&&Hs(this)};function Hs(g){g.readyState=4,g.l=null,g.j=null,g.v=null,qs(g)}n.setRequestHeader=function(g,E){this.u.append(g,E)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var x=E.next();!x.done;)x=x.value,g.push(x[0]+": "+x[1]),x=E.next();return g.join(`\r
`)};function qs(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ro.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Jf(g){let E="";return D(g,function(x,z){E+=z,E+=":",E+=x,E+=`\r
`}),E}function jn(g,E,x){e:{for(z in x){var z=!1;break e}z=!0}z||(x=Jf(x),typeof g=="string"?x!=null&&encodeURIComponent(String(x)):Pt(g,E,x))}function It(g){ut.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(It,ut);var oc=/^https?$/i,Fl=["POST","PUT"];n=It.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,E,x,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():it.g(),this.v=this.o?Kr(this.o):Kr(it),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(ue){Fp(this,ue);return}if(g=x||"",x=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var re in z)x.set(re,z[re]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ue of z.keys())x.set(ue,z.get(ue));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(x.keys()).find(ue=>ue.toLowerCase()=="content-type"),re=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Fl,E,void 0))||z||re||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Se]of x)this.g.setRequestHeader(ue,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hl(this),this.u=!0,this.g.send(g),this.u=!1}catch(ue){Fp(this,ue)}};function Fp(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.m=5,ac(g),$s(g)}function ac(g){g.A||(g.A=!0,et(g,"complete"),et(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,et(this,"complete"),et(this,"abort"),$s(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$s(this,!0)),It.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?lc(this):this.bb())},n.bb=function(){lc(this)};function lc(g){if(g.h&&typeof a<"u"&&(!g.v[1]||Wi(g)!=4||g.Z()!=2)){if(g.u&&Wi(g)==4)Zt(g.Ea,0,g);else if(et(g,"readystatechange"),Wi(g)==4){g.h=!1;try{const Se=g.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var x;if(!(x=E)){var z;if(z=Se===0){var re=String(g.D).match(Ll)[1]||null;!re&&u.self&&u.self.location&&(re=u.self.location.protocol.slice(0,-1)),z=!oc.test(re?re.toLowerCase():"")}x=z}if(x)et(g,"complete"),et(g,"success");else{g.m=6;try{var ue=2<Wi(g)?g.g.statusText:""}catch{ue=""}g.l=ue+" ["+g.Z()+"]",ac(g)}}finally{$s(g)}}}}function $s(g,E){if(g.g){Hl(g);const x=g.g,z=g.v[0]?()=>{}:null;g.g=null,g.v=null,E||et(g,"ready");try{x.onreadystatechange=z}catch{}}}function Hl(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function Wi(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<Wi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),gi(E)}};function Hp(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function __(g){const E={};g=(g.g&&2<=Wi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(M(g[z]))continue;var x=P(g[z]);const re=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ue=E[re]||[];E[re]=ue,ue.push(x)}L(E,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ql(g,E,x){return x&&x.internalChannelParams&&x.internalChannelParams[g]||E}function uc(g){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ql("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ql("baseRetryDelayMs",5e3,g),this.cb=ql("retryDelaySeedMs",1e4,g),this.Wa=ql("forwardChannelMaxRetries",2,g),this.wa=ql("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Qr(g&&g.concurrentRequestLimit),this.Da=new jl,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=uc.prototype,n.la=8,n.G=1,n.connect=function(g,E,x,z){ie(0),this.W=g,this.H=E||{},x&&z!==void 0&&(this.H.OSID=x,this.H.OAID=z),this.F=this.X,this.I=Qp(this,null,this.W),fc(this)};function Zf(g){if(qp(g),g.G==3){var E=g.U++,x=yi(g.I);if(Pt(x,"SID",g.K),Pt(x,"RID",E),Pt(x,"TYPE","terminate"),$l(g,x),E=new _t(g,g.j,E),E.L=2,E.v=Ul(yi(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!x&&u.Image&&(new Image().src=E.v,x=!0),x||(E.g=Xp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Ct(E)}Yp(g)}function cc(g){g.g&&(Gl(g),g.g.cancel(),g.g=null)}function qp(g){cc(g),g.u&&(u.clearTimeout(g.u),g.u=null),hc(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function fc(g){if(!Bs(g.h)&&!g.s){g.s=!0;var E=g.Ga;G||H(),Z||(G(),Z=!0),_e.add(E,g),g.B=0}}function b_(g,E){return Ft(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=E.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Ae(v(g.Ga,g,E),nh(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const re=new _t(this,this.j,g);let ue=this.o;if(this.S&&(ue?(ue=S(ue),B(ue,this.S)):ue=this.S),this.m!==null||this.O||(re.H=ue,ue=null),this.P)e:{for(var E=0,x=0;x<this.i.length;x++){t:{var z=this.i[x];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(E+=z,4096<E){E=x;break e}if(E===4096||x===this.i.length-1){E=x+1;break e}}E=1e3}else E=1e3;E=$p(this,re,E),x=yi(this.I),Pt(x,"RID",g),Pt(x,"CVER",22),this.D&&Pt(x,"X-HTTP-Session-Id",this.D),$l(this,x),ue&&(this.O?E="headers="+encodeURIComponent(String(Jf(ue)))+"&"+E:this.m&&jn(x,this.m,ue)),Ao(this.h,re),this.Ua&&Pt(x,"TYPE","init"),this.P?(Pt(x,"$req",E),Pt(x,"SID","null"),re.T=!0,ve(re,x,null)):ve(re,x,E),this.G=2}}else this.G==3&&(g?eh(this,g):this.i.length==0||Bs(this.h)||eh(this))};function eh(g,E){var x;E?x=E.l:x=g.U++;const z=yi(g.I);Pt(z,"SID",g.K),Pt(z,"RID",x),Pt(z,"AID",g.T),$l(g,z),g.m&&g.o&&jn(z,g.m,g.o),x=new _t(g,g.j,x,g.B+1),g.m===null&&(x.H=g.o),E&&(g.i=E.D.concat(g.i)),E=$p(g,x,1e3),x.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ao(g.h,x),ve(x,z,E)}function $l(g,E){g.H&&D(g.H,function(x,z){Pt(E,z,x)}),g.l&&Wf({},function(x,z){Pt(E,z,x)})}function $p(g,E,x){x=Math.min(g.i.length,x);var z=g.l?v(g.l.Na,g.l,g):null;e:{var re=g.i;let ue=-1;for(;;){const Se=["count="+x];ue==-1?0<x?(ue=re[0].g,Se.push("ofs="+ue)):ue=0:Se.push("ofs="+ue);let At=!0;for(let Ln=0;Ln<x;Ln++){let Tt=re[Ln].g;const Fn=re[Ln].map;if(Tt-=ue,0>Tt)ue=Math.max(0,re[Ln].g-100),At=!1;else try{Fs(Fn,Se,"req"+Tt+"_")}catch{z&&z(Fn)}}if(At){z=Se.join("&");break e}}}return g=g.i.splice(0,x),E.D=g,z}function Gp(g){if(!g.g&&!g.u){g.Y=1;var E=g.Fa;G||H(),Z||(G(),Z=!0),_e.add(E,g),g.v=0}}function th(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Ae(v(g.Fa,g),nh(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Wp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Ae(v(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),cc(this),Wp(this))};function Gl(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Wp(g){g.g=new _t(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var E=yi(g.qa);Pt(E,"RID","rpc"),Pt(E,"SID",g.K),Pt(E,"AID",g.T),Pt(E,"CI",g.F?"0":"1"),!g.F&&g.ja&&Pt(E,"TO",g.ja),Pt(E,"TYPE","xmlhttp"),$l(g,E),g.m&&g.o&&jn(E,g.m,g.o),g.L&&(g.g.I=g.L);var x=g.g;g=g.ia,x.L=1,x.v=Ul(yi(E)),x.m=null,x.P=!0,xe(x,g)}n.Za=function(){this.C!=null&&(this.C=null,cc(this),th(this),ie(19))};function hc(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Kp(g,E){var x=null;if(g.g==E){hc(g),Gl(g),g.g=null;var z=2}else if(Hi(g.h,E))x=E.D,ir(g.h,E),z=1;else return;if(g.G!=0){if(E.o)if(z==1){x=E.m?E.m.length:0,E=Date.now()-E.F;var re=g.B;z=rr(),et(z,new pe(z,x)),fc(g)}else Gp(g);else if(re=E.s,re==3||re==0&&0<E.X||!(z==1&&b_(g,E)||z==2&&th(g)))switch(x&&0<x.length&&(E=g.h,E.i=E.i.concat(x)),re){case 1:Co(g,5);break;case 4:Co(g,10);break;case 3:Co(g,6);break;default:Co(g,2)}}}function nh(g,E){let x=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(x*=2),x*E}function Co(g,E){if(g.j.info("Error code "+E),E==2){var x=v(g.fb,g),z=g.Xa;const re=!z;z=new wn(z||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Vl(z,"https"),Ul(z),re?Bl(z.toString(),x):bs(z.toString(),x)}else ie(2);g.G=0,g.l&&g.l.sa(E),Yp(g),qp(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Yp(g){if(g.G=0,g.ka=[],g.l){const E=Gf(g.h);(E.length!=0||g.i.length!=0)&&(w(g.ka,E),w(g.ka,g.i),g.h.i.length=0,T(g.i),g.i.length=0),g.l.ra()}}function Qp(g,E,x){var z=x instanceof wn?yi(x):new wn(x);if(z.g!="")E&&(z.g=E+"."+z.g),ha(z,z.s);else{var re=u.location;z=re.protocol,E=E?E+"."+re.hostname:re.hostname,re=+re.port;var ue=new wn(null);z&&Vl(ue,z),E&&(ue.g=E),re&&ha(ue,re),x&&(ue.l=x),z=ue}return x=g.D,E=g.ya,x&&E&&Pt(z,x,E),Pt(z,"VER",g.la),$l(g,z),z}function Xp(g,E,x){if(E&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Ca&&!g.pa?new It(new da({eb:x})):new It(g.pa),E.Ha(g.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jp(){}n=Jp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function dc(){}dc.prototype.g=function(g,E){return new Vr(g,E)};function Vr(g,E){ut.call(this),this.g=new uc(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(g?g["X-WebChannel-Client-Profile"]=E.va:g={"X-WebChannel-Client-Profile":E.va}),this.g.S=g,(g=E&&E.Sb)&&!M(g)&&(this.g.m=g),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!M(E)&&(this.g.D=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new Gs(this)}A(Vr,ut),Vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){Zf(this.g)},Vr.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var x={};x.__data__=g,g=x}else this.u&&(x={},x.__data__=En(g),g=x);E.i.push(new vr(E.Ya++,g)),E.G==3&&fc(E)},Vr.prototype.N=function(){this.g.l=null,delete this.j,Zf(this.g),delete this.g,Vr.aa.N.call(this)};function Zp(g){tr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const x in E){g=x;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}A(Zp,tr);function em(){Us.call(this),this.status=1}A(em,Us);function Gs(g){this.g=g}A(Gs,Jp),Gs.prototype.ua=function(){et(this.g,"a")},Gs.prototype.ta=function(g){et(this.g,new Zp(g))},Gs.prototype.sa=function(g){et(this.g,new em)},Gs.prototype.ra=function(){et(this.g,"b")},dc.prototype.createWebChannel=dc.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,pM=function(){return new dc},dM=function(){return rr()},hM=nr,zA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Ig=Ie,qe.COMPLETE="complete",fM=qe,Fi.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,gd=Fi,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,cM=It}).apply(typeof rg<"u"?rg:typeof self<"u"?self:typeof window<"u"?window:{});const Tx="@firebase/firestore",Ex="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new wv("@firebase/firestore");function Gc(){return Uu.logLevel}function Ne(n,...e){if(Uu.logLevel<=gt.DEBUG){const t=e.map(mE);Uu.debug(`Firestore (${Uf}): ${n}`,...t)}}function ia(n,...e){if(Uu.logLevel<=gt.ERROR){const t=e.map(mE);Uu.error(`Firestore (${Uf}): ${n}`,...t)}}function pf(n,...e){if(Uu.logLevel<=gt.WARN){const t=e.map(mE);Uu.warn(`Firestore (${Uf}): ${n}`,...t)}}function mE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,mM(n,r,t)}function mM(n,e,t){let r=`FIRESTORE (${Uf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ia(r),new Error(r)}function kt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||mM(e,i,r)}function Ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends ys{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Er.UNAUTHENTICATED))}shutdown(){}}class nF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rF{constructor(e){this.t=e,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new Zo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zo,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zo)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new gM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Er(e)}}class iF{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sF{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new iF(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oF{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){kt(this.o===void 0,3512);const r=s=>{s.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=aF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function lt(n,e){return n<e?-1:n>e?1:0}function BA(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return lt(r,i);{const s=yM(),a=lF(s.encode(Sx(n,t)),s.encode(Sx(e,t)));return a!==0?a:lt(r,i)}}t+=r>65535?2:1}return lt(n.length,e.length)}function Sx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function lF(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return lt(n[t],e[t]);return lt(n.length,e.length)}function mf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=-62135596800,Cx=1e6;class Mn{static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Cx);return new Mn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Rx)throw new Me(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cx}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Rx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Mn(0,0))}static max(){return new Xe(new Mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="__name__";class no{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ye(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ye(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return no.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof no?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=no.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return lt(e.length,t.length)}static compareSegments(e,t){const r=no.isNumericId(e),i=no.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?no.extractNumericId(e).compare(no.extractNumericId(t)):BA(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return il.fromString(e.substring(4,e.length-2))}}class Kt extends no{construct(e,t,r){return new Kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const uF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends no{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return uF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xx}static keyField(){return new dr([xx])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Me(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Me(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Me(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new Me(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Kt.fromString(e))}static fromName(e){return new He(Kt.fromString(e).popFirst(5))}static empty(){return new He(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=-1;function cF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Mn(t+1,0):new Mn(t,r));return new ml(i,He.empty(),e)}function fF(n){return new ml(n.readTime,n.key,Kd)}class ml{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ml(Xe.min(),He.empty(),Kd)}static max(){return new ml(Xe.max(),He.empty(),Kd)}}function hF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=He.comparator(n.documentKey,e.documentKey),t!==0?t:lt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==dF)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&t()},c=>r(c))}),a=!0,s===i&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(i=>i?ge.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const h=c;t(e[h]).next(p=>{a[h]=p,++u,u===s&&r(a)},p=>i(p))}})}static doWhile(e,t){return new ge((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function mF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Sv.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=-1;function Rv(n){return n==null}function ry(n){return n===0&&1/n==-1/0}function gF(n){return typeof n=="number"&&Number.isInteger(n)&&!ry(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="";function yF(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ix(e)),e=vF(n.get(t),e);return Ix(e)}function vF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case _M:t+="";break;default:t+=s}}return t}function Ix(n){return n+_M+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t){this.comparator=e,this.root=t||cr.EMPTY}insert(e,t){return new an(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ig(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ig(this.root,e,this.comparator,!1)}getReverseIterator(){return new ig(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ig(this.root,e,this.comparator,!0)}}class ig{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??cr.RED,this.left=i??cr.EMPTY,this.right=s??cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new cr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return cr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ye(27949);return e+(this.isRed()?0:1)}}cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1;cr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye(57766)}get value(){throw Ye(16141)}get color(){throw Ye(16727)}get left(){throw Ye(29726)}get right(){throw Ye(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new cr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ox(this.data.getIterator())}getIteratorFrom(e){return new Ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bn(this.comparator);return t.data=e,t}}class Ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new Ni([])}unionWith(e){let t=new Bn(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ni(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AM("Invalid base64 string: "+s):s}}(e);return new mr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const _F=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gl(n){if(kt(!!n,39018),typeof n=="string"){let e=0;const t=_F.exec(n);if(kt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(n.seconds),nanos:_n(n.nanos)}}function _n(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yl(n){return typeof n=="string"?mr.fromBase64String(n):mr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="server_timestamp",EM="__type__",wM="__previous_value__",SM="__local_write_time__";function yE(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[EM])===null||t===void 0?void 0:t.stringValue)===TM}function Cv(n){const e=n.mapValue.fields[wM];return yE(e)?Cv(e):e}function Yd(n){const e=gl(n.mapValue.fields[SM].timestampValue);return new Mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,t,r,i,s,a,u,c,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h}}const iy="(default)";class Qd{constructor(e,t){this.projectId=e,this.database=t||iy}static empty(){return new Qd("","")}get isDefaultDatabase(){return this.database===iy}isEqual(e){return e instanceof Qd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="__type__",AF="__max__",sg={mapValue:{}},CM="__vector__",sy="value";function vl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yE(n)?4:EF(n)?9007199254740991:TF(n)?10:11:Ye(28295,{value:n})}function go(n,e){if(n===e)return!0;const t=vl(n);if(t!==vl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yd(n).isEqual(Yd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=gl(i.timestampValue),u=gl(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return yl(i.bytesValue).isEqual(yl(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return _n(i.geoPointValue.latitude)===_n(s.geoPointValue.latitude)&&_n(i.geoPointValue.longitude)===_n(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _n(i.integerValue)===_n(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=_n(i.doubleValue),u=_n(s.doubleValue);return a===u?ry(a)===ry(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return mf(n.arrayValue.values||[],e.arrayValue.values||[],go);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(kx(a)!==kx(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!go(a[c],u[c])))return!1;return!0}(n,e);default:return Ye(52216,{left:n})}}function Xd(n,e){return(n.values||[]).find(t=>go(t,e))!==void 0}function gf(n,e){if(n===e)return 0;const t=vl(n),r=vl(e);if(t!==r)return lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(n.booleanValue,e.booleanValue);case 2:return function(s,a){const u=_n(s.integerValue||s.doubleValue),c=_n(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return Nx(n.timestampValue,e.timestampValue);case 4:return Nx(Yd(n),Yd(e));case 5:return BA(n.stringValue,e.stringValue);case 6:return function(s,a){const u=yl(s),c=yl(a);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let h=0;h<u.length&&h<c.length;h++){const p=lt(u[h],c[h]);if(p!==0)return p}return lt(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const u=lt(_n(s.latitude),_n(a.latitude));return u!==0?u:lt(_n(s.longitude),_n(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Mx(n.arrayValue,e.arrayValue);case 10:return function(s,a){var u,c,h,p;const m=s.fields||{},v=a.fields||{},_=(u=m[sy])===null||u===void 0?void 0:u.arrayValue,A=(c=v[sy])===null||c===void 0?void 0:c.arrayValue,T=lt(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0);return T!==0?T:Mx(_,A)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===sg.mapValue&&a===sg.mapValue)return 0;if(s===sg.mapValue)return 1;if(a===sg.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),h=a.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const v=BA(c[m],p[m]);if(v!==0)return v;const _=gf(u[c[m]],h[p[m]]);if(_!==0)return _}return lt(c.length,p.length)}(n.mapValue,e.mapValue);default:throw Ye(23264,{Pe:t})}}function Nx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return lt(n,e);const t=gl(n),r=gl(e),i=lt(t.seconds,r.seconds);return i!==0?i:lt(t.nanos,r.nanos)}function Mx(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=gf(t[i],r[i]);if(s)return s}return lt(t.length,r.length)}function yf(n){return jA(n)}function jA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=gl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return yl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return He.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=jA(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${jA(t.fields[a])}`;return i+"}"}(n.mapValue):Ye(61005,{value:n})}function kg(n){switch(vl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cv(n);return e?16+kg(e):16;case 5:return 2*n.stringValue.length;case 6:return yl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+kg(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return xl(r.fields,(s,a)=>{i+=s.length+kg(a)}),i}(n.mapValue);default:throw Ye(13486,{value:n})}}function Dx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function FA(n){return!!n&&"integerValue"in n}function vE(n){return!!n&&"arrayValue"in n}function Px(n){return!!n&&"nullValue"in n}function Lx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Og(n){return!!n&&"mapValue"in n}function TF(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[RM])===null||t===void 0?void 0:t.stringValue)===CM}function Rd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Og(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rd(t)}setAll(e){let t=dr.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}a?r[u.lastSegment()]=Rd(a):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Og(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return go(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Og(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){xl(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ni(Rd(this.value))}}function xM(n){const e=[];return xl(n.fields,(t,r)=>{const i=new dr([t]);if(Og(r)){const s=xM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,t,r,i,s,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Sr(e,0,Xe.min(),Xe.min(),Xe.min(),ni.empty(),0)}static newFoundDocument(e,t,r,i){return new Sr(e,1,t,Xe.min(),r,i,0)}static newNoDocument(e,t){return new Sr(e,2,t,Xe.min(),Xe.min(),ni.empty(),0)}static newUnknownDocument(e,t){return new Sr(e,3,t,Xe.min(),Xe.min(),ni.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){this.position=e,this.inclusive=t}}function Vx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=He.comparator(He.fromName(a.referenceValue),t.key):r=gf(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ux(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!go(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t="asc"){this.field=e,this.dir=t}}function wF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{}class On extends IM{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new RF(e,t,r):t==="array-contains"?new IF(e,r):t==="in"?new kF(e,r):t==="not-in"?new OF(e,r):t==="array-contains-any"?new NF(e,r):new On(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new CF(e,r):new xF(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gf(t,this.value)):t!==null&&vl(this.value)===vl(t)&&this.matchesComparison(gf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ks extends IM{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ks(e,t)}matches(e){return kM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function kM(n){return n.op==="and"}function OM(n){return SF(n)&&kM(n)}function SF(n){for(const e of n.filters)if(e instanceof ks)return!1;return!0}function HA(n){if(n instanceof On)return n.field.canonicalString()+n.op.toString()+yf(n.value);if(OM(n))return n.filters.map(e=>HA(e)).join(",");{const e=n.filters.map(t=>HA(t)).join(",");return`${n.op}(${e})`}}function NM(n,e){return n instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.field.isEqual(i.field)&&go(r.value,i.value)}(n,e):n instanceof ks?function(r,i){return i instanceof ks&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&NM(a,i.filters[u]),!0):!1}(n,e):void Ye(19439)}function MM(n){return n instanceof On?function(t){return`${t.field.canonicalString()} ${t.op} ${yf(t.value)}`}(n):n instanceof ks?function(t){return t.op.toString()+" {"+t.getFilters().map(MM).join(" ,")+"}"}(n):"Filter"}class RF extends On{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class CF extends On{constructor(e,t){super(e,"in",t),this.keys=DM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xF extends On{constructor(e,t){super(e,"not-in",t),this.keys=DM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class IF extends On{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vE(t)&&Xd(t.arrayValue,this.value)}}class kF extends On{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xd(this.value.arrayValue,t)}}class OF extends On{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xd(this.value.arrayValue,t)}}class NF extends On{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,t=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.Ie=null}}function zx(n,e=null,t=[],r=[],i=null,s=null,a=null){return new MF(n,e,t,r,i,s,a)}function _E(n){const e=Ze(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>HA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Rv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>yf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>yf(r)).join(",")),e.Ie=t}return e.Ie}function bE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ux(n.startAt,e.startAt)&&Ux(n.endAt,e.endAt)}function qA(n){return He.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function DF(n,e,t,r,i,s,a,u){return new Ep(n,e,t,r,i,s,a,u)}function AE(n){return new Ep(n)}function Bx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PM(n){return n.collectionGroup!==null}function Cd(n){const e=Ze(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Bn(dr.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new ay(s,r))}),t.has(dr.keyField().canonicalString())||e.Ee.push(new ay(dr.keyField(),r))}return e.Ee}function uo(n){const e=Ze(n);return e.de||(e.de=PF(e,Cd(n))),e.de}function PF(n,e){if(n.limitType==="F")return zx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ay(i.field,s)});const t=n.endAt?new oy(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new oy(n.startAt.position,n.startAt.inclusive):null;return zx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $A(n,e){const t=n.filters.concat([e]);return new Ep(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function GA(n,e,t){return new Ep(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xv(n,e){return bE(uo(n),uo(e))&&n.limitType===e.limitType}function LM(n){return`${_E(uo(n))}|lt:${n.limitType}`}function Wc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>MM(i)).join(", ")}]`),Rv(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>yf(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>yf(i)).join(",")),`Target(${r})`}(uo(n))}; limitType=${n.limitType})`}function Iv(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):He.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Cd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const h=Vx(a,u,c);return a.inclusive?h<=0:h<0}(r.startAt,Cd(r),i)||r.endAt&&!function(a,u,c){const h=Vx(a,u,c);return a.inclusive?h>=0:h>0}(r.endAt,Cd(r),i))}(n,e)}function LF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VM(n){return(e,t)=>{let r=!1;for(const i of Cd(n)){const s=VF(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function VF(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(s,a,u){const c=a.data.field(s),h=u.data.field(s);return c!==null&&h!==null?gf(c,h):Ye(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ye(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new an(He.comparator);function sa(){return UF}const UM=new an(He.comparator);function yd(...n){let e=UM;for(const t of n)e=e.insert(t.key,t);return e}function zM(n){let e=UM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function _u(){return xd()}function BM(){return xd()}function xd(){return new Zu(n=>n.toString(),(n,e)=>n.isEqual(e))}const zF=new an(He.comparator),BF=new Bn(He.comparator);function yt(...n){let e=BF;for(const t of n)e=e.add(t);return e}const jF=new Bn(lt);function FF(){return jF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ry(e)?"-0":e}}function jM(n){return{integerValue:""+n}}function HF(n,e){return gF(e)?jM(e):TE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this._=void 0}}function qF(n,e,t){return n instanceof Jd?function(i,s){const a={fields:{[EM]:{stringValue:TM},[SM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yE(s)&&(s=Cv(s)),s&&(a.fields[wM]=s),{mapValue:a}}(t,e):n instanceof vf?HM(n,e):n instanceof _f?qM(n,e):function(i,s){const a=FM(i,s),u=jx(a)+jx(i.Re);return FA(a)&&FA(i.Re)?jM(u):TE(i.serializer,u)}(n,e)}function $F(n,e,t){return n instanceof vf?HM(n,e):n instanceof _f?qM(n,e):t}function FM(n,e){return n instanceof ly?function(r){return FA(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Jd extends kv{}class vf extends kv{constructor(e){super(),this.elements=e}}function HM(n,e){const t=$M(e);for(const r of n.elements)t.some(i=>go(i,r))||t.push(r);return{arrayValue:{values:t}}}class _f extends kv{constructor(e){super(),this.elements=e}}function qM(n,e){let t=$M(e);for(const r of n.elements)t=t.filter(i=>!go(i,r));return{arrayValue:{values:t}}}class ly extends kv{constructor(e,t){super(),this.serializer=e,this.Re=t}}function jx(n){return _n(n.integerValue||n.doubleValue)}function $M(n){return vE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,t){this.field=e,this.transform=t}}function GF(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof vf&&i instanceof vf||r instanceof _f&&i instanceof _f?mf(r.elements,i.elements,go):r instanceof ly&&i instanceof ly?go(r.Re,i.Re):r instanceof Jd&&i instanceof Jd}(n.transform,e.transform)}class WF{constructor(e,t){this.version=e,this.transformResults=t}}class co{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new co}static exists(e){return new co(void 0,e)}static updateTime(e){return new co(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ng(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ov{}function GM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new KM(n.key,co.none()):new wp(n.key,n.data,co.none());{const t=n.data,r=ni.empty();let i=new Bn(dr.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Il(n.key,r,new Ni(i.toArray()),co.none())}}function KF(n,e,t){n instanceof wp?function(i,s,a){const u=i.value.clone(),c=Hx(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Il?function(i,s,a){if(!Ng(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=Hx(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(WM(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Id(n,e,t,r){return n instanceof wp?function(s,a,u,c){if(!Ng(s.precondition,a))return u;const h=s.value.clone(),p=qx(s.fieldTransforms,c,a);return h.setAll(p),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Il?function(s,a,u,c){if(!Ng(s.precondition,a))return u;const h=qx(s.fieldTransforms,c,a),p=a.data;return p.setAll(WM(s)),p.setAll(h),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(s,a,u){return Ng(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(n,e,t)}function YF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=FM(r.transform,i||null);s!=null&&(t===null&&(t=ni.empty()),t.set(r.field,s))}return t||null}function Fx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mf(r,i,(s,a)=>GF(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wp extends Ov{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Il extends Ov{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WM(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Hx(n,e,t){const r=new Map;kt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,$F(a,u,t[i]))}return r}function qx(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,qF(s,a,e))}return r}class KM extends Ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QF extends Ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KF(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Id(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Id(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=BM();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=t.has(i.key)?null:u;const c=GM(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yt())}isEqual(e){return this.batchId===e.batchId&&mf(this.mutations,e.mutations,(t,r)=>Fx(t,r))&&mf(this.baseMutations,e.baseMutations,(t,r)=>Fx(t,r))}}class wE{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){kt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return zF}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new wE(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn,wt;function e6(n){switch(n){case ye.OK:return Ye(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Ye(15467,{code:n})}}function YM(n){if(n===void 0)return ia("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Cn.OK:return ye.OK;case Cn.CANCELLED:return ye.CANCELLED;case Cn.UNKNOWN:return ye.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return ye.INTERNAL;case Cn.UNAVAILABLE:return ye.UNAVAILABLE;case Cn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Cn.NOT_FOUND:return ye.NOT_FOUND;case Cn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Cn.ABORTED:return ye.ABORTED;case Cn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Cn.DATA_LOSS:return ye.DATA_LOSS;default:return Ye(39323,{code:n})}}(wt=Cn||(Cn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=new il([4294967295,4294967295],0);function $x(n){const e=yM().encode(n),t=new uM;return t.update(e),new Uint8Array(t.digest())}function Gx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new il([t,r],0),new il([i,s],0)]}class SE{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vd(`Invalid padding: ${t}`);if(r<0)throw new vd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vd(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=il.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(il.fromNumber(r)));return i.compare(t6)===1&&(i=new il([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=$x(e),[r,i]=Gx(t);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);if(!this.be(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new SE(s,i,t);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.pe===0)return;const t=$x(e),[r,i]=Gx(t);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);this.Se(a)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Sp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nv(Xe.min(),i,new an(lt),sa(),yt())}}class Sp{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Sp(r,t,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class QM{constructor(e,t){this.targetId=e,this.Ce=t}}class XM{constructor(e,t,r=mr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Wx{constructor(){this.Fe=0,this.Me=Kx(),this.xe=mr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=yt(),t=yt(),r=yt();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ye(38017,{changeType:s})}}),new Sp(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Kx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class n6{constructor(e){this.ze=e,this.je=new Map,this.He=sa(),this.Je=og(),this.Ye=og(),this.Ze=new an(lt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ye(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const s=i.target;if(qA(s))if(r===0){const a=new He(s.path);this.tt(t,a,Sr.newNoDocument(a,Xe.min()))}else kt(r===1,20013,{expectedCount:r});else{const a=this.ut(t);if(a!==r){const u=this.ct(e),c=u?this.lt(u,e,a):1;if(c!==0){this.st(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,u;try{a=yl(r).toUint8Array()}catch(c){if(c instanceof AM)return pf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new SE(a,i,s)}catch(c){return pf(c instanceof vd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const a=this.ze.Pt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,s,null),i++)}),i}It(e){const t=new Map;this.je.forEach((s,a)=>{const u=this._t(a);if(u){if(s.current&&qA(u.target)){const c=new He(u.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,Sr.newNoDocument(c,e))}s.Le&&(t.set(a,s.qe()),s.Qe())}});let r=yt();this.Ye.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const i=new Nv(e,t,this.Ze,this.He,r);return this.He=sa(),this.Je=og(),this.Ye=og(),this.Ze=new an(lt),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Wx,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Bn(lt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Bn(lt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Wx),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function og(){return new an(He.comparator)}function Kx(){return new an(He.comparator)}const r6={asc:"ASCENDING",desc:"DESCENDING"},i6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s6={and:"AND",or:"OR"};class o6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function WA(n,e){return n.useProto3Json||Rv(e)?e:{value:e}}function uy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function a6(n,e){return uy(n,e.toTimestamp())}function fo(n){return kt(!!n,49232),Xe.fromTimestamp(function(t){const r=gl(t);return new Mn(r.seconds,r.nanos)}(n))}function RE(n,e){return KA(n,e).canonicalString()}function KA(n,e){const t=function(i){return new Kt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ZM(n){const e=Kt.fromString(n);return kt(iD(e),10190,{key:e.toString()}),e}function YA(n,e){return RE(n.databaseId,e.path)}function Cb(n,e){const t=ZM(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(tD(t))}function eD(n,e){return RE(n.databaseId,e)}function l6(n){const e=ZM(n);return e.length===4?Kt.emptyPath():tD(e)}function QA(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tD(n){return kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Yx(n,e,t){return{name:YA(n,e),fields:t.value.mapValue.fields}}function u6(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ye(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(kt(p===void 0||typeof p=="string",58123),mr.fromBase64String(p||"")):(kt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),mr.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(h){const p=h.code===void 0?ye.UNKNOWN:YM(h.code);return new Me(p,h.message||"")}(a);t=new XM(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cb(n,r.document.name),s=fo(r.document.updateTime),a=r.document.createTime?fo(r.document.createTime):Xe.min(),u=new ni({mapValue:{fields:r.document.fields}}),c=Sr.newFoundDocument(i,s,a,u),h=r.targetIds||[],p=r.removedTargetIds||[];t=new Mg(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cb(n,r.document),s=r.readTime?fo(r.readTime):Xe.min(),a=Sr.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Mg([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cb(n,r.document),s=r.removedTargetIds||[];t=new Mg([],s,i,null)}else{if(!("filter"in e))return Ye(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new ZF(i,s),u=r.targetId;t=new QM(u,a)}}return t}function c6(n,e){let t;if(e instanceof wp)t={update:Yx(n,e.key,e.value)};else if(e instanceof KM)t={delete:YA(n,e.key)};else if(e instanceof Il)t={update:Yx(n,e.key,e.data),updateMask:_6(e.fieldMask)};else{if(!(e instanceof QF))return Ye(16599,{ft:e.type});t={verify:YA(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof Jd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof vf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof _f)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ly)return{fieldPath:a.field.canonicalString(),increment:u.Re};throw Ye(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:a6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ye(27497)}(n,e.precondition)),t}function f6(n,e){return n&&n.length>0?(kt(e!==void 0,14353),n.map(t=>function(i,s){let a=i.updateTime?fo(i.updateTime):fo(s);return a.isEqual(Xe.min())&&(a=fo(s)),new WF(a,i.transformResults||[])}(t,e))):[]}function h6(n,e){return{documents:[eD(n,e.path)]}}function d6(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=eD(n,i);const s=function(h){if(h.length!==0)return rD(ks.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(p=>function(v){return{field:Kc(v.field),direction:g6(v.dir)}}(p))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=WA(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function p6(n){let e=l6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){kt(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(m){const v=nD(m);return v instanceof ks&&OM(v)?v.getFilters():[v]}(t.where));let a=[];t.orderBy&&(a=function(m){return m.map(v=>function(A){return new ay(Yc(A.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(m){let v;return v=typeof m=="object"?m.value:m,Rv(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(m){const v=!!m.before,_=m.values||[];return new oy(_,v)}(t.startAt));let h=null;return t.endAt&&(h=function(m){const v=!m.before,_=m.values||[];return new oy(_,v)}(t.endAt)),DF(e,i,a,s,u,"F",c,h)}function m6(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Yc(t.unaryFilter.field);return On.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yc(t.unaryFilter.field);return On.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Yc(t.unaryFilter.field);return On.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Yc(t.unaryFilter.field);return On.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ye(61313);default:return Ye(60726)}}(n):n.fieldFilter!==void 0?function(t){return On.create(Yc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ye(58110);default:return Ye(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ks.create(t.compositeFilter.filters.map(r=>nD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye(1026)}}(t.compositeFilter.op))}(n):Ye(30097,{filter:n})}function g6(n){return r6[n]}function y6(n){return i6[n]}function v6(n){return s6[n]}function Kc(n){return{fieldPath:n.canonicalString()}}function Yc(n){return dr.fromServerFormat(n.fieldPath)}function rD(n){return n instanceof On?function(t){if(t.op==="=="){if(Lx(t.value))return{unaryFilter:{field:Kc(t.field),op:"IS_NAN"}};if(Px(t.value))return{unaryFilter:{field:Kc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Lx(t.value))return{unaryFilter:{field:Kc(t.field),op:"IS_NOT_NAN"}};if(Px(t.value))return{unaryFilter:{field:Kc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kc(t.field),op:y6(t.op),value:t.value}}}(n):n instanceof ks?function(t){const r=t.getFilters().map(i=>rD(i));return r.length===1?r[0]:{compositeFilter:{op:v6(t.op),filters:r}}}(n):Ye(54877,{filter:n})}function _6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t,r,i,s=Xe.min(),a=Xe.min(),u=mr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.wt=e}}function A6(n){const e=p6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?GA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.yn=new E6}addToCollectionParentIndex(e,t){return this.yn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(ml.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(ml.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class E6{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Bn(Kt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bn(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sD=41943040;class ei{static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(sD,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new bf(0)}static ir(){return new bf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="LruGarbageCollector",w6=1048576;function Jx([n,e],[t,r]){const i=lt(n,t);return i===0?lt(e,r):i}class S6{constructor(e){this.cr=e,this.buffer=new Bn(Jx),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Jx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class R6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ne(Xx,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bf(t)?Ne(Xx,"Ignoring IndexedDB error during garbage collection: ",t):await zf(t)}await this.Ir(3e5)})}}class C6{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(Sv.le);const r=new S6(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(Qx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qx):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,s,a,u,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,u=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),Gc()<=gt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${s} targets in `+(c-u)+`ms
	Removed ${m} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function x6(n,e){return new C6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.changes=new Zu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Id(r.mutation,i,Ni.empty(),Mn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,yt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=yt()){const i=_u();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=yd();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=_u();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,yt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{t.set(a,u)})})}computeViews(e,t,r,i){let s=sa();const a=xd(),u=function(){return xd()}();return t.forEach((c,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Il)?s=s.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),Id(p.mutation,h,p.mutation.getFieldMask(),Mn.now())):a.set(h.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,p)=>a.set(h,p)),t.forEach((h,p)=>{var m;return u.set(h,new k6(p,(m=a.get(h))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,t){const r=xd();let i=new an((a,u)=>a-u),s=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const u of a)u.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let p=r.get(c)||Ni.empty();p=u.applyToLocalView(h,p),r.set(c,p);const m=(i.get(u.batchId)||yt()).add(c);i=i.insert(u.batchId,m)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,m=BM();p.forEach(v=>{if(!s.has(v)){const _=GM(t.get(v),r.get(v));_!==null&&m.set(v,_),s=s.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return ge.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return He.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ge.resolve(_u());let u=Kd,c=s;return a.next(h=>ge.forEach(h,(p,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),s.get(p)?ge.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{c=c.insert(p,v)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,yt())).next(p=>({batchId:u,changes:zM(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let i=yd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=yd();return this.indexManager.getCollectionParents(e,s).next(u=>ge.forEach(u,c=>{const h=function(m,v){return new Ep(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((m,v)=>{a=a.insert(m,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((c,h)=>{const p=h.getKey();a.get(p)===null&&(a=a.insert(p,Sr.newInvalidDocument(p)))});let u=yd();return a.forEach((c,h)=>{const p=s.get(c);p!==void 0&&Id(p.mutation,h,Ni.empty(),Mn.now()),Iv(t,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ge.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:fo(i.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:A6(i.bundledQuery),readTime:fo(i.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.overlays=new an(He.comparator),this.Or=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=_u();return ge.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const i=_u(),s=t.length+1,a=new He(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new an((h,p)=>h-p);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=_u(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=_u(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=i)););return ge.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new JF(t,r));let s=this.Or.get(t);s===void 0&&(s=yt(),this.Or.set(t,s)),this.Or.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.sessionToken=mr.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.Nr=new Bn(Gn.Br),this.Lr=new Bn(Gn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Gn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Gn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new He(new Kt([])),r=new Gn(t,e),i=new Gn(t,e+1),s=[];return this.Lr.forEachInRange([r,i],a=>{this.Qr(a),s.push(a.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new He(new Kt([])),r=new Gn(t,e),i=new Gn(t,e+1);let s=yt();return this.Lr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new Gn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return He.comparator(e.key,t.key)||lt(e.Gr,t.Gr)}static kr(e,t){return lt(e.Gr,t.Gr)||He.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Bn(Gn.Br)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new XF(s,t,r,i);this.mutationQueue.push(a);for(const u of i)this.zr=this.zr.add(new Gn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ge.resolve(a)}lookupMutationBatch(e,t){return ge.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),s=i<0?0:i;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?gE:this.Jn-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gn(t,0),i=new Gn(t,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],a=>{const u=this.jr(a.Gr);s.push(u)}),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bn(lt);return t.forEach(i=>{const s=new Gn(i,0),a=new Gn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,a],u=>{r=r.add(u.Gr)})}),ge.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;He.isDocumentKey(s)||(s=s.child(""));const a=new Gn(new He(s),0);let u=new Bn(lt);return this.zr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.Gr)),!0)},a),ge.resolve(this.Jr(u))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){kt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return ge.forEach(t.mutations,i=>{const s=new Gn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Gn(t,0),i=this.zr.firstAfterOrEqual(r);return ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.Zr=e,this.docs=function(){return new an(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():Sr.newInvalidDocument(t))}getEntries(e,t){let r=sa();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Sr.newInvalidDocument(i))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=sa();const a=t.path,u=new He(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||hF(fF(p),r)<=0||(i.has(p.key)||Iv(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ye(9500)}Xr(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new V6(this)}getSize(e){return ge.resolve(this.size)}}class V6 extends I6{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.persistence=e,this.ei=new Zu(t=>_E(t),bE),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ti=0,this.ni=new CE,this.targetCount=0,this.ri=bf.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),ge.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new bf(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.ar(t),ge.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.ei.forEach((a,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ei.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ge.waitFor(s).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ge.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t){this.ii={},this.overlays={},this.si=new Sv(0),this.oi=!1,this.oi=!0,this._i=new D6,this.referenceDelegate=e(this),this.ai=new U6(this),this.indexManager=new T6,this.remoteDocumentCache=function(i){return new L6(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new b6(t),this.ci=new N6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new M6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new P6(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new z6(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,t){return ge.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class z6 extends pF{constructor(e){super(),this.currentSequenceNumber=e}}class xE{constructor(e){this.persistence=e,this.Ti=new CE,this.Ii=null}static Ei(e){return new xE(e)}get di(){if(this.Ii)return this.Ii;throw Ye(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.di,r=>{const i=He.fromPath(r);return this.Ai(e,i).next(s=>{s||t.removeEntry(i,Xe.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ge.or([()=>ge.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class cy{constructor(e,t){this.persistence=e,this.Ri=new Zu(r=>yF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=x6(this,t)}static Ei(e,t){return new cy(e,t)}li(){}hi(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return ge.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?ge.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,a=>this.gr(e,a,t).next(u=>{u||(r++,s.removeEntry(a,Xe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ge.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kg(e.data.value)),t}gr(e,t,r){return ge.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=yt(),i=yt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new IE(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return P4()?8:mF(kr())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Rs(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Vs(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new B6;return this.fs(e,t,a).next(u=>{if(s.result=u,this.Is)return this.gs(e,t,a,u.size)})}).next(()=>s.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Gc()<=gt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Wc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ge.resolve()):(Gc()<=gt.DEBUG&&Ne("QueryEngine","Query:",Wc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Gc()<=gt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Wc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uo(t))):ge.resolve())}Rs(e,t){if(Bx(t))return ge.resolve(null);let r=uo(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=GA(t,null,"F"),r=uo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=yt(...s);return this.As.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.ps(t,u);return this.ys(t,h,a,c.readTime)?this.Rs(e,GA(t,null,"F")):this.ws(e,h,t,c)}))})))}Vs(e,t,r,i){return Bx(t)||i.isEqual(Xe.min())?ge.resolve(null):this.As.getDocuments(e,r).next(s=>{const a=this.ps(t,s);return this.ys(t,a,r,i)?ge.resolve(null):(Gc()<=gt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wc(t)),this.ws(e,a,t,cF(i,Kd)).next(u=>u))})}ps(e,t){let r=new Bn(VM(e));return t.forEach((i,s)=>{Iv(e,s)&&(r=r.add(s))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,t,r){return Gc()<=gt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Wc(t)),this.As.getDocumentsMatchingQuery(e,t,ml.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="LocalStore",F6=3e8;class H6{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new an(lt),this.Ds=new Zu(s=>_E(s),bE),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O6(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function q6(n,e,t,r){return new H6(n,e,t,r)}async function aD(n,e){const t=Ze(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let c=yt();for(const h of i){a.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next(h=>({Ms:h,removedBatchIds:a,addedBatchIds:u}))})})}function $6(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Cs.newChangeBuffer({trackRemovals:!0});return function(u,c,h,p){const m=h.batch,v=m.keys();let _=ge.resolve();return v.forEach(A=>{_=_.next(()=>p.getEntry(c,A)).next(T=>{const w=h.docVersions.get(A);kt(w!==null,48541),T.version.compareTo(w)<0&&(m.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),p.addEntry(T)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=yt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function lD(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function G6(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const u=[];e.targetChanges.forEach((p,m)=>{const v=i.get(m);if(!v)return;u.push(t.ai.removeMatchingKeys(s,p.removedDocuments,m).next(()=>t.ai.addMatchingKeys(s,p.addedDocuments,m)));let _=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(mr.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(m,_),function(T,w,O){return T.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=F6?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(v,_,p)&&u.push(t.ai.updateTargetData(s,_))});let c=sa(),h=yt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(W6(s,a,e.documentUpdates).next(p=>{c=p.xs,h=p.Os})),!r.isEqual(Xe.min())){const p=t.ai.getLastRemoteSnapshotVersion(s).next(m=>t.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(p)}return ge.waitFor(u).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(t.Ss=i,s))}function W6(n,e,t){let r=yt(),i=yt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=sa();return t.forEach((u,c)=>{const h=s.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Xe.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):Ne(kE,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{xs:a,Os:i}})}function K6(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=gE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y6(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(s=>s?(i=s,ge.resolve(i)):t.ai.allocateTargetId(r).next(a=>(i=new Ya(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function XA(n,e,t){const r=Ze(n),i=r.Ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Bf(a))throw a;Ne(kE,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function Zx(n,e,t){const r=Ze(n);let i=Xe.min(),s=yt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,p){const m=Ze(c),v=m.Ds.get(p);return v!==void 0?ge.resolve(m.Ss.get(v)):m.ai.getTargetData(h,p)}(r,a,uo(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>r.bs.getDocumentsMatchingQuery(a,e,t?i:Xe.min(),t?s:yt())).next(u=>(Q6(r,LF(e),u),{documents:u,Ns:s})))}function Q6(n,e,t){let r=n.vs.get(e)||Xe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.vs.set(e,r)}class eI{constructor(){this.activeTargetIds=FF()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X6{constructor(){this.So=new eI,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new eI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="ConnectivityMonitor";class nI{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ne(tI,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ne(tI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag=null;function JA(){return ag===null?ag=function(){return 268435456+Math.round(2147483648*Math.random())}():ag++,"0x"+ag.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="RestConnection",Z6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e9{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===iy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,s){const a=JA(),u=this.$o(e,t.toUriEncodedString());Ne(xb,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(c,i,s),this.Ko(e,u,c,r).then(h=>(Ne(xb,`Received RPC '${e}' ${a}: `,h),h),h=>{throw pf(xb,`RPC '${e}' ${a} failed with error: `,h,"url: ",u,"request:",r),h})}Wo(e,t,r,i,s,a){return this.Qo(e,t,r,i,s)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,t){const r=Z6[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="WebChannelConnection";class n9 extends e9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i){const s=JA();return new Promise((a,u)=>{const c=new cM;c.setWithCredentials(!0),c.listenOnce(fM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ig.NO_ERROR:const p=c.getResponseJson();Ne(Ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ig.TIMEOUT:Ne(Ar,`RPC '${e}' ${s} timed out`),u(new Me(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Ig.HTTP_ERROR:const m=c.getStatus();if(Ne(Ar,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v==null?void 0:v.error;if(_&&_.status&&_.message){const A=function(w){const O=w.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(O)>=0?O:ye.UNKNOWN}(_.status);u(new Me(A,_.message))}else u(new Me(ye.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Me(ye.UNAVAILABLE,"Connection failed."));break;default:Ye(9055,{s_:e,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Ne(Ar,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);Ne(Ar,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",h,r,15)})}a_(e,t,r){const i=JA(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=pM(),u=dM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=s.join("");Ne(Ar,`Creating RPC '${e}' stream ${i}: ${p}`,c);const m=a.createWebChannel(p,c);let v=!1,_=!1;const A=new t9({Go:w=>{_?Ne(Ar,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(v||(Ne(Ar,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),Ne(Ar,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},zo:()=>m.close()}),T=(w,O,M)=>{w.listen(O,j=>{try{M(j)}catch(q){setTimeout(()=>{throw q},0)}})};return T(m,gd.EventType.OPEN,()=>{_||(Ne(Ar,`RPC '${e}' stream ${i} transport opened.`),A.t_())}),T(m,gd.EventType.CLOSE,()=>{_||(_=!0,Ne(Ar,`RPC '${e}' stream ${i} transport closed`),A.r_())}),T(m,gd.EventType.ERROR,w=>{_||(_=!0,pf(Ar,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),A.r_(new Me(ye.UNAVAILABLE,"The operation could not be completed")))}),T(m,gd.EventType.MESSAGE,w=>{var O;if(!_){const M=w.data[0];kt(!!M,16349);const j=M,q=(j==null?void 0:j.error)||((O=j[0])===null||O===void 0?void 0:O.error);if(q){Ne(Ar,`RPC '${e}' stream ${i} received error:`,q);const U=q.status;let D=function(C){const B=Cn[C];if(B!==void 0)return YM(B)}(U),L=q.message;D===void 0&&(D=ye.INTERNAL,L="Unknown error status: "+U+" with message "+q.message),_=!0,A.r_(new Me(D,L)),m.close()}else Ne(Ar,`RPC '${e}' stream ${i} received:`,M),A.i_(M)}}),T(u,hM.STAT_EVENT,w=>{w.stat===zA.PROXY?Ne(Ar,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===zA.NOPROXY&&Ne(Ar,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function Ib(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(n){return new o6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="PersistentStream";class cD{constructor(e,t,r,i,s,a,u,c){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new uD(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(ia(t.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new Me(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ne(rI,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ne(rI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r9 extends cD{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=u6(this.serializer,e),r=function(s){if(!("targetChange"in s))return Xe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Xe.min():a.readTime?fo(a.readTime):Xe.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=QA(this.serializer),t.addTarget=function(s,a){let u;const c=a.target;if(u=qA(c)?{documents:h6(s,c)}:{query:d6(s,c).gt},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=JM(s,a.resumeToken);const h=WA(s,a.expectedCount);h!==null&&(u.expectedCount=h)}else if(a.snapshotVersion.compareTo(Xe.min())>0){u.readTime=uy(s,a.snapshotVersion.toTimestamp());const h=WA(s,a.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=m6(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=QA(this.serializer),t.removeTarget=e,this.F_(t)}}class i9 extends cD{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=f6(e.writeResults,e.commitTime),r=fo(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=QA(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>c6(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{}class o9 extends s9{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Me(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Qo(e,KA(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(ye.UNKNOWN,s.toString())})}Wo(e,t,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Wo(e,KA(t,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(ye.UNKNOWN,a.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class a9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ia(t),this.ea=!1):Ne("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="RemoteStore";class l9{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(a=>{r.enqueueAndForget(async()=>{ec(this)&&(Ne(zu,"Restarting streams for network reachability change."),await async function(c){const h=Ze(c);h.aa.add(4),await Rp(h),h.la.set("Unknown"),h.aa.delete(4),await Dv(h)}(this))})}),this.la=new a9(r,i)}}async function Dv(n){if(ec(n))for(const e of n.ua)await e(!0)}async function Rp(n){for(const e of n.ua)await e(!1)}function fD(n,e){const t=Ze(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),DE(t)?ME(t):jf(t).b_()&&NE(t,e))}function OE(n,e){const t=Ze(n),r=jf(t);t._a.delete(e),r.b_()&&hD(t,e),t._a.size===0&&(r.b_()?r.v_():ec(t)&&t.la.set("Unknown"))}function NE(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jf(n).U_(e)}function hD(n,e){n.ha.Ke(e),jf(n).K_(e)}function ME(n){n.ha=new n6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),jf(n).start(),n.la.ta()}function DE(n){return ec(n)&&!jf(n).w_()&&n._a.size>0}function ec(n){return Ze(n).aa.size===0}function dD(n){n.ha=void 0}async function u9(n){n.la.set("Online")}async function c9(n){n._a.forEach((e,t)=>{NE(n,e)})}async function f9(n,e){dD(n),DE(n)?(n.la.ia(e),ME(n)):n.la.set("Unknown")}async function h9(n,e,t){if(n.la.set("Online"),e instanceof XM&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i._a.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i._a.delete(u),i.ha.removeTarget(u))}(n,e)}catch(r){Ne(zu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fy(n,r)}else if(e instanceof Mg?n.ha.Xe(e):e instanceof QM?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Xe.min()))try{const r=await lD(n.localStore);t.compareTo(r)>=0&&await function(s,a){const u=s.ha.It(a);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=s._a.get(h);p&&s._a.set(h,p.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,h)=>{const p=s._a.get(c);if(!p)return;s._a.set(c,p.withResumeToken(mr.EMPTY_BYTE_STRING,p.snapshotVersion)),hD(s,c);const m=new Ya(p.target,c,h,p.sequenceNumber);NE(s,m)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){Ne(zu,"Failed to raise snapshot:",r),await fy(n,r)}}async function fy(n,e,t){if(!Bf(e))throw e;n.aa.add(1),await Rp(n),n.la.set("Offline"),t||(t=()=>lD(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ne(zu,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Dv(n)})}function pD(n,e){return e().catch(t=>fy(n,t,e))}async function Pv(n){const e=Ze(n),t=_l(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:gE;for(;d9(e);)try{const i=await K6(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,p9(e,i)}catch(i){await fy(e,i)}mD(e)&&gD(e)}function d9(n){return ec(n)&&n.oa.length<10}function p9(n,e){n.oa.push(e);const t=_l(n);t.b_()&&t.W_&&t.G_(e.mutations)}function mD(n){return ec(n)&&!_l(n).w_()&&n.oa.length>0}function gD(n){_l(n).start()}async function m9(n){_l(n).H_()}async function g9(n){const e=_l(n);for(const t of n.oa)e.G_(t.mutations)}async function y9(n,e,t){const r=n.oa.shift(),i=wE.from(r,e,t);await pD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Pv(n)}async function v9(n,e){e&&_l(n).W_&&await async function(r,i){if(function(a){return e6(a)&&a!==ye.ABORTED}(i.code)){const s=r.oa.shift();_l(r).D_(),await pD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Pv(r)}}(n,e),mD(n)&&gD(n)}async function iI(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Ne(zu,"RemoteStore received new credentials");const r=ec(t);t.aa.add(3),await Rp(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Dv(t)}async function _9(n,e){const t=Ze(n);e?(t.aa.delete(2),await Dv(t)):e||(t.aa.add(2),await Rp(t),t.la.set("Unknown"))}function jf(n){return n.Pa||(n.Pa=function(t,r,i){const s=Ze(t);return s.Y_(),new r9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:u9.bind(null,n),Jo:c9.bind(null,n),Zo:f9.bind(null,n),Q_:h9.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),DE(n)?ME(n):n.la.set("Unknown")):(await n.Pa.stop(),dD(n))})),n.Pa}function _l(n){return n.Ta||(n.Ta=function(t,r,i){const s=Ze(t);return s.Y_(),new i9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:m9.bind(null,n),Zo:v9.bind(null,n),z_:g9.bind(null,n),j_:y9.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Pv(n)):(await n.Ta.stop(),n.oa.length>0&&(Ne(zu,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,u=new PE(e,t,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function LE(n,e){if(ia("AsyncQueue",`${e}: ${n}`),Bf(n))return new Me(ye.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{static emptySet(e){return new sf(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=yd(),this.sortedSet=new an(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new sf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.Ia=new an(He.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ye(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Af{constructor(e,t,r,i,s,a,u,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new Af(e,t,sf.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class A9{constructor(){this.queries=oI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=Ze(t),s=i.queries;i.queries=oI(),s.forEach((a,u)=>{for(const c of u.Ra)c.onError(r)})})(this,new Me(ye.ABORTED,"Firestore shutting down"))}}function oI(){return new Zu(n=>LM(n),xv)}async function yD(n,e){const t=Ze(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new b9,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await t.onListen(i,!0);break;case 1:s.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const u=LE(a,`Initialization of query '${Wc(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.Ra.push(e),e.ga(t.onlineState),s.Aa&&e.pa(s.Aa)&&VE(t)}async function vD(n,e){const t=Ze(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.Ra.indexOf(e);a>=0&&(s.Ra.splice(a,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function T9(n,e){const t=Ze(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const u of a.Ra)u.pa(i)&&(r=!0);a.Aa=i}}r&&VE(t)}function E9(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(t);r.queries.delete(e)}function VE(n){n.fa.forEach(e=>{e.next()})}var ZA,aI;(aI=ZA||(ZA={})).ya="default",aI.Cache="cache";class _D{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Af(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Af.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ZA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.key=e}}class AD{constructor(e){this.key=e}}class w9{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=yt(),this.mutatedKeys=yt(),this.Ua=VM(e),this.Ka=new sf(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new sI,i=t?t.Ka:this.Ka;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const v=i.get(p),_=Iv(this.query,m)?m:null,A=!!v&&this.mutatedKeys.has(v.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let w=!1;v&&_?v.data.isEqual(_.data)?A!==T&&(r.track({type:3,doc:_}),w=!0):this.ja(v,_)||(r.track({type:2,doc:_}),w=!0,(c&&this.Ua(_,c)>0||h&&this.Ua(_,h)<0)&&(u=!0)):!v&&_?(r.track({type:0,doc:_}),w=!0):v&&!_&&(r.track({type:1,doc:v}),w=!0,(c||h)&&(u=!0)),w&&(_?(a=a.add(_),s=T?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ka:a,za:r,ys:u,mutatedKeys:s}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const a=e.za.da();a.sort((p,m)=>function(_,A){const T=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye(20277,{Vt:w})}};return T(_)-T(A)}(p.type,m.type)||this.Ua(p.doc,m.doc)),this.Ha(r),i=i!=null&&i;const u=t&&!i?this.Ja():[],c=this.$a.size===0&&this.current&&!i?1:0,h=c!==this.Qa;return this.Qa=c,a.length!==0||h?{snapshot:new Af(this.query,e.Ka,s,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new sI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=yt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new AD(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new bD(r))}),t}Xa(e){this.qa=e.Ns,this.$a=yt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Af.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const UE="SyncEngine";class S9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class R9{constructor(e){this.key=e,this.tu=!1}}class C9{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.nu={},this.ru=new Zu(u=>LM(u),xv),this.iu=new Map,this.su=new Set,this.ou=new an(He.comparator),this._u=new Map,this.au=new CE,this.uu={},this.cu=new Map,this.lu=bf.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function x9(n,e,t=!0){const r=CD(n);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await TD(r,e,t,!0),i}async function I9(n,e){const t=CD(n);await TD(t,e,!0,!1)}async function TD(n,e,t,r){const i=await Y6(n.localStore,uo(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await k9(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&fD(n.remoteStore,i),u}async function k9(n,e,t,r,i){n.Pu=(m,v,_)=>async function(T,w,O,M){let j=w.view.Ga(O);j.ys&&(j=await Zx(T.localStore,w.query,!1).then(({documents:L})=>w.view.Ga(L,j)));const q=M&&M.targetChanges.get(w.targetId),U=M&&M.targetMismatches.get(w.targetId)!=null,D=w.view.applyChanges(j,T.isPrimaryClient,q,U);return uI(T,w.targetId,D.Ya),D.snapshot}(n,m,v,_);const s=await Zx(n.localStore,e,!0),a=new w9(e,s.Ns),u=a.Ga(s.documents),c=Sp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=a.applyChanges(u,n.isPrimaryClient,c);uI(n,t,h.Ya);const p=new S9(e,t,a);return n.ru.set(e,p),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),h.snapshot}async function O9(n,e,t){const r=Ze(n),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(a=>!xv(a,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await XA(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&OE(r.remoteStore,i.targetId),eT(r,i.targetId)}).catch(zf)):(eT(r,i.targetId),await XA(r.localStore,i.targetId,!0))}async function N9(n,e){const t=Ze(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),OE(t.remoteStore,r.targetId))}async function M9(n,e,t){const r=B9(n);try{const i=await function(a,u){const c=Ze(a),h=Mn.now(),p=u.reduce((_,A)=>_.add(A.key),yt());let m,v;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let A=sa(),T=yt();return c.Cs.getEntries(_,p).next(w=>{A=w,A.forEach((O,M)=>{M.isValidDocument()||(T=T.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,A)).next(w=>{m=w;const O=[];for(const M of u){const j=YF(M,m.get(M.key).overlayedDocument);j!=null&&O.push(new Il(M.key,j,xM(j.value.mapValue),co.exists(!0)))}return c.mutationQueue.addMutationBatch(_,h,O,u)}).next(w=>{v=w;const O=w.applyToLocalDocumentSet(m,T);return c.documentOverlayCache.saveOverlays(_,w.batchId,O)})}).then(()=>({batchId:v.batchId,changes:zM(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let h=a.uu[a.currentUser.toKey()];h||(h=new an(lt)),h=h.insert(u,c),a.uu[a.currentUser.toKey()]=h}(r,i.batchId,t),await Cp(r,i.changes),await Pv(r.remoteStore)}catch(i){const s=LE(i,"Failed to persist write");t.reject(s)}}async function ED(n,e){const t=Ze(n);try{const r=await G6(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t._u.get(s);a&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.tu=!0:i.modifiedDocuments.size>0?kt(a.tu,14607):i.removedDocuments.size>0&&(kt(a.tu,42227),a.tu=!1))}),await Cp(t,r,e)}catch(r){await zf(r)}}function lI(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((s,a)=>{const u=a.view.ga(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=Ze(a);c.onlineState=u;let h=!1;c.queries.forEach((p,m)=>{for(const v of m.Ra)v.ga(u)&&(h=!0)}),h&&VE(c)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D9(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),s=i&&i.key;if(s){let a=new an(He.comparator);a=a.insert(s,Sr.newNoDocument(s,Xe.min()));const u=yt().add(s),c=new Nv(Xe.min(),new Map,new an(lt),a,u);await ED(r,c),r.ou=r.ou.remove(s),r._u.delete(e),zE(r)}else await XA(r.localStore,e,!1).then(()=>eT(r,e,t)).catch(zf)}async function P9(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=await $6(t.localStore,e);SD(t,r,null),wD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Cp(t,i)}catch(i){await zf(i)}}async function L9(n,e,t){const r=Ze(n);try{const i=await function(a,u){const c=Ze(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,u).next(m=>(kt(m!==null,37113),p=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);SD(r,e,t),wD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Cp(r,i)}catch(i){await zf(i)}}function wD(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function SD(n,e,t){const r=Ze(n);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function eT(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||RD(n,r)})}function RD(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(OE(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),zE(n))}function uI(n,e,t){for(const r of t)r instanceof bD?(n.au.addReference(r.key,e),V9(n,r)):r instanceof AD?(Ne(UE,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||RD(n,r.key)):Ye(19791,{Iu:r})}function V9(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ne(UE,"New document in limbo: "+t),n.su.add(r),zE(n))}function zE(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new He(Kt.fromString(e)),r=n.lu.next();n._u.set(r,new R9(t)),n.ou=n.ou.insert(t,r),fD(n.remoteStore,new Ya(uo(AE(t.path)),r,"TargetPurposeLimboResolution",Sv.le))}}async function Cp(n,e,t){const r=Ze(n),i=[],s=[],a=[];r.ru.isEmpty()||(r.ru.forEach((u,c)=>{a.push(r.Pu(c,e,t).then(h=>{var p;if((h||t)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=t==null?void 0:t.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){i.push(h);const m=IE.Ps(c.targetId,h);s.push(m)}}))}),await Promise.all(a),r.nu.Q_(i),await async function(c,h){const p=Ze(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ge.forEach(h,v=>ge.forEach(v.ls,_=>p.persistence.referenceDelegate.addReference(m,v.targetId,_)).next(()=>ge.forEach(v.hs,_=>p.persistence.referenceDelegate.removeReference(m,v.targetId,_)))))}catch(m){if(!Bf(m))throw m;Ne(kE,"Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const _=p.Ss.get(v),A=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(A);p.Ss=p.Ss.insert(v,T)}}}(r.localStore,s))}async function U9(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Ne(UE,"User change. New user:",e.toKey());const r=await aD(t.localStore,e);t.currentUser=e,function(s,a){s.cu.forEach(u=>{u.forEach(c=>{c.reject(new Me(ye.CANCELLED,a))})}),s.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cp(t,r.Ms)}}function z9(n,e){const t=Ze(n),r=t._u.get(e);if(r&&r.tu)return yt().add(r.key);{let i=yt();const s=t.iu.get(e);if(!s)return i;for(const a of s){const u=t.ru.get(a);i=i.unionWith(u.view.Wa)}return i}}function CD(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ED.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D9.bind(null,e),e.nu.Q_=T9.bind(null,e.eventManager),e.nu.Tu=E9.bind(null,e.eventManager),e}function B9(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L9.bind(null,e),e}class hy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mv(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return q6(this.persistence,new j6,e.initialUser,this.serializer)}Ru(e){return new oD(xE.Ei,this.serializer)}Au(e){return new X6}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hy.provider={build:()=>new hy};class j9 extends hy{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){kt(this.persistence.referenceDelegate instanceof cy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new R6(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new oD(r=>cy.Ei(r,t),this.serializer)}}class tT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U9.bind(null,this.syncEngine),await _9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A9}()}createDatastore(e){const t=Mv(e.databaseInfo.databaseId),r=function(s){return new n9(s)}(e.databaseInfo);return function(s,a,u,c){return new o9(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,a,u){return new l9(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,t=>lI(this.syncEngine,t,0),function(){return nI.C()?new nI:new J6}())}createSyncEngine(e,t){return function(i,s,a,u,c,h,p){const m=new C9(i,s,a,u,c,h);return p&&(m.hu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Ze(i);Ne(zu,"RemoteStore shutting down."),s.aa.add(5),await Rp(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}tT.provider={build:()=>new tT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="FirestoreClient";class F9{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Er.UNAUTHENTICATED,this.clientId=vM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{Ne(bl,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ne(bl,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=LE(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kb(n,e){n.asyncQueue.verifyOperationInProgress(),Ne(bl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function cI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await H9(n);Ne(bl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>iI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>iI(e.remoteStore,i)),n._onlineComponents=e}async function H9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne(bl,"Using user provided OfflineComponentProvider");try{await kb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;pf("Error using user provided cache. Falling back to memory cache: "+t),await kb(n,new hy)}}else Ne(bl,"Using default OfflineComponentProvider"),await kb(n,new j9(void 0));return n._offlineComponents}async function ID(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne(bl,"Using user provided OnlineComponentProvider"),await cI(n,n._uninitializedComponentsProvider._online)):(Ne(bl,"Using default OnlineComponentProvider"),await cI(n,new tT))),n._onlineComponents}function q9(n){return ID(n).then(e=>e.syncEngine)}async function kD(n){const e=await ID(n),t=e.eventManager;return t.onListen=x9.bind(null,e.syncEngine),t.onUnlisten=O9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=I9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=N9.bind(null,e.syncEngine),t}function $9(n,e,t={}){const r=new Zo;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,h){const p=new xD({next:v=>{p.yu(),a.enqueueAndForget(()=>vD(s,m));const _=v.docs.has(u);!_&&v.fromCache?h.reject(new Me(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&c&&c.source==="server"?h.reject(new Me(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new _D(AE(u.path),p,{includeMetadataChanges:!0,Fa:!0});return yD(s,m)}(await kD(n),n.asyncQueue,e,t,r)),r.promise}function G9(n,e,t={}){const r=new Zo;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,h){const p=new xD({next:v=>{p.yu(),a.enqueueAndForget(()=>vD(s,m)),v.fromCache&&c.source==="server"?h.reject(new Me(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new _D(u,p,{includeMetadataChanges:!0,Fa:!0});return yD(s,m)}(await kD(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(n,e,t){if(!t)throw new Me(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function W9(n,e,t,r){if(e===!0&&r===!0)throw new Me(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hI(n){if(!He.isDocumentKey(n))throw new Me(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dI(n){if(He.isDocumentKey(n))throw new Me(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Lv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ye(12329,{type:typeof n})}function Al(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lv(n);throw new Me(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="firestore.googleapis.com",pI=!0;class mI{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MD,this.ssl=pI}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:pI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w6)throw new Me(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Me(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Me(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Me(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tF;switch(r.type){case"firstParty":return new sF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=fI.get(t);r&&(Ne("ComponentProvider","Removing Datastore"),fI.delete(t),r.terminate())}(this),Promise.resolve()}}function K9(n,e,t,r={}){var i;const s=(n=Al(n,Vv))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s.host!==MD&&s.host!==u&&pf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:u,ssl:!1,emulatorOptions:r});if(!na(c,a)&&(n._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Er.MOCK_USER;else{h=ZN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Me(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Er(m)}n._authCredentials=new nF(new gM(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ff(this.firestore,e,this._query)}}class ii{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class sl extends Ff{constructor(e,t,r){super(e,t,AE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new He(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function xp(n,e,...t){if(n=on(n),ND("collection","path",e),n instanceof Vv){const r=Kt.fromString(e,...t);return dI(r),new sl(n,null,r)}{if(!(n instanceof ii||n instanceof sl))throw new Me(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return dI(r),new sl(n.firestore,null,r)}}function oa(n,e,...t){if(n=on(n),arguments.length===1&&(e=vM.newId()),ND("doc","path",e),n instanceof Vv){const r=Kt.fromString(e,...t);return hI(r),new ii(n,null,new He(r))}{if(!(n instanceof ii||n instanceof sl))throw new Me(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return hI(r),new ii(n.firestore,n instanceof sl?n.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="AsyncQueue";class yI{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new uD(this,"async_queue_retry"),this.ju=()=>{const r=Ib();r&&Ne(gI,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Ib();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Ib();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Zo;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Bf(e))throw e;Ne(gI,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ia("INTERNAL UNHANDLED ERROR: ",vI(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=PE.createAndSchedule(this,e,t,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&Ye(47125,{ec:vI(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function vI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ip extends Vv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new yI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yI(e),this._firestoreClient=void 0,await e}}}function DD(n,e){const t=typeof n=="object"?n:pE(),r=typeof n=="string"?n:iy,i=Vf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=QN("firestore");s&&K9(i,...s)}return i}function BE(n){if(n._terminated)throw new Me(ye.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Y9(n),n._firestoreClient}function Y9(n){var e,t,r;const i=n._freezeSettings(),s=function(u,c,h,p){return new bF(u,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,OD(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new F9(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tf(mr.fromBase64String(e))}catch(t){throw new Me(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tf(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Me(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=/^__.*__$/;class X9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Il(e,this.data,this.fieldMask,t,this.fieldTransforms):new wp(e,this.data,t,this.fieldTransforms)}}class PD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Il(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye(40011,{oc:n})}}class zv{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new zv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return dy(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(LD(this.oc)&&Q9.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class J9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mv(e)}dc(e,t,r,i=!1){return new zv({oc:e,methodName:t,Ec:r,path:dr.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HE(n){const e=n._freezeSettings(),t=Mv(n._databaseId);return new J9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Z9(n,e,t,r,i,s={}){const a=n.dc(s.merge||s.mergeFields?2:0,e,t,i);WE("Data must be an object, but it was:",a,r);const u=UD(r,a);let c,h;if(s.merge)c=new Ni(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const v=nT(e,m,t);if(!a.contains(v))throw new Me(ye.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);BD(p,v)||p.push(v)}c=new Ni(p),h=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=a.fieldTransforms;return new X9(new ni(u),c,h)}class Bv extends Hf{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bv}}function VD(n,e,t){return new zv({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qE extends Hf{_toFieldTransform(e){return new EE(e.path,new Jd)}isEqual(e){return e instanceof qE}}class $E extends Hf{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=VD(this,e,!0),r=this.Ac.map(s=>tc(s,t)),i=new vf(r);return new EE(e.path,i)}isEqual(e){return e instanceof $E&&na(this.Ac,e.Ac)}}class GE extends Hf{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=VD(this,e,!0),r=this.Ac.map(s=>tc(s,t)),i=new _f(r);return new EE(e.path,i)}isEqual(e){return e instanceof GE&&na(this.Ac,e.Ac)}}function eH(n,e,t,r){const i=n.dc(1,e,t);WE("Data must be an object, but it was:",i,r);const s=[],a=ni.empty();xl(r,(c,h)=>{const p=KE(e,c,t);h=on(h);const m=i.hc(p);if(h instanceof Bv)s.push(p);else{const v=tc(h,m);v!=null&&(s.push(p),a.set(p,v))}});const u=new Ni(s);return new PD(a,u,i.fieldTransforms)}function tH(n,e,t,r,i,s){const a=n.dc(1,e,t),u=[nT(e,r,t)],c=[i];if(s.length%2!=0)throw new Me(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)u.push(nT(e,s[v])),c.push(s[v+1]);const h=[],p=ni.empty();for(let v=u.length-1;v>=0;--v)if(!BD(h,u[v])){const _=u[v];let A=c[v];A=on(A);const T=a.hc(_);if(A instanceof Bv)h.push(_);else{const w=tc(A,T);w!=null&&(h.push(_),p.set(_,w))}}const m=new Ni(h);return new PD(p,m,a.fieldTransforms)}function nH(n,e,t,r=!1){return tc(t,n.dc(r?4:3,e))}function tc(n,e){if(zD(n=on(n)))return WE("Unsupported field value:",e,n),UD(n,e);if(n instanceof Hf)return function(r,i){if(!LD(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let c=tc(u,i.Pc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Mn.fromDate(r);return{timestampValue:uy(i.serializer,s)}}if(r instanceof Mn){const s=new Mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uy(i.serializer,s)}}if(r instanceof jE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tf)return{bytesValue:JM(i.serializer,r._byteString)};if(r instanceof ii){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Tc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:RE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof FE)return function(a,u){return{mapValue:{fields:{[RM]:{stringValue:CM},[sy]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw u.Tc("VectorValues must only contain numeric values.");return TE(u.serializer,h)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Lv(r)}`)}(n,e)}function UD(n,e){const t={};return bM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xl(n,(r,i)=>{const s=tc(i,e.uc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function zD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Mn||n instanceof jE||n instanceof Tf||n instanceof ii||n instanceof Hf||n instanceof FE)}function WE(n,e,t){if(!zD(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Lv(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function nT(n,e,t){if((e=on(e))instanceof Uv)return e._internalPath;if(typeof e=="string")return KE(n,e);throw dy("Field path arguments must be of type string or ",n,!1,void 0,t)}const rH=new RegExp("[~\\*/\\[\\]]");function KE(n,e,t){if(e.search(rH)>=0)throw dy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Uv(...e.split("."))._internalPath}catch{throw dy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dy(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Me(ye.INVALID_ARGUMENT,u+n+c)}function BD(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(YE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iH extends jD{data(){return super.data()}}function YE(n,e){return typeof e=="string"?KE(n,e):e instanceof Uv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Me(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QE{}class oH extends QE{}function FD(n,e,...t){let r=[];e instanceof QE&&r.push(e),r=r.concat(t),function(s){const a=s.filter(c=>c instanceof XE).length,u=s.filter(c=>c instanceof jv).length;if(a>1||a>0&&u>0)throw new Me(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class jv extends oH{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new jv(e,t,r)}_apply(e){const t=this._parse(e);return HD(e._query,t),new Ff(e.firestore,e.converter,$A(e._query,t))}_parse(e){const t=HE(e.firestore);return function(s,a,u,c,h,p,m){let v;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Me(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){bI(m,p);const A=[];for(const T of m)A.push(_I(c,s,T));v={arrayValue:{values:A}}}else v=_I(c,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||bI(m,p),v=nH(u,a,m,p==="in"||p==="not-in");return On.create(h,p,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function aH(n,e,t){const r=e,i=YE("where",n);return jv._create(i,r,t)}class XE extends QE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new XE(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ks.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let a=i;const u=s.getFlattenedFilters();for(const c of u)HD(a,c),a=$A(a,c)}(e._query,t),new Ff(e.firestore,e.converter,$A(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _I(n,e,t){if(typeof(t=on(t))=="string"){if(t==="")throw new Me(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PM(e)&&t.indexOf("/")!==-1)throw new Me(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Kt.fromString(t));if(!He.isDocumentKey(r))throw new Me(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dx(n,new He(r))}if(t instanceof ii)return Dx(n,t._key);throw new Me(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lv(t)}.`)}function bI(n,e){if(!Array.isArray(n)||n.length===0)throw new Me(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HD(n,e){const t=function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Me(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lH{convertValue(e,t="none"){switch(vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xl(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[sy].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>_n(a.doubleValue));return new FE(s)}convertGeoPoint(e){return new jE(_n(e.latitude),_n(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yd(e));default:return null}}convertTimestamp(e){const t=gl(e);return new Mn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Kt.fromString(e);kt(iD(r),9688,{name:e});const i=new Qd(r.get(1),r.get(3)),s=new He(r.popFirst(5));return i.isEqual(t)||ia(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qD extends jD{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(YE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Dg extends qD{data(e={}){return super.data(e)}}class cH{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new _d(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Dg(this._firestore,this._userDataWriter,r.key,r,new _d(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new Dg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new _d(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Dg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new _d(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),p=a.indexOf(u.doc.key)),{type:fH(u.type),doc:c,oldIndex:h,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n){n=Al(n,ii);const e=Al(n.firestore,Ip);return $9(BE(e),n._key).then(t=>hH(e,n,t))}class $D extends lH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}function Hv(n){n=Al(n,Ff);const e=Al(n.firestore,Ip),t=BE(e),r=new $D(e);return sH(n._query),G9(t,n._query).then(i=>new cH(e,r,n,i))}function kp(n,e,t,...r){n=Al(n,ii);const i=Al(n.firestore,Ip),s=HE(i);let a;return a=typeof(e=on(e))=="string"||e instanceof Uv?tH(s,"updateDoc",n._key,e,t,r):eH(s,"updateDoc",n._key,e),WD(i,[a.toMutation(n._key,co.exists(!0))])}function GD(n,e){const t=Al(n.firestore,Ip),r=oa(n),i=uH(n.converter,e);return WD(t,[Z9(HE(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,co.exists(!1))]).then(()=>r)}function WD(n,e){return function(r,i){const s=new Zo;return r.asyncQueue.enqueueAndForget(async()=>M9(await q9(r),i,s)),s.promise}(BE(n),e)}function hH(n,e,t){const r=t.docs.get(e._key),i=new $D(n);return new qD(n,i,e._key,r,new _d(t.hasPendingWrites,t.fromCache),e.converter)}function KD(){return new qE("serverTimestamp")}function YD(...n){return new $E("arrayUnion",n)}function dH(...n){return new GE("arrayRemove",n)}(function(e,t=!0){(function(i){Uf=i})(Ju),Is(new hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new Ip(new rF(r.getProvider("auth-internal")),new oF(a,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Me(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qd(h.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),ri(Tx,Ex,e),ri(Tx,Ex,"esm2017")})();function pH(n){let t=window.scrollY||window.pageYOffset,r=n.getBoundingClientRect().top+t,i=performance.now();function s(u){const c=(u-i)/800;c<1?(window.scrollTo(0,t+(r-t)*a(c)),requestAnimationFrame(s)):window.scrollTo(0,r)}function a(u){return u<.5?4*u*u*u:(u-1)*(2*u-2)*(2*u-2)+1}requestAnimationFrame(s)}function Zd(n){const e=document.querySelector(n);e&&pH(e)}function mH({isOpened:n}){const[e,t]=W.useState(!1);return R.jsx("button",{className:"ham-button",children:R.jsxs("svg",{className:`hamburger ${e?n?"open":"close":""}`,onClick:()=>{t(!0)},fill:"#c1ff72",viewBox:"0 0 100 100",width:"50",children:[R.jsx("g",{className:"top-group",children:R.jsx("line",{className:"line top",x1:"10",x2:"90",y1:"30",y2:"30"})}),R.jsx("g",{className:"middle-group",children:R.jsx("line",{className:"line middle",x1:"10",x2:"90",y1:"50",y2:"50"})}),R.jsx("g",{className:"bottom-group",children:R.jsx("line",{className:"line bottom",x1:"10",x2:"90",y1:"70",y2:"70"})})]})})}var gH="firebase",yH="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(gH,yH,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="firebasestorage.googleapis.com",XD="storageBucket",vH=2*60*1e3,_H=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends ys{constructor(e,t,r=0){super(Ob(e),`Firebase Storage: ${t} (${Ob(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ob(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pn||(pn={}));function Ob(n){return"storage/"+n}function JE(){const n="An unknown error occurred, please check the error payload for server response.";return new mn(pn.UNKNOWN,n)}function bH(n){return new mn(pn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function AH(n){return new mn(pn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TH(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(pn.UNAUTHENTICATED,n)}function EH(){return new mn(pn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wH(n){return new mn(pn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function SH(){return new mn(pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RH(){return new mn(pn.CANCELED,"User canceled the upload/download.")}function CH(n){return new mn(pn.INVALID_URL,"Invalid URL '"+n+"'.")}function xH(n){return new mn(pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function IH(){return new mn(pn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XD+"' property when initializing the app?")}function kH(){return new mn(pn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function OH(){return new mn(pn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function NH(n){return new mn(pn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rT(n){return new mn(pn.INVALID_ARGUMENT,n)}function JD(){return new mn(pn.APP_DELETED,"The Firebase app was deleted.")}function MH(n){return new mn(pn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kd(n,e){return new mn(pn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Yh(n){throw new mn(pn.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Mi.makeFromUrl(e,t)}catch{return new Mi(e,"")}if(r.path==="")return r;throw xH(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(q){q.path_=decodeURIComponent(q.path)}const p="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",_=new RegExp(`^https?://${m}/${p}/b/${i}/o${v}`,"i"),A={bucket:1,path:3},T=t===QD?"(?:storage.googleapis.com|storage.cloud.google.com)":t,w="([^?#]*)",O=new RegExp(`^https?://${T}/${i}/${w}`,"i"),j=[{regex:u,indices:c,postModify:s},{regex:_,indices:A,postModify:h},{regex:O,indices:{bucket:1,path:2},postModify:h}];for(let q=0;q<j.length;q++){const U=j[q],D=U.regex.exec(e);if(D){const L=D[U.indices.bucket];let S=D[U.indices.path];S||(S=""),r=new Mi(L,S),U.postModify(r);break}}if(r==null)throw CH(e);return r}}class DH{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(n,e,t){let r=1,i=null,s=null,a=!1,u=0;function c(){return u===2}let h=!1;function p(...w){h||(h=!0,e.apply(null,w))}function m(w){i=setTimeout(()=>{i=null,n(_,c())},w)}function v(){s&&clearTimeout(s)}function _(w,...O){if(h){v();return}if(w){v(),p.call(null,w,...O);return}if(c()||a){v(),p.call(null,w,...O);return}r<64&&(r*=2);let j;u===1?(u=2,j=0):j=(r+Math.random())*1e3,m(j)}let A=!1;function T(w){A||(A=!0,v(),!h&&(i!==null?(w||(u=2),clearTimeout(i),m(0)):w||(u=1)))}return m(0),s=setTimeout(()=>{a=!0,T(!0)},t),T}function LH(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(n){return n!==void 0}function UH(n){return typeof n=="object"&&!Array.isArray(n)}function ZE(n){return typeof n=="string"||n instanceof String}function AI(n){return ew()&&n instanceof Blob}function ew(){return typeof Blob<"u"}function TI(n,e,t,r){if(r<e)throw rT(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw rT(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function ZD(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Cu;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Cu||(Cu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e,t,r,i,s,a,u,c,h,p,m,v=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=m,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,A)=>{this.resolve_=_,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new lg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=u=>{const c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const u=s.getErrorCode()===Cu.NO_ERROR,c=s.getStatus();if(!u||zH(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Cu.ABORT;r(!1,new lg(!1,null,p));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new lg(h,s))})},t=(r,i)=>{const s=this.resolve_,a=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());VH(c)?s(c):s()}catch(c){a(c)}else if(u!==null){const c=JE();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(i.canceled){const c=this.appDelete_?JD():RH();a(c)}else{const c=SH();a(c)}};this.canceled_?t(!1,new lg(!1,null,!0)):this.backoffId_=PH(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lg{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function jH(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function FH(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HH(n,e){e&&(n["X-Firebase-GMPID"]=e)}function qH(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function $H(n,e,t,r,i,s,a=!0){const u=ZD(n.urlParams),c=n.url+u,h=Object.assign({},n.headers);return HH(h,e),jH(h,t),FH(h,s),qH(h,r),new BH(c,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WH(...n){const e=GH();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(ew())return new Blob(n);throw new mn(pn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function KH(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YH(n){if(typeof atob>"u")throw NH("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nb{constructor(e,t){this.data=e,this.contentType=t||null}}function QH(n,e){switch(n){case so.RAW:return new Nb(eP(e));case so.BASE64:case so.BASE64URL:return new Nb(tP(n,e));case so.DATA_URL:return new Nb(JH(e),ZH(e))}throw JE()}function eP(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=n.charCodeAt(++t);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function XH(n){let e;try{e=decodeURIComponent(n)}catch{throw kd(so.DATA_URL,"Malformed data URL.")}return eP(e)}function tP(n,e){switch(n){case so.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw kd(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case so.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw kd(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=YH(e)}catch(i){throw i.message.includes("polyfill")?i:kd(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class nP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw kd(so.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=e5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function JH(n){const e=new nP(n);return e.base64?tP(so.BASE64,e.rest):XH(e.rest)}function ZH(n){return new nP(n).contentType}function e5(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,t){let r=0,i="";AI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(AI(this.data_)){const r=this.data_,i=KH(r,e,t);return i===null?null:new Ha(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ha(r,!0)}}static getBlob(...e){if(ew()){const t=e.map(r=>r instanceof Ha?r.data_:r);return new Ha(WH.apply(null,t))}else{const t=e.map(a=>ZE(a)?QH(so.RAW,a).data:a.data_);let r=0;t.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(a=>{for(let u=0;u<a.length;u++)i[s++]=a[u]}),new Ha(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n){let e;try{e=JSON.parse(n)}catch{return null}return UH(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function n5(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function iP(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(n,e){return e}let zr=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||r5}},ug=null;function i5(n){return!ZE(n)||n.length<2?n:iP(n)}function sP(){if(ug)return ug;const n=[];n.push(new zr("bucket")),n.push(new zr("generation")),n.push(new zr("metageneration")),n.push(new zr("name","fullPath",!0));function e(s,a){return i5(a)}const t=new zr("name");t.xform=e,n.push(t);function r(s,a){return a!==void 0?Number(a):a}const i=new zr("size");return i.xform=r,n.push(i),n.push(new zr("timeCreated")),n.push(new zr("updated")),n.push(new zr("md5Hash",null,!0)),n.push(new zr("cacheControl",null,!0)),n.push(new zr("contentDisposition",null,!0)),n.push(new zr("contentEncoding",null,!0)),n.push(new zr("contentLanguage",null,!0)),n.push(new zr("contentType",null,!0)),n.push(new zr("metadata","customMetadata",!0)),ug=n,ug}function s5(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new Mi(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function o5(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const a=t[s];r[a.local]=a.xform(r,e[a.server])}return s5(r,n),r}function oP(n,e,t){const r=rP(e);return r===null?null:o5(n,r,t)}function a5(n,e,t,r){const i=rP(e);if(i===null||!ZE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(h=>{const p=n.bucket,m=n.fullPath,v="/b/"+a(p)+"/o/"+a(m),_=tw(v,t,r),A=ZD({alt:"media",token:h});return _+A})[0]}function l5(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class aP{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n){if(!n)throw JE()}function u5(n,e){function t(r,i){const s=oP(n,i,e);return lP(s!==null),s}return t}function c5(n,e){function t(r,i){const s=oP(n,i,e);return lP(s!==null),a5(s,i,n.host,n._protocol)}return t}function uP(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=EH():i=TH():t.getStatus()===402?i=AH(n.bucket):t.getStatus()===403?i=wH(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function f5(n){const e=uP(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=bH(n.path)),s.serverResponse=i.serverResponse,s}return t}function h5(n,e,t){const r=e.fullServerUrl(),i=tw(r,n.host,n._protocol),s="GET",a=n.maxOperationRetryTime,u=new aP(i,s,c5(n,t),a);return u.errorHandler=f5(e),u}function d5(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function p5(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=d5(null,e)),r}function m5(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let j="";for(let q=0;q<2;q++)j=j+Math.random().toString().slice(2);return j}const c=u();a["Content-Type"]="multipart/related; boundary="+c;const h=p5(e,r,i),p=l5(h,t),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,v=`\r
--`+c+"--",_=Ha.getBlob(m,r,v);if(_===null)throw kH();const A={name:h.fullPath},T=tw(s,n.host,n._protocol),w="POST",O=n.maxUploadRetryTime,M=new aP(T,w,u5(n,t),O);return M.urlParams=A,M.headers=a,M.body=_.uploadData(),M.errorHandler=uP(e),M}class g5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Yh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class y5 extends g5{initXhr(){this.xhr_.responseType="text"}}function cP(){return new y5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this._service=e,t instanceof Mi?this._location=t:this._location=Mi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bu(e,t)}get root(){const e=new Mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iP(this._location.path)}get storage(){return this._service}get parent(){const e=t5(this._location.path);if(e===null)return null;const t=new Mi(this._location.bucket,e);return new Bu(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw MH(e)}}function v5(n,e,t){n._throwIfRoot("uploadBytes");const r=m5(n.storage,n._location,sP(),new Ha(e,!0),t);return n.storage.makeRequestWithTokens(r,cP).then(i=>({metadata:i,ref:n}))}function _5(n){n._throwIfRoot("getDownloadURL");const e=h5(n.storage,n._location,sP());return n.storage.makeRequestWithTokens(e,cP).then(t=>{if(t===null)throw OH();return t})}function b5(n,e){const t=n5(n._location.path,e),r=new Mi(n._location.bucket,t);return new Bu(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(n){return/^[A-Za-z]+:\/\//.test(n)}function T5(n,e){return new Bu(n,e)}function fP(n,e){if(n instanceof nw){const t=n;if(t._bucket==null)throw IH();const r=new Bu(t,t._bucket);return e!=null?fP(r,e):r}else return e!==void 0?b5(n,e):n}function E5(n,e){if(e&&A5(e)){if(n instanceof nw)return T5(n,e);throw rT("To use ref(service, url), the first argument must be a Storage instance.")}else return fP(n,e)}function EI(n,e){const t=e==null?void 0:e[XD];return t==null?null:Mi.makeFromBucketSpec(t,n)}function w5(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:ZN(i,n.app.options.projectId))}class nw{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=QD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vH,this._maxUploadRetryTime=_H,this._requests=new Set,i!=null?this._bucket=Mi.makeFromBucketSpec(i,this._host):this._bucket=EI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mi.makeFromBucketSpec(this._url,e):this._bucket=EI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bu(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new DH(JD());{const a=$H(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const wI="@firebase/storage",SI="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="storage";function S5(n,e,t){return n=on(n),v5(n,e,t)}function R5(n){return n=on(n),_5(n)}function C5(n,e){return n=on(n),E5(n,e)}function x5(n=pE(),e){n=on(n);const r=Vf(n,hP).getImmediate({identifier:e}),i=QN("storage");return i&&I5(r,...i),r}function I5(n,e,t,r={}){w5(n,e,t,r)}function k5(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new nw(t,r,i,e,Ju)}function O5(){Is(new hs(hP,k5,"PUBLIC").setMultipleInstances(!0)),ri(wI,SI,""),ri(wI,SI,"esm2017")}O5();function rw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function dP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N5=dP,pP=new Xu("auth","Firebase",dP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=new wv("@firebase/auth");function M5(n,...e){py.logLevel<=gt.WARN&&py.warn(`Auth (${Ju}): ${n}`,...e)}function Pg(n,...e){py.logLevel<=gt.ERROR&&py.error(`Auth (${Ju}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n,...e){throw sw(n,...e)}function xs(n,...e){return sw(n,...e)}function iw(n,e,t){const r=Object.assign(Object.assign({},N5()),{[e]:t});return new Xu("auth","Firebase",r).create(e,{appName:n.name})}function ol(n){return iw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D5(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ds(n,"argument-error"),iw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pP.create(n,...e)}function Ke(n,e,...t){if(!n)throw sw(e,...t)}function Qo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pg(e),new Error(e)}function aa(n,e){n||Qo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function P5(){return RI()==="http:"||RI()==="https:"}function RI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P5()||eM()||"connection"in navigator)?navigator.onLine:!0}function V5(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t){this.shortDelay=e,this.longDelay=t,aa(t>e,"Short delay should be less than long delay!"),this.isMobile=k4()||M4()}get(){return L5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n,e){aa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B5=new Op(3e4,6e4);function kl(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fa(n,e,t,r,i={}){return gP(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=Tp(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},s);return N4()||(h.referrerPolicy="no-referrer"),mP.fetch()(await yP(n,n.config.apiHost,t,u),h)})}async function gP(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},U5),e);try{const i=new F5(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw cg(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw cg(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw cg(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw cg(n,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw iw(n,p,h);ds(n,p)}}catch(i){if(i instanceof ys)throw i;ds(n,"network-request-failed",{message:String(i)})}}async function qv(n,e,t,r,i={}){const s=await fa(n,e,t,r,i);return"mfaPendingCredential"in s&&ds(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function yP(n,e,t,r){const i=`${e}${t}?${r}`,s=n,a=s.config.emulator?ow(n.config,i):`${n.config.apiScheme}://${i}`;return z5.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function j5(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xs(this.auth,"network-request-failed")),B5.get())})}}function cg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=xs(n,e,r);return i.customData._tokenResponse=t,i}function CI(n){return n!==void 0&&n.enterprise!==void 0}class H5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return j5(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q5(n,e){return fa(n,"GET","/v2/recaptchaConfig",kl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(n,e){return fa(n,"POST","/v1/accounts:delete",e)}async function my(n,e){return fa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G5(n,e=!1){const t=on(n),r=await t.getIdToken(e),i=aw(r);Ke(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Od(Mb(i.auth_time)),issuedAtTime:Od(Mb(i.iat)),expirationTime:Od(Mb(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mb(n){return Number(n)*1e3}function aw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pg("JWT malformed, contained fewer than 3 sections"),null;try{const i=KN(t);return i?JSON.parse(i):(Pg("Failed to decode base64 JWT payload"),null)}catch(i){return Pg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xI(n){const e=aw(n);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ep(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ys&&W5(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function W5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Od(this.lastLoginAt),this.creationTime=Od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gy(n){var e;const t=n.auth,r=await n.getIdToken(),i=await ep(n,my(t,{idToken:r}));Ke(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vP(s.providerUserInfo):[],u=Q5(n.providerData,a),c=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new sT(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function Y5(n){const e=on(n);await gy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q5(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vP(n){return n.map(e=>{var{providerId:t}=e,r=rw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(n,e){const t=await gP(n,{},async()=>{const r=Tp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=await yP(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",mP.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function J5(n,e){return fa(n,"POST","/v2/accounts:revokeToken",kl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const t=xI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await X5(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new of;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ke(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new of,this.toJSON())}_performRefresh(){return Qo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(n,e){Ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Cs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=rw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ep(this,this.stsTokenManager.getToken(this.auth,e));return Ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return G5(this,e)}reload(){return Y5(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await gy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ii(this.auth.app))return Promise.reject(ol(this.auth));const e=await this.getIdToken();return await ep(this,$5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,u,c,h,p;const m=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,_=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(a=t.photoURL)!==null&&a!==void 0?a:void 0,T=(u=t.tenantId)!==null&&u!==void 0?u:void 0,w=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,O=(h=t.createdAt)!==null&&h!==void 0?h:void 0,M=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:j,emailVerified:q,isAnonymous:U,providerData:D,stsTokenManager:L}=t;Ke(j&&L,e,"internal-error");const S=of.fromJSON(this.name,L);Ke(typeof j=="string",e,"internal-error"),Pa(m,e.name),Pa(v,e.name),Ke(typeof q=="boolean",e,"internal-error"),Ke(typeof U=="boolean",e,"internal-error"),Pa(_,e.name),Pa(A,e.name),Pa(T,e.name),Pa(w,e.name),Pa(O,e.name),Pa(M,e.name);const C=new Cs({uid:j,auth:e,email:v,emailVerified:q,displayName:m,isAnonymous:U,photoURL:A,phoneNumber:_,tenantId:T,stsTokenManager:S,createdAt:O,lastLoginAt:M});return D&&Array.isArray(D)&&(C.providerData=D.map(B=>Object.assign({},B))),w&&(C._redirectEventId=w),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new of;i.updateFromServerResponse(t);const s=new Cs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gy(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ke(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?vP(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new of;u.updateFromIdToken(r);const c=new Cs({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new Map;function Xo(n){aa(n instanceof Function,"Expected a class definition");let e=II.get(n);return e?(aa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,II.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_P.type="NONE";const kI=_P;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n,e,t){return`firebase:${n}:${e}:${t}`}class af{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Lg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lg("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await my(this.auth,{idToken:e}).catch(()=>{});return t?Cs._fromGetAccountInfoResponse(this.auth,t,e):null}return Cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new af(Xo(kI),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Xo(kI);const a=Lg(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const p=await h._get(a);if(p){let m;if(typeof p=="string"){const v=await my(e,{idToken:p}).catch(()=>{});if(!v)break;m=await Cs._fromGetAccountInfoResponse(e,v,p)}else m=Cs._fromJSON(e,p);h!==s&&(u=m),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new af(s,e,r):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new af(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SP(e))return"Blackberry";if(RP(e))return"Webos";if(AP(e))return"Safari";if((e.includes("chrome/")||TP(e))&&!e.includes("edge/"))return"Chrome";if(wP(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bP(n=kr()){return/firefox\//i.test(n)}function AP(n=kr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TP(n=kr()){return/crios\//i.test(n)}function EP(n=kr()){return/iemobile/i.test(n)}function wP(n=kr()){return/android/i.test(n)}function SP(n=kr()){return/blackberry/i.test(n)}function RP(n=kr()){return/webos/i.test(n)}function lw(n=kr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Z5(n=kr()){var e;return lw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eq(){return D4()&&document.documentMode===10}function CP(n=kr()){return lw(n)||wP(n)||RP(n)||SP(n)||/windows phone/i.test(n)||EP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(n,e=[]){let t;switch(n){case"Browser":t=OI(kr());break;case"Worker":t=`${OI(kr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ju}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nq(n,e={}){return fa(n,"GET","/v2/passwordPolicy",kl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq=6;class iq{constructor(e){var t,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:rq,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NI(this),this.idTokenSubscription=new NI(this),this.beforeStateQueue=new tq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xo(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await af.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await my(this,{idToken:e}),r=await Cs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ii(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gy(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ii(this.app))return Promise.reject(ol(this));const t=e?on(e):null;return t&&Ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ii(this.app)?Promise.reject(ol(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ii(this.app)?Promise.reject(ol(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nq(this),t=new iq(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await J5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xo(e)||this._popupRedirectResolver;Ke(t,this,"argument-error"),this.redirectPersistenceManager=await af.create(this,[Xo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&M5(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ol(n){return on(n)}class NI{constructor(e){this.auth=e,this.observer=null,this.addObserver=j4(t=>this.observer=t)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oq(n){$v=n}function IP(n){return $v.loadJS(n)}function aq(){return $v.recaptchaEnterpriseScript}function lq(){return $v.gapiScript}function uq(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class cq{constructor(){this.enterprise=new fq}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fq{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hq="recaptcha-enterprise",kP="NO_RECAPTCHA";class dq{constructor(e){this.type=hq,this.auth=Ol(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{q5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new H5(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(c=>{u(c)})})}function i(s,a,u){const c=window.grecaptcha;CI(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(kP)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cq().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(u=>{if(!t&&CI(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=aq();c.length!==0&&(c+=u),IP(c).then(()=>{i(u,s,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function MI(n,e,t,r=!1,i=!1){const s=new dq(n);let a;if(i)a=kP;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function oT(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await MI(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await MI(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(n,e){const t=Vf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(na(s,e??{}))return i;ds(i,"already-initialized")}return t.initialize({options:e})}function mq(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Xo);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gq(n,e,t){const r=Ol(n);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=OP(e),{host:a,port:u}=yq(e),c=u===null?"":`:${u}`,h={url:`${s}//${a}${c}/`},p=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(na(h,r.config.emulator)&&na(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,vq()}function OP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yq(n){const e=OP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:DI(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:DI(a)}}}function DI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function vq(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qo("not implemented")}_getIdTokenResponse(e){return Qo("not implemented")}_linkToIdToken(e,t){return Qo("not implemented")}_getReauthenticationResolver(e){return Qo("not implemented")}}async function _q(n,e){return fa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bq(n,e){return qv(n,"POST","/v1/accounts:signInWithPassword",kl(n,e))}async function Aq(n,e){return fa(n,"POST","/v1/accounts:sendOobCode",kl(n,e))}async function Tq(n,e){return Aq(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eq(n,e){return qv(n,"POST","/v1/accounts:signInWithEmailLink",kl(n,e))}async function wq(n,e){return qv(n,"POST","/v1/accounts:signInWithEmailLink",kl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends uw{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new tp(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new tp(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oT(e,t,"signInWithPassword",bq);case"emailLink":return Eq(e,{email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oT(e,r,"signUpPassword",_q);case"emailLink":return wq(e,{idToken:t,email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(n,e){return qv(n,"POST","/v1/accounts:signInWithIdp",kl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq="http://localhost";class ju extends uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ju(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ds("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=rw(t,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ju(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return lf(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,lf(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,lf(e,t)}buildRequest(){const e={requestUri:Sq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Cq(n){const e=pd(md(n)).link,t=e?pd(md(e)).deep_link_id:null,r=pd(md(n)).deep_link_id;return(r?pd(md(r)).link:null)||r||t||e||n}class cw{constructor(e){var t,r,i,s,a,u;const c=pd(md(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=Rq((i=c.mode)!==null&&i!==void 0?i:null);Ke(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=Cq(e);try{return new cw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this.providerId=qf.PROVIDER_ID}static credential(e,t){return tp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=cw.parseLink(t);return Ke(r,"argument-error"),tp._fromEmailAndCode(e,r.code,r.tenantId)}}qf.PROVIDER_ID="password";qf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends fw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Np{constructor(){super("facebook.com")}static credential(e){return ju._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";qa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Np{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ju._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Yo.credential(t,r)}catch{return null}}}Yo.GOOGLE_SIGN_IN_METHOD="google.com";Yo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Np{constructor(){super("github.com")}static credential(e){return ju._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $a.credential(e.oauthAccessToken)}catch{return null}}}$a.GITHUB_SIGN_IN_METHOD="github.com";$a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Np{constructor(){super("twitter.com")}static credential(e,t){return ju._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ga.credential(t,r)}catch{return null}}}Ga.TWITTER_SIGN_IN_METHOD="twitter.com";Ga.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Cs._fromIdTokenResponse(e,r,i),a=PI(r);return new Ef({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=PI(r);return new Ef({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function PI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy extends ys{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yy.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new yy(e,t,r,i)}}function NP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yy._fromErrorAndOperation(n,s,e,r):s})}async function xq(n,e,t=!1){const r=await ep(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ef._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iq(n,e,t=!1){const{auth:r}=n;if(Ii(r.app))return Promise.reject(ol(r));const i="reauthenticate";try{const s=await ep(n,NP(r,i,e,n),t);Ke(s.idToken,r,"internal-error");const a=aw(s.idToken);Ke(a,r,"internal-error");const{sub:u}=a;return Ke(n.uid===u,r,"user-mismatch"),Ef._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ds(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(n,e,t=!1){if(Ii(n.app))return Promise.reject(ol(n));const r="signIn",i=await NP(n,r,e),s=await Ef._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function kq(n,e){return MP(Ol(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(n){const e=Ol(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Nq(n,e,t){const r=Ol(n);await oT(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Tq)}function Mq(n,e,t){return Ii(n.app)?Promise.reject(ol(n)):kq(on(n),qf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Oq(n),r})}function Dq(n,e,t,r){return on(n).onIdTokenChanged(e,t,r)}function Pq(n,e,t){return on(n).beforeAuthStateChanged(e,t)}function DP(n,e,t,r){return on(n).onAuthStateChanged(e,t,r)}function Lq(n){return on(n).signOut()}const vy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vy,"1"),this.storage.removeItem(vy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=1e3,Uq=10;class LP extends PP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);eq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Uq):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Vq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LP.type="LOCAL";const zq=LP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP extends PP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}VP.type="SESSION";const UP=VP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Gv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async h=>h(t.origin,s)),c=await Bq(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const h=hw("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(v.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(){return window}function Fq(n){ho().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(){return typeof ho().WorkerGlobalScope<"u"&&typeof ho().importScripts=="function"}async function Hq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qq(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $q(){return zP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="firebaseLocalStorageDb",Gq=1,_y="firebaseLocalStorage",jP="fbase_key";class Mp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wv(n,e){return n.transaction([_y],e?"readwrite":"readonly").objectStore(_y)}function Wq(){const n=indexedDB.deleteDatabase(BP);return new Mp(n).toPromise()}function aT(){const n=indexedDB.open(BP,Gq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(_y,{keyPath:jP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(_y)?e(r):(r.close(),await Wq(),e(await aT()))})})}async function LI(n,e,t){const r=Wv(n,!0).put({[jP]:e,value:t});return new Mp(r).toPromise()}async function Kq(n,e){const t=Wv(n,!1).get(e),r=await new Mp(t).toPromise();return r===void 0?null:r.value}function VI(n,e){const t=Wv(n,!0).delete(e);return new Mp(t).toPromise()}const Yq=800,Qq=3;class FP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await aT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Qq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gv._getInstance($q()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Hq(),!this.activeServiceWorker)return;this.sender=new jq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await aT();return await LI(e,vy,"1"),await VI(e,vy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>LI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Kq(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>VI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wv(i,!1).getAll();return new Mp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FP.type="LOCAL";const Xq=FP;new Op(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(n,e){return e?Xo(e):(Ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends uw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return lf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return lf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Jq(n){return MP(n.auth,new dw(n),n.bypassAuthState)}function Zq(n){const{auth:e,user:t}=n;return Ke(t,e,"internal-error"),Iq(t,new dw(n),n.bypassAuthState)}async function e8(n){const{auth:e,user:t}=n;return Ke(t,e,"internal-error"),xq(t,new dw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jq;case"linkViaPopup":case"linkViaRedirect":return e8;case"reauthViaPopup":case"reauthViaRedirect":return Zq;default:ds(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=new Op(2e3,1e4);async function n8(n,e,t){if(Ii(n.app))return Promise.reject(xs(n,"operation-not-supported-in-this-environment"));const r=Ol(n);D5(n,e,fw);const i=HP(r,t);return new bu(r,"signInViaPopup",e,i).executeNotNull()}class bu extends qP{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bu.currentPopupAction&&bu.currentPopupAction.cancel(),bu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const e=hw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t8.get())};e()}}bu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8="pendingRedirect",Vg=new Map;class i8 extends qP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Vg.get(this.auth._key());if(!e){try{const r=await s8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Vg.set(this.auth._key(),e)}return this.bypassAuthState||Vg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s8(n,e){const t=l8(e),r=a8(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function o8(n,e){Vg.set(n._key(),e)}function a8(n){return Xo(n._redirectPersistence)}function l8(n){return Lg(r8,n.config.apiKey,n.name)}async function u8(n,e,t=!1){if(Ii(n.app))return Promise.reject(ol(n));const r=Ol(n),i=HP(r,e),a=await new i8(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=10*60*1e3;class f8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!$P(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(xs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c8&&this.cachedEventUids.clear(),this.cachedEventUids.has(UI(e))}saveEventToCache(e){this.cachedEventUids.add(UI(e)),this.lastProcessedEventTime=Date.now()}}function UI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $P({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $P(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d8(n,e={}){return fa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m8=/^https?/;async function g8(n){if(n.config.emulator)return;const{authorizedDomains:e}=await d8(n);for(const t of e)try{if(y8(t))return}catch{}ds(n,"unauthorized-domain")}function y8(n){const e=iT(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!m8.test(t))return!1;if(p8.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=new Op(3e4,6e4);function zI(){const n=ho().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _8(n){return new Promise((e,t)=>{var r,i,s;function a(){zI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zI(),t(xs(n,"network-request-failed"))},timeout:v8.get()})}if(!((i=(r=ho().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ho().gapi)===null||s===void 0)&&s.load)a();else{const u=uq("iframefcb");return ho()[u]=()=>{gapi.load?a():t(xs(n,"network-request-failed"))},IP(`${lq()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw Ug=null,e})}let Ug=null;function b8(n){return Ug=Ug||_8(n),Ug}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=new Op(5e3,15e3),T8="__/auth/iframe",E8="emulator/auth/iframe",w8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R8(n){const e=n.config;Ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ow(e,E8):`https://${n.config.authDomain}/${T8}`,r={apiKey:e.apiKey,appName:n.name,v:Ju},i=S8.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Tp(r).slice(1)}`}async function C8(n){const e=await b8(n),t=ho().gapi;return Ke(t,n,"internal-error"),e.open({where:document.body,url:R8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=xs(n,"network-request-failed"),u=ho().setTimeout(()=>{s(a)},A8.get());function c(){ho().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I8=500,k8=600,O8="_blank",N8="http://localhost";class BI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M8(n,e,t,r=I8,i=k8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},x8),{width:r.toString(),height:i.toString(),top:s,left:a}),h=kr().toLowerCase();t&&(u=TP(h)?O8:t),bP(h)&&(e=e||N8,c.scrollbars="yes");const p=Object.entries(c).reduce((v,[_,A])=>`${v}${_}=${A},`,"");if(Z5(h)&&u!=="_self")return D8(e||"",u),new BI(null);const m=window.open(e||"",u,p);Ke(m,n,"popup-blocked");try{m.focus()}catch{}return new BI(m)}function D8(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8="__/auth/handler",L8="emulator/auth/handler",V8=encodeURIComponent("fac");async function jI(n,e,t,r,i,s){Ke(n.config.authDomain,n,"auth-domain-config-required"),Ke(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ju,eventId:i};if(e instanceof fw){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",B4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))a[p]=m}if(e instanceof Np){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}n.tenantId&&(a.tid=n.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await n._getAppCheckToken(),h=c?`#${V8}=${encodeURIComponent(c)}`:"";return`${U8(n)}?${Tp(u).slice(1)}${h}`}function U8({config:n}){return n.emulator?ow(n,L8):`https://${n.authDomain}/${P8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="webStorageSupport";class z8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UP,this._completeRedirectFn=u8,this._overrideRedirectResult=o8}async _openPopup(e,t,r,i){var s;aa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await jI(e,t,r,iT(),i);return M8(e,a,hw())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await jI(e,t,r,iT(),i);return Fq(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(aa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await C8(e),r=new f8(e);return t.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Db,{type:Db},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Db];a!==void 0&&t(!!a),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=g8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CP()||AP()||lw()}}const B8=z8;var FI="@firebase/auth",HI="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H8(n){Is(new hs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Ke(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xP(n)},h=new sq(r,i,s,c);return mq(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Is(new hs("auth-internal",e=>{const t=Ol(e.getProvider("auth").getImmediate());return(r=>new j8(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(FI,HI,F8(n)),ri(FI,HI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=5*60,$8=JN("authIdTokenMaxAge")||q8;let qI=null;const G8=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>$8)return;const i=t==null?void 0:t.token;qI!==i&&(qI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function by(n=pE()){const e=Vf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=pq(n,{popupRedirectResolver:B8,persistence:[Xq,zq,UP]}),r=JN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=G8(s.toString());Pq(t,a,()=>a(t.currentUser)),Dq(t,u=>a(u))}}const i=YN("auth");return i&&gq(t,`http://${i}`),t}function W8(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}oq({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=xs("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",W8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H8("Browser");const GP="@firebase/installations",pw="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=1e4,KP=`w:${pw}`,YP="FIS_v2",K8="https://firebaseinstallations.googleapis.com/v1",Y8=60*60*1e3,Q8="installations",X8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fu=new Xu(Q8,X8,J8);function QP(n){return n instanceof ys&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP({projectId:n}){return`${K8}/projects/${n}/installations`}function JP(n){return{token:n.token,requestStatus:2,expiresIn:e7(n.expiresIn),creationTime:Date.now()}}async function ZP(n,e){const r=(await e.json()).error;return Fu.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function eL({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Z8(n,{refreshToken:e}){const t=eL(n);return t.append("Authorization",t7(e)),t}async function tL(n){const e=await n();return e.status>=500&&e.status<600?n():e}function e7(n){return Number(n.replace("s","000"))}function t7(n){return`${YP} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=XP(n),i=eL(n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={fid:t,authVersion:YP,appId:n.appId,sdkVersion:KP},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await tL(()=>fetch(r,u));if(c.ok){const h=await c.json();return{fid:h.fid||t,registrationStatus:2,refreshToken:h.refreshToken,authToken:JP(h.authToken)}}else throw await ZP("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=/^[cdef][\w-]{21}$/,lT="";function s7(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=o7(n);return i7.test(t)?t:lT}catch{return lT}}function o7(n){return r7(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new Map;function iL(n,e){const t=Kv(n);sL(t,e),a7(t,e)}function sL(n,e){const t=rL.get(n);if(t)for(const r of t)r(e)}function a7(n,e){const t=l7();t&&t.postMessage({key:n,fid:e}),u7()}let Au=null;function l7(){return!Au&&"BroadcastChannel"in self&&(Au=new BroadcastChannel("[Firebase] FID Change"),Au.onmessage=n=>{sL(n.data.key,n.data.fid)}),Au}function u7(){rL.size===0&&Au&&(Au.close(),Au=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7="firebase-installations-database",f7=1,Hu="firebase-installations-store";let Pb=null;function mw(){return Pb||(Pb=sM(c7,f7,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Hu)}}})),Pb}async function Ay(n,e){const t=Kv(n),i=(await mw()).transaction(Hu,"readwrite"),s=i.objectStore(Hu),a=await s.get(t);return await s.put(e,t),await i.done,(!a||a.fid!==e.fid)&&iL(n,e.fid),e}async function oL(n){const e=Kv(n),r=(await mw()).transaction(Hu,"readwrite");await r.objectStore(Hu).delete(e),await r.done}async function Yv(n,e){const t=Kv(n),i=(await mw()).transaction(Hu,"readwrite"),s=i.objectStore(Hu),a=await s.get(t),u=e(a);return u===void 0?await s.delete(t):await s.put(u,t),await i.done,u&&(!a||a.fid!==u.fid)&&iL(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(n){let e;const t=await Yv(n.appConfig,r=>{const i=h7(r),s=d7(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===lT?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function h7(n){const e=n||{fid:s7(),registrationStatus:0};return aL(e)}function d7(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Fu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=p7(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:m7(n)}:{installationEntry:e}}async function p7(n,e){try{const t=await n7(n,e);return Ay(n.appConfig,t)}catch(t){throw QP(t)&&t.customData.serverCode===409?await oL(n.appConfig):await Ay(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function m7(n){let e=await $I(n.appConfig);for(;e.registrationStatus===1;)await nL(100),e=await $I(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await gw(n);return r||t}return e}function $I(n){return Yv(n,e=>{if(!e)throw Fu.create("installation-not-found");return aL(e)})}function aL(n){return g7(n)?{fid:n.fid,registrationStatus:0}:n}function g7(n){return n.registrationStatus===1&&n.registrationTime+WP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y7({appConfig:n,heartbeatServiceProvider:e},t){const r=v7(n,t),i=Z8(n,t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={installation:{sdkVersion:KP,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await tL(()=>fetch(r,u));if(c.ok){const h=await c.json();return JP(h)}else throw await ZP("Generate Auth Token",c)}function v7(n,{fid:e}){return`${XP(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(n,e=!1){let t;const r=await Yv(n.appConfig,s=>{if(!lL(s))throw Fu.create("not-registered");const a=s.authToken;if(!e&&A7(a))return s;if(a.requestStatus===1)return t=_7(n,e),s;{if(!navigator.onLine)throw Fu.create("app-offline");const u=E7(s);return t=b7(n,u),u}});return t?await t:r.authToken}async function _7(n,e){let t=await GI(n.appConfig);for(;t.authToken.requestStatus===1;)await nL(100),t=await GI(n.appConfig);const r=t.authToken;return r.requestStatus===0?yw(n,e):r}function GI(n){return Yv(n,e=>{if(!lL(e))throw Fu.create("not-registered");const t=e.authToken;return w7(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function b7(n,e){try{const t=await y7(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Ay(n.appConfig,r),t}catch(t){if(QP(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await oL(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ay(n.appConfig,r)}throw t}}function lL(n){return n!==void 0&&n.registrationStatus===2}function A7(n){return n.requestStatus===2&&!T7(n)}function T7(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Y8}function E7(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function w7(n){return n.requestStatus===1&&n.requestTime+WP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(n){const e=n,{installationEntry:t,registrationPromise:r}=await gw(e);return r?r.catch(console.error):yw(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R7(n,e=!1){const t=n;return await C7(t),(await yw(t,e)).token}async function C7(n){const{registrationPromise:e}=await gw(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(n){if(!n||!n.options)throw Lb("App Configuration");if(!n.name)throw Lb("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Lb(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Lb(n){return Fu.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="installations",I7="installations-internal",k7=n=>{const e=n.getProvider("app").getImmediate(),t=x7(e),r=Vf(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},O7=n=>{const e=n.getProvider("app").getImmediate(),t=Vf(e,uL).getImmediate();return{getId:()=>S7(t),getToken:i=>R7(t,i)}};function N7(){Is(new hs(uL,k7,"PUBLIC")),Is(new hs(I7,O7,"PRIVATE"))}N7();ri(GP,pw);ri(GP,pw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="analytics",M7="firebase_id",D7="origin",P7=60*1e3,L7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new wv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},us=new Xu("analytics","Analytics",V7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(n){if(!n.startsWith(vw)){const e=us.create("invalid-gtag-resource",{gtagURL:n});return si.warn(e.message),""}return n}function cL(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function z7(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function B7(n,e){const t=z7("firebase-js-sdk-policy",{createScriptURL:U7}),r=document.createElement("script"),i=`${vw}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function j7(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function F7(n,e,t,r,i,s){const a=r[i];try{if(a)await e[a];else{const c=(await cL(t)).find(h=>h.measurementId===i);c&&await e[c.appId]}}catch(u){si.error(u)}n("config",i,s)}async function H7(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const u=await cL(t);for(const c of a){const h=u.find(m=>m.measurementId===c),p=h&&e[h.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){si.error(s)}}function q7(n,e,t,r){async function i(s,...a){try{if(s==="event"){const[u,c]=a;await H7(n,e,t,u,c)}else if(s==="config"){const[u,c]=a;await F7(n,e,t,r,u,c)}else if(s==="consent"){const[u,c]=a;n("consent",u,c)}else if(s==="get"){const[u,c,h]=a;n("get",u,c,h)}else if(s==="set"){const[u]=a;n("set",u)}else n(s,...a)}catch(u){si.error(u)}}return i}function $7(n,e,t,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=q7(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function G7(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(vw)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=30,K7=1e3;class Y7{constructor(e={},t=K7){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fL=new Y7;function Q7(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function X7(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Q7(r)},s=L7.replace("{app-id}",t),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message)}catch{}throw us.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function J7(n,e=fL,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw us.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw us.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new t$;return setTimeout(async()=>{u.abort()},P7),hL({appId:r,apiKey:i,measurementId:s},a,u,e)}async function hL(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=fL){var s;const{appId:a,measurementId:u}=n;try{await Z7(r,e)}catch(c){if(u)return si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:u};throw c}try{const c=await X7(n);return i.deleteThrottleMetadata(a),c}catch(c){const h=c;if(!e$(h)){if(i.deleteThrottleMetadata(a),u)return si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw c}const p=Number((s=h==null?void 0:h.customData)===null||s===void 0?void 0:s.httpStatus)===503?hx(t,i.intervalMillis,W7):hx(t,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return i.setThrottleMetadata(a,m),si.debug(`Calling attemptFetch again in ${p} millis`),hL(n,m,r,i)}}function Z7(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(us.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function e$(n){if(!(n instanceof ys)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class t${constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function n$(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});n("event",t,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r$(){if(tM())try{await nM()}catch(n){return si.warn(us.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return si.warn(us.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function i$(n,e,t,r,i,s,a){var u;const c=J7(n);c.then(_=>{t[_.measurementId]=_.appId,n.options.measurementId&&_.measurementId!==n.options.measurementId&&si.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>si.error(_)),e.push(c);const h=r$().then(_=>{if(_)return r.getId()}),[p,m]=await Promise.all([c,h]);G7(s)||B7(s,p.measurementId),i("js",new Date);const v=(u=a==null?void 0:a.config)!==null&&u!==void 0?u:{};return v[D7]="firebase",v.update=!0,m!=null&&(v[M7]=m),i("config",p.measurementId,v),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.app=e}_delete(){return delete Nd[this.app.options.appId],Promise.resolve()}}let Nd={},KI=[];const YI={};let Vb="dataLayer",o$="gtag",QI,dL,XI=!1;function a$(){const n=[];if(eM()&&n.push("This is a browser extension environment."),L4()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=us.create("invalid-analytics-context",{errorInfo:e});si.warn(t.message)}}function l$(n,e,t){a$();const r=n.options.appId;if(!r)throw us.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw us.create("no-api-key");if(Nd[r]!=null)throw us.create("already-exists",{id:r});if(!XI){j7(Vb);const{wrappedGtag:s,gtagCore:a}=$7(Nd,KI,YI,Vb,o$);dL=s,QI=a,XI=!0}return Nd[r]=i$(n,KI,YI,e,QI,Vb,t),new s$(n)}function u$(n,e,t,r){n=on(n),n$(dL,Nd[n.app.options.appId],e,t,r).catch(i=>si.error(i))}const JI="@firebase/analytics",ZI="0.10.12";function c$(){Is(new hs(WI,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return l$(r,i,t)},"PUBLIC")),Is(new hs("analytics-internal",n,"PRIVATE")),ri(JI,ZI),ri(JI,ZI,"esm2017");function n(e){try{const t=e.getProvider(WI).getImmediate();return{logEvent:(r,i,s)=>u$(t,r,i,s)}}catch(t){throw us.create("interop-component-reg-failed",{reason:t})}}}c$();const f$={apiKey:"AIzaSyCCa-PxslkzcIawmDzjvD7NfpfKDDHW_cY",authDomain:"mydailyreed.firebaseapp.com",projectId:"mydailyreed",storageBucket:"mydailyreed.firebasestorage.app",messagingSenderId:"784473877562",appId:"1:784473877562:web:86db61e82986c1bdd39903",measurementId:"G-MT4S33PKD0"},Qv=oM(f$),h$=x5(Qv),mu=by(Qv),ps=DD(Qv),Ty="/assets/MDRLogoB-Y-uXmpVe.png",uT="/assets/facebookBlack-DTxLsc-z.png",cT="/assets/instagramBlack-f2rhpmha.png",fT="/assets/linkedinBlack-D22kkR36.png",ek="/assets/arrow-b9VpQuFC.png";function Go(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function pL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Li={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},wf={duration:.5,overwrite:!1,delay:0},_w,pr,Xt,po=1e8,Cr=1/po,hT=Math.PI*2,d$=hT/4,p$=0,mL=Math.sqrt,m$=Math.cos,g$=Math.sin,Qn=function(e){return typeof e=="string"},dn=function(e){return typeof e=="function"},la=function(e){return typeof e=="number"},bw=function(e){return typeof e>"u"},yo=function(e){return typeof e=="object"},oi=function(e){return e!==!1},Aw=function(){return typeof window<"u"},fg=function(e){return dn(e)||Qn(e)},gL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ir=Array.isArray,dT=/(?:-?\.?\d|\.)+/gi,yL=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Zc=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ub=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,vL=/[+-]=-?[.\d]+/,_L=/[^,'"\[\]\s]+/gi,y$=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,rn,ro,pT,Tw,Ui={},Ey={},bL,AL=function(e){return(Ey=Sf(e,Ui))&&fi},Ew=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},np=function(e,t){return!t&&console.warn(e)},TL=function(e,t){return e&&(Ui[e]=t)&&Ey&&(Ey[e]=t)||Ui},rp=function(){return 0},v$={suppressEvents:!0,isStart:!0,kill:!1},zg={suppressEvents:!0,kill:!1},_$={suppressEvents:!0},ww={},al=[],mT={},EL,xi={},zb={},tk=30,Bg=[],Sw="",Rw=function(e){var t=e[0],r,i;if(yo(t)||dn(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Bg.length;i--&&!Bg[i].targetTest(t););r=Bg[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new WL(e[i],r)))||e.splice(i,1);return e},xu=function(e){return e._gsap||Rw(ls(e))[0]._gsap},wL=function(e,t,r){return(r=e[t])&&dn(r)?e[t]():bw(r)&&e.getAttribute&&e.getAttribute(t)||r},ai=function(e,t){return(e=e.split(",")).forEach(t)||e},bn=function(e){return Math.round(e*1e5)/1e5||0},In=function(e){return Math.round(e*1e7)/1e7||0},uf=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},b$=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},wy=function(){var e=al.length,t=al.slice(0),r,i;for(mT={},al.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},SL=function(e,t,r,i){al.length&&!pr&&wy(),e.render(t,r,pr&&t<0&&(e._initted||e._startAt)),al.length&&!pr&&wy()},RL=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(_L).length<2?t:Qn(e)?e.trim():e},CL=function(e){return e},zi=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},A$=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},Sf=function(e,t){for(var r in t)e[r]=t[r];return e},nk=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=yo(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},Sy=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},Md=function(e){var t=e.parent||rn,r=e.keyframes?A$(Ir(e.keyframes)):zi;if(oi(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},T$=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},xL=function(e,t,r,i,s){var a=e[i],u;if(s)for(u=t[s];a&&a[s]>u;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=a,t.parent=t._dp=e,t},Xv=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,a=t._next;s?s._next=a:e[r]===t&&(e[r]=a),a?a._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},Tl=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Iu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},E$=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},gT=function(e,t,r,i){return e._startAt&&(pr?e._startAt.revert(zg):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},w$=function n(e){return!e||e._ts&&n(e.parent)},rk=function(e){return e._repeat?Rf(e._tTime,e=e.duration()+e._rDelay)*e:0},Rf=function(e,t){var r=Math.floor(e=In(e/t));return e&&r===e?r-1:r},Ry=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Jv=function(e){return e._end=In(e._start+(e._tDur/Math.abs(e._ts||e._rts||Cr)||0))},Zv=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=In(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Jv(e),r._dirty||Iu(r,e)),e},IL=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=Ry(e.rawTime(),t),(!t._dur||Dp(0,t.totalDuration(),r)-t._tTime>Cr)&&t.render(r,!0)),Iu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},io=function(e,t,r,i){return t.parent&&Tl(t),t._start=In((la(r)?r:r||e!==rn?ns(e,r,t):e._time)+t._delay),t._end=In(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),xL(e,t,"_first","_last",e._sort?"_start":0),yT(t)||(e._recent=t),i||IL(e,t),e._ts<0&&Zv(e,e._tTime),e},kL=function(e,t){return(Ui.ScrollTrigger||Ew("scrollTrigger",t))&&Ui.ScrollTrigger.create(t,e)},OL=function(e,t,r,i,s){if(xw(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!pr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&EL!==ki.frame)return al.push(e),e._lazy=[s,i],1},S$=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},yT=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},R$=function(e,t,r,i){var s=e.ratio,a=t<0||!t&&(!e._start&&S$(e)&&!(!e._initted&&yT(e))||(e._ts<0||e._dp._ts<0)&&!yT(e))?0:1,u=e._rDelay,c=0,h,p,m;if(u&&e._repeat&&(c=Dp(0,e._tDur,t),p=Rf(c,u),e._yoyo&&p&1&&(a=1-a),p!==Rf(e._tTime,u)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||pr||i||e._zTime===Cr||!t&&e._zTime){if(!e._initted&&OL(e,t,i,r,c))return;for(m=e._zTime,e._zTime=t||(r?Cr:0),r||(r=t&&!m),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,h=e._pt;h;)h.r(a,h.d),h=h._next;t<0&&gT(e,t,r,!0),e._onUpdate&&!r&&Di(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&Di(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&Tl(e,1),!r&&!pr&&(Di(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},C$=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Cf=function(e,t,r,i){var s=e._repeat,a=In(t)||0,u=e._tTime/e._tDur;return u&&!i&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:In(a*(s+1)+e._rDelay*s):a,u>0&&!i&&Zv(e,e._tTime=e._tDur*u),e.parent&&Jv(e),r||Iu(e.parent,e),e},ik=function(e){return e instanceof jr?Iu(e):Cf(e,e._dur)},x$={_start:0,endTime:rp,totalDuration:rp},ns=function n(e,t,r){var i=e.labels,s=e._recent||x$,a=e.duration()>=po?s.endTime(!1):e._dur,u,c,h;return Qn(t)&&(isNaN(t)||t in i)?(c=t.charAt(0),h=t.substr(-1)==="%",u=t.indexOf("="),c==="<"||c===">"?(u>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(u<0?s:r).totalDuration()/100:1)):u<0?(t in i||(i[t]=a),i[t]):(c=parseFloat(t.charAt(u-1)+t.substr(u+1)),h&&r&&(c=c/100*(Ir(r)?r[0]:r).totalDuration()),u>1?n(e,t.substr(0,u-1),r)+c:a+c)):t==null?a:+t},Dd=function(e,t,r){var i=la(t[1]),s=(i?2:1)+(e<2?0:1),a=t[s],u,c;if(i&&(a.duration=t[1]),a.parent=r,e){for(u=a,c=r;c&&!("immediateRender"in u);)u=c.vars.defaults||{},c=oi(c.vars.inherit)&&c.parent;a.immediateRender=oi(u.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new xn(t[0],a,t[s+1])},Nl=function(e,t){return e||e===0?t(e):t},Dp=function(e,t,r){return r<e?e:r>t?t:r},Rr=function(e,t){return!Qn(e)||!(t=y$.exec(e))?"":t[1]},I$=function(e,t,r){return Nl(r,function(i){return Dp(e,t,i)})},vT=[].slice,NL=function(e,t){return e&&yo(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&yo(e[0]))&&!e.nodeType&&e!==ro},k$=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Qn(i)&&!t||NL(i,1)?(s=r).push.apply(s,ls(i)):r.push(i)})||r},ls=function(e,t,r){return Xt&&!t&&Xt.selector?Xt.selector(e):Qn(e)&&!r&&(pT||!xf())?vT.call((t||Tw).querySelectorAll(e),0):Ir(e)?k$(e,r):NL(e)?vT.call(e,0):e?[e]:[]},_T=function(e){return e=ls(e)[0]||np("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return ls(t,r.querySelectorAll?r:r===e?np("Invalid scope")||Tw.createElement("div"):e)}},ML=function(e){return e.sort(function(){return .5-Math.random()})},DL=function(e){if(dn(e))return e;var t=yo(e)?e:{each:e},r=ku(t.ease),i=t.from||0,s=parseFloat(t.base)||0,a={},u=i>0&&i<1,c=isNaN(i)||u,h=t.axis,p=i,m=i;return Qn(i)?p=m={center:.5,edges:.5,end:1}[i]||0:!u&&c&&(p=i[0],m=i[1]),function(v,_,A){var T=(A||t).length,w=a[T],O,M,j,q,U,D,L,S,C;if(!w){if(C=t.grid==="auto"?0:(t.grid||[1,po])[1],!C){for(L=-1e8;L<(L=A[C++].getBoundingClientRect().left)&&C<T;);C<T&&C--}for(w=a[T]=[],O=c?Math.min(C,T)*p-.5:i%C,M=C===po?0:c?T*m/C-.5:i/C|0,L=0,S=po,D=0;D<T;D++)j=D%C-O,q=M-(D/C|0),w[D]=U=h?Math.abs(h==="y"?q:j):mL(j*j+q*q),U>L&&(L=U),U<S&&(S=U);i==="random"&&ML(w),w.max=L-S,w.min=S,w.v=T=(parseFloat(t.amount)||parseFloat(t.each)*(C>T?T-1:h?h==="y"?T/C:C:Math.max(C,T/C))||0)*(i==="edges"?-1:1),w.b=T<0?s-T:s,w.u=Rr(t.amount||t.each)||0,r=r&&T<0?qL(r):r}return T=(w[v]-w.min)/w.max||0,In(w.b+(r?r(T):T)*w.v)+w.u}},bT=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=In(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(la(r)?0:Rr(r))}},PL=function(e,t){var r=Ir(e),i,s;return!r&&yo(e)&&(i=r=e.radius||po,e.values?(e=ls(e.values),(s=!la(e[0]))&&(i*=i)):e=bT(e.increment)),Nl(t,r?dn(e)?function(a){return s=e(a),Math.abs(s-a)<=i?s:a}:function(a){for(var u=parseFloat(s?a.x:a),c=parseFloat(s?a.y:0),h=po,p=0,m=e.length,v,_;m--;)s?(v=e[m].x-u,_=e[m].y-c,v=v*v+_*_):v=Math.abs(e[m]-u),v<h&&(h=v,p=m);return p=!i||h<=i?e[p]:a,s||p===a||la(a)?p:p+Rr(a)}:bT(e))},LL=function(e,t,r,i){return Nl(Ir(e)?!t:r===!0?!!(r=0):!i,function(){return Ir(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},O$=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,a){return a(s)},i)}},N$=function(e,t){return function(r){return e(parseFloat(r))+(t||Rr(r))}},M$=function(e,t,r){return UL(e,t,0,1,r)},VL=function(e,t,r){return Nl(r,function(i){return e[~~t(i)]})},D$=function n(e,t,r){var i=t-e;return Ir(e)?VL(e,n(0,e.length),t):Nl(r,function(s){return(i+(s-e)%i)%i+e})},P$=function n(e,t,r){var i=t-e,s=i*2;return Ir(e)?VL(e,n(0,e.length-1),t):Nl(r,function(a){return a=(s+(a-e)%s)%s||0,e+(a>i?s-a:a)})},ip=function(e){for(var t=0,r="",i,s,a,u;~(i=e.indexOf("random(",t));)a=e.indexOf(")",i),u=e.charAt(i+7)==="[",s=e.substr(i+7,a-i-7).match(u?_L:dT),r+=e.substr(t,i-t)+LL(u?s:+s[0],u?0:+s[1],+s[2]||1e-5),t=a+1;return r+e.substr(t,e.length-t)},UL=function(e,t,r,i,s){var a=t-e,u=i-r;return Nl(s,function(c){return r+((c-e)/a*u||0)})},L$=function n(e,t,r,i){var s=isNaN(e+t)?0:function(_){return(1-_)*e+_*t};if(!s){var a=Qn(e),u={},c,h,p,m,v;if(r===!0&&(i=1)&&(r=null),a)e={p:e},t={p:t};else if(Ir(e)&&!Ir(t)){for(p=[],m=e.length,v=m-2,h=1;h<m;h++)p.push(n(e[h-1],e[h]));m--,s=function(A){A*=m;var T=Math.min(v,~~A);return p[T](A-T)},r=t}else i||(e=Sf(Ir(e)?[]:{},e));if(!p){for(c in t)Cw.call(u,e,c,"get",t[c]);s=function(A){return Ow(A,u)||(a?e.p:e)}}}return Nl(r,s)},sk=function(e,t,r){var i=e.labels,s=po,a,u,c;for(a in i)u=i[a]-t,u<0==!!r&&u&&s>(u=Math.abs(u))&&(c=a,s=u);return c},Di=function(e,t,r){var i=e.vars,s=i[t],a=Xt,u=e._ctx,c,h,p;if(s)return c=i[t+"Params"],h=i.callbackScope||e,r&&al.length&&wy(),u&&(Xt=u),p=c?s.apply(h,c):s.call(h),Xt=a,p},bd=function(e){return Tl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!pr),e.progress()<1&&Di(e,"onInterrupt"),e},ef,zL=[],BL=function(e){if(e)if(e=!e.name&&e.default||e,Aw()||e.headless){var t=e.name,r=dn(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:rp,render:Ow,add:Cw,kill:J$,modifier:X$,rawVars:0},a={targetTest:0,get:0,getSetter:kw,aliases:{},register:0};if(xf(),e!==i){if(xi[t])return;zi(i,zi(Sy(e,s),a)),Sf(i.prototype,Sf(s,Sy(e,a))),xi[i.prop=t]=i,e.targetTest&&(Bg.push(i),ww[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}TL(t,i),e.register&&e.register(fi,i,li)}else zL.push(e)},qt=255,Ad={aqua:[0,qt,qt],lime:[0,qt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,qt],navy:[0,0,128],white:[qt,qt,qt],olive:[128,128,0],yellow:[qt,qt,0],orange:[qt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[qt,0,0],pink:[qt,192,203],cyan:[0,qt,qt],transparent:[qt,qt,qt,0]},Bb=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*qt+.5|0},jL=function(e,t,r){var i=e?la(e)?[e>>16,e>>8&qt,e&qt]:0:Ad.black,s,a,u,c,h,p,m,v,_,A;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ad[e])i=Ad[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),u=e.charAt(3),e="#"+s+s+a+a+u+u+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&qt,i&qt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&qt,e&qt]}else if(e.substr(0,3)==="hsl"){if(i=A=e.match(dT),!t)c=+i[0]%360/360,h=+i[1]/100,p=+i[2]/100,a=p<=.5?p*(h+1):p+h-p*h,s=p*2-a,i.length>3&&(i[3]*=1),i[0]=Bb(c+1/3,s,a),i[1]=Bb(c,s,a),i[2]=Bb(c-1/3,s,a);else if(~e.indexOf("="))return i=e.match(yL),r&&i.length<4&&(i[3]=1),i}else i=e.match(dT)||Ad.transparent;i=i.map(Number)}return t&&!A&&(s=i[0]/qt,a=i[1]/qt,u=i[2]/qt,m=Math.max(s,a,u),v=Math.min(s,a,u),p=(m+v)/2,m===v?c=h=0:(_=m-v,h=p>.5?_/(2-m-v):_/(m+v),c=m===s?(a-u)/_+(a<u?6:0):m===a?(u-s)/_+2:(s-a)/_+4,c*=60),i[0]=~~(c+.5),i[1]=~~(h*100+.5),i[2]=~~(p*100+.5)),r&&i.length<4&&(i[3]=1),i},FL=function(e){var t=[],r=[],i=-1;return e.split(ll).forEach(function(s){var a=s.match(Zc)||[];t.push.apply(t,a),r.push(i+=a.length+1)}),t.c=r,t},ok=function(e,t,r){var i="",s=(e+i).match(ll),a=t?"hsla(":"rgba(",u=0,c,h,p,m;if(!s)return e;if(s=s.map(function(v){return(v=jL(v,t,1))&&a+(t?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),r&&(p=FL(e),c=r.c,c.join(i)!==p.c.join(i)))for(h=e.replace(ll,"1").split(Zc),m=h.length-1;u<m;u++)i+=h[u]+(~c.indexOf(u)?s.shift()||a+"0,0,0,0)":(p.length?p:s.length?s:r).shift());if(!h)for(h=e.split(ll),m=h.length-1;u<m;u++)i+=h[u]+s[u];return i+h[m]},ll=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ad)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),V$=/hsl[a]?\(/,HL=function(e){var t=e.join(" "),r;if(ll.lastIndex=0,ll.test(t))return r=V$.test(t),e[1]=ok(e[1],r),e[0]=ok(e[0],r,FL(e[1])),!0},sp,ki=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,a=s,u=[],c,h,p,m,v,_,A=function T(w){var O=n()-i,M=w===!0,j,q,U,D;if((O>e||O<0)&&(r+=O-t),i+=O,U=i-r,j=U-a,(j>0||M)&&(D=++m.frame,v=U-m.time*1e3,m.time=U=U/1e3,a+=j+(j>=s?4:s-j),q=1),M||(c=h(T)),q)for(_=0;_<u.length;_++)u[_](U,v,D,w)};return m={time:0,frame:0,tick:function(){A(!0)},deltaRatio:function(w){return v/(1e3/(w||60))},wake:function(){bL&&(!pT&&Aw()&&(ro=pT=window,Tw=ro.document||{},Ui.gsap=fi,(ro.gsapVersions||(ro.gsapVersions=[])).push(fi.version),AL(Ey||ro.GreenSockGlobals||!ro.gsap&&ro||{}),zL.forEach(BL)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&m.sleep(),h=p||function(w){return setTimeout(w,a-m.time*1e3+1|0)},sp=1,A(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(c),sp=0,h=rp},lagSmoothing:function(w,O){e=w||1/0,t=Math.min(O||33,e)},fps:function(w){s=1e3/(w||240),a=m.time*1e3+s},add:function(w,O,M){var j=O?function(q,U,D,L){w(q,U,D,L),m.remove(j)}:w;return m.remove(w),u[M?"unshift":"push"](j),xf(),j},remove:function(w,O){~(O=u.indexOf(w))&&u.splice(O,1)&&_>=O&&_--},_listeners:u},m}(),xf=function(){return!sp&&ki.wake()},bt={},U$=/^[\d.\-M][\d.\-,\s]/,z$=/["']/g,B$=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,a=r.length,u,c,h;s<a;s++)c=r[s],u=s!==a-1?c.lastIndexOf(","):c.length,h=c.substr(0,u),t[i]=isNaN(h)?h.replace(z$,"").trim():+h,i=c.substr(u+1).trim();return t},j$=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},F$=function(e){var t=(e+"").split("("),r=bt[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[B$(t[1])]:j$(e).split(",").map(RL)):bt._CE&&U$.test(e)?bt._CE("",e):r},qL=function(e){return function(t){return 1-e(1-t)}},$L=function n(e,t){for(var r=e._first,i;r;)r instanceof jr?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},ku=function(e,t){return e&&(dn(e)?e:bt[e]||F$(e))||t},nc=function(e,t,r,i){r===void 0&&(r=function(c){return 1-t(1-c)}),i===void 0&&(i=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},a;return ai(e,function(u){bt[u]=Ui[u]=s,bt[a=u.toLowerCase()]=r;for(var c in s)bt[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=bt[u+"."+c]=s[c]}),s},GL=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},jb=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),a=s/hT*(Math.asin(1/i)||0),u=function(p){return p===1?1:i*Math.pow(2,-10*p)*g$((p-a)*s)+1},c=e==="out"?u:e==="in"?function(h){return 1-u(1-h)}:GL(u);return s=hT/s,c.config=function(h,p){return n(e,h,p)},c},Fb=function n(e,t){t===void 0&&(t=1.70158);var r=function(a){return a?--a*a*((t+1)*a+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:GL(r);return i.config=function(s){return n(e,s)},i};ai("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;nc(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});bt.Linear.easeNone=bt.none=bt.Linear.easeIn;nc("Elastic",jb("in"),jb("out"),jb());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(u){return u<t?n*u*u:u<r?n*Math.pow(u-1.5/e,2)+.75:u<i?n*(u-=2.25/e)*u+.9375:n*Math.pow(u-2.625/e,2)+.984375};nc("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);nc("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});nc("Circ",function(n){return-(mL(1-n*n)-1)});nc("Sine",function(n){return n===1?1:-m$(n*d$)+1});nc("Back",Fb("in"),Fb("out"),Fb());bt.SteppedEase=bt.steps=Ui.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,a=1-Cr;return function(u){return((i*Dp(0,a,u)|0)+s)*r}}};wf.ease=bt["quad.out"];ai("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Sw+=n+","+n+"Params,"});var WL=function(e,t){this.id=p$++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:wL,this.set=t?t.getSetter:kw},op=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Cf(this,+t.duration,1,1),this.data=t.data,Xt&&(this._ctx=Xt,Xt.data.push(this)),sp||ki.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Cf(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(xf(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Zv(this,r),!s._dp||s.parent||IL(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&io(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Cr||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),SL(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+rk(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+rk(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Rf(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?Ry(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime(Dp(-Math.abs(this._delay),this._tDur,s),i!==!1),Jv(this),E$(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(xf(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Cr&&(this._tTime-=Cr)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&io(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(oi(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ry(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=_$);var i=pr;return pr=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),pr=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,ik(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,ik(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(ns(this,r),oi(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,oi(i)),this._dur||(this._zTime=-1e-8),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Cr)},e.eventCallback=function(r,i,s){var a=this.vars;return arguments.length>1?(i?(a[r]=i,s&&(a[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete a[r],this):a[r]},e.then=function(r){var i=this;return new Promise(function(s){var a=dn(r)?r:CL,u=function(){var h=i.then;i.then=null,dn(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=h),s(a),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?u():i._prom=u})},e.kill=function(){bd(this)},n}();zi(op.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var jr=function(n){pL(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=oi(r.sortChildren),rn&&io(r.parent||rn,Go(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&kL(Go(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,a){return Dd(0,arguments,this),this},t.from=function(i,s,a){return Dd(1,arguments,this),this},t.fromTo=function(i,s,a,u){return Dd(2,arguments,this),this},t.set=function(i,s,a){return s.duration=0,s.parent=this,Md(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new xn(i,s,ns(this,a),1),this},t.call=function(i,s,a){return io(this,xn.delayedCall(0,i,s),a)},t.staggerTo=function(i,s,a,u,c,h,p){return a.duration=s,a.stagger=a.stagger||u,a.onComplete=h,a.onCompleteParams=p,a.parent=this,new xn(i,a,ns(this,c)),this},t.staggerFrom=function(i,s,a,u,c,h,p){return a.runBackwards=1,Md(a).immediateRender=oi(a.immediateRender),this.staggerTo(i,s,a,u,c,h,p)},t.staggerFromTo=function(i,s,a,u,c,h,p,m){return u.startAt=a,Md(u).immediateRender=oi(u.immediateRender),this.staggerTo(i,s,u,c,h,p,m)},t.render=function(i,s,a){var u=this._time,c=this._dirty?this.totalDuration():this._tDur,h=this._dur,p=i<=0?0:In(i),m=this._zTime<0!=i<0&&(this._initted||!h),v,_,A,T,w,O,M,j,q,U,D,L;if(this!==rn&&p>c&&i>=0&&(p=c),p!==this._tTime||a||m){if(u!==this._time&&h&&(p+=this._time-u,i+=this._time-u),v=p,q=this._start,j=this._ts,O=!j,m&&(h||(u=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(D=this._yoyo,w=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(w*100+i,s,a);if(v=In(p%w),p===c?(T=this._repeat,v=h):(U=In(p/w),T=~~U,T&&T===U&&(v=h,T--),v>h&&(v=h)),U=Rf(this._tTime,w),!u&&this._tTime&&U!==T&&this._tTime-U*w-this._dur<=0&&(U=T),D&&T&1&&(v=h-v,L=1),T!==U&&!this._lock){var S=D&&U&1,C=S===(D&&T&1);if(T<U&&(S=!S),u=S?0:p%h?h:p,this._lock=1,this.render(u||(L?0:In(T*w)),s,!h)._lock=0,this._tTime=p,!s&&this.parent&&Di(this,"onRepeat"),this.vars.repeatRefresh&&!L&&(this.invalidate()._lock=1),u&&u!==this._time||O!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,c=this._tDur,C&&(this._lock=2,u=S?h:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!L&&this.invalidate()),this._lock=0,!this._ts&&!O)return this;$L(this,L)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=C$(this,In(u),In(v)),M&&(p-=v-(v=M._start))),this._tTime=p,this._time=v,this._act=!j,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,u=0),!u&&v&&!s&&!T&&(Di(this,"onStart"),this._tTime!==p))return this;if(v>=u&&i>=0)for(_=this._first;_;){if(A=_._next,(_._act||v>=_._start)&&_._ts&&M!==_){if(_.parent!==this)return this.render(i,s,a);if(_.render(_._ts>0?(v-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(v-_._start)*_._ts,s,a),v!==this._time||!this._ts&&!O){M=0,A&&(p+=this._zTime=-1e-8);break}}_=A}else{_=this._last;for(var B=i<0?i:v;_;){if(A=_._prev,(_._act||B<=_._end)&&_._ts&&M!==_){if(_.parent!==this)return this.render(i,s,a);if(_.render(_._ts>0?(B-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(B-_._start)*_._ts,s,a||pr&&(_._initted||_._startAt)),v!==this._time||!this._ts&&!O){M=0,A&&(p+=this._zTime=B?-1e-8:Cr);break}}_=A}}if(M&&!s&&(this.pause(),M.render(v>=u?0:-1e-8)._zTime=v>=u?1:-1,this._ts))return this._start=q,Jv(this),this.render(i,s,a);this._onUpdate&&!s&&Di(this,"onUpdate",!0),(p===c&&this._tTime>=this.totalDuration()||!p&&u)&&(q===this._start||Math.abs(j)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(p===c&&this._ts>0||!p&&this._ts<0)&&Tl(this,1),!s&&!(i<0&&!u)&&(p||u||!c)&&(Di(this,p===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var a=this;if(la(s)||(s=ns(this,s,i)),!(i instanceof op)){if(Ir(i))return i.forEach(function(u){return a.add(u,s)}),this;if(Qn(i))return this.addLabel(i,s);if(dn(i))i=xn.delayedCall(0,i);else return this}return this!==i?io(this,i,s):this},t.getChildren=function(i,s,a,u){i===void 0&&(i=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),u===void 0&&(u=-1e8);for(var c=[],h=this._first;h;)h._start>=u&&(h instanceof xn?s&&c.push(h):(a&&c.push(h),i&&c.push.apply(c,h.getChildren(!0,s,a)))),h=h._next;return c},t.getById=function(i){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===i)return s[a]},t.remove=function(i){return Qn(i)?this.removeLabel(i):dn(i)?this.killTweensOf(i):(i.parent===this&&Xv(this,i),i===this._recent&&(this._recent=this._last),Iu(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=In(ki.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=ns(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,a){var u=xn.delayedCall(0,s||rp,a);return u.data="isPause",this._hasPause=1,io(this,u,ns(this,i))},t.removePause=function(i){var s=this._first;for(i=ns(this,i);s;)s._start===i&&s.data==="isPause"&&Tl(s),s=s._next},t.killTweensOf=function(i,s,a){for(var u=this.getTweensOf(i,a),c=u.length;c--;)Qa!==u[c]&&u[c].kill(i,s);return this},t.getTweensOf=function(i,s){for(var a=[],u=ls(i),c=this._first,h=la(s),p;c;)c instanceof xn?b$(c._targets,u)&&(h?(!Qa||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&a.push(c):(p=c.getTweensOf(u,s)).length&&a.push.apply(a,p),c=c._next;return a},t.tweenTo=function(i,s){s=s||{};var a=this,u=ns(a,i),c=s,h=c.startAt,p=c.onStart,m=c.onStartParams,v=c.immediateRender,_,A=xn.to(a,zi({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:s.duration||Math.abs((u-(h&&"time"in h?h.time:a._time))/a.timeScale())||Cr,onStart:function(){if(a.pause(),!_){var w=s.duration||Math.abs((u-(h&&"time"in h?h.time:a._time))/a.timeScale());A._dur!==w&&Cf(A,w,0,1).render(A._time,!0,!0),_=1}p&&p.apply(A,m||[])}},s));return v?A.render(0):A},t.tweenFromTo=function(i,s,a){return this.tweenTo(s,zi({startAt:{time:ns(this,i)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),sk(this,ns(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),sk(this,ns(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Cr)},t.shiftChildren=function(i,s,a){a===void 0&&(a=0);for(var u=this._first,c=this.labels,h;u;)u._start>=a&&(u._start+=i,u._end+=i),u=u._next;if(s)for(h in c)c[h]>=a&&(c[h]+=i);return Iu(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Iu(this)},t.totalDuration=function(i){var s=0,a=this,u=a._last,c=po,h,p,m;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-i:i));if(a._dirty){for(m=a.parent;u;)h=u._prev,u._dirty&&u.totalDuration(),p=u._start,p>c&&a._sort&&u._ts&&!a._lock?(a._lock=1,io(a,u,p-u._delay,1)._lock=0):c=p,p<0&&u._ts&&(s-=p,(!m&&!a._dp||m&&m.smoothChildTiming)&&(a._start+=p/a._ts,a._time-=p,a._tTime-=p),a.shiftChildren(-p,!1,-1/0),c=0),u._end>s&&u._ts&&(s=u._end),u=h;Cf(a,a===rn&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(i){if(rn._ts&&(SL(rn,Ry(i,rn)),EL=ki.frame),ki.frame>=tk){tk+=Li.autoSleep||120;var s=rn._first;if((!s||!s._ts)&&Li.autoSleep&&ki._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||ki.sleep()}}},e}(op);zi(jr.prototype,{_lock:0,_hasPause:0,_forcing:0});var H$=function(e,t,r,i,s,a,u){var c=new li(this._pt,e,t,0,1,ZL,null,s),h=0,p=0,m,v,_,A,T,w,O,M;for(c.b=r,c.e=i,r+="",i+="",(O=~i.indexOf("random("))&&(i=ip(i)),a&&(M=[r,i],a(M,e,t),r=M[0],i=M[1]),v=r.match(Ub)||[];m=Ub.exec(i);)A=m[0],T=i.substring(h,m.index),_?_=(_+1)%5:T.substr(-5)==="rgba("&&(_=1),A!==v[p++]&&(w=parseFloat(v[p-1])||0,c._pt={_next:c._pt,p:T||p===1?T:",",s:w,c:A.charAt(1)==="="?uf(w,A)-w:parseFloat(A)-w,m:_&&_<4?Math.round:0},h=Ub.lastIndex);return c.c=h<i.length?i.substring(h,i.length):"",c.fp=u,(vL.test(i)||O)&&(c.e=0),this._pt=c,c},Cw=function(e,t,r,i,s,a,u,c,h,p){dn(i)&&(i=i(s||0,e,a));var m=e[t],v=r!=="get"?r:dn(m)?h?e[t.indexOf("set")||!dn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():m,_=dn(m)?h?K$:XL:Iw,A;if(Qn(i)&&(~i.indexOf("random(")&&(i=ip(i)),i.charAt(1)==="="&&(A=uf(v,i)+(Rr(v)||0),(A||A===0)&&(i=A))),!p||v!==i||AT)return!isNaN(v*i)&&i!==""?(A=new li(this._pt,e,t,+v||0,i-(v||0),typeof m=="boolean"?Q$:JL,0,_),h&&(A.fp=h),u&&A.modifier(u,this,e),this._pt=A):(!m&&!(t in e)&&Ew(t,i),H$.call(this,e,t,v,i,_,c||Li.stringFilter,h))},q$=function(e,t,r,i,s){if(dn(e)&&(e=Pd(e,s,t,r,i)),!yo(e)||e.style&&e.nodeType||Ir(e)||gL(e))return Qn(e)?Pd(e,s,t,r,i):e;var a={},u;for(u in e)a[u]=Pd(e[u],s,t,r,i);return a},KL=function(e,t,r,i,s,a){var u,c,h,p;if(xi[e]&&(u=new xi[e]).init(s,u.rawVars?t[e]:q$(t[e],i,s,a,r),r,i,a)!==!1&&(r._pt=c=new li(r._pt,s,e,0,1,u.render,u,0,u.priority),r!==ef))for(h=r._ptLookup[r._targets.indexOf(s)],p=u._props.length;p--;)h[u._props[p]]=c;return u},Qa,AT,xw=function n(e,t,r){var i=e.vars,s=i.ease,a=i.startAt,u=i.immediateRender,c=i.lazy,h=i.onUpdate,p=i.runBackwards,m=i.yoyoEase,v=i.keyframes,_=i.autoRevert,A=e._dur,T=e._startAt,w=e._targets,O=e.parent,M=O&&O.data==="nested"?O.vars.targets:w,j=e._overwrite==="auto"&&!_w,q=e.timeline,U,D,L,S,C,B,P,N,k,J,F,$,G;if(q&&(!v||!s)&&(s="none"),e._ease=ku(s,wf.ease),e._yEase=m?qL(ku(m===!0?s:m,wf.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!q&&!!i.runBackwards,!q||v&&!i.stagger){if(N=w[0]?xu(w[0]).harness:0,$=N&&i[N.prop],U=Sy(i,ww),T&&(T._zTime<0&&T.progress(1),t<0&&p&&u&&!_?T.render(-1,!0):T.revert(p&&A?zg:v$),T._lazy=0),a){if(Tl(e._startAt=xn.set(w,zi({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:!T&&oi(c),startAt:null,delay:0,onUpdate:h&&function(){return Di(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(pr||!u&&!_)&&e._startAt.revert(zg),u&&A&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(p&&A&&!T){if(t&&(u=!1),L=zi({overwrite:!1,data:"isFromStart",lazy:u&&!T&&oi(c),immediateRender:u,stagger:0,parent:O},U),$&&(L[N.prop]=$),Tl(e._startAt=xn.set(w,L)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(pr?e._startAt.revert(zg):e._startAt.render(-1,!0)),e._zTime=t,!u)n(e._startAt,Cr,Cr);else if(!t)return}for(e._pt=e._ptCache=0,c=A&&oi(c)||c&&!A,D=0;D<w.length;D++){if(C=w[D],P=C._gsap||Rw(w)[D]._gsap,e._ptLookup[D]=J={},mT[P.id]&&al.length&&wy(),F=M===w?D:M.indexOf(C),N&&(k=new N).init(C,$||U,e,F,M)!==!1&&(e._pt=S=new li(e._pt,C,k.name,0,1,k.render,k,0,k.priority),k._props.forEach(function(Z){J[Z]=S}),k.priority&&(B=1)),!N||$)for(L in U)xi[L]&&(k=KL(L,U,e,F,C,M))?k.priority&&(B=1):J[L]=S=Cw.call(e,C,L,"get",U[L],F,M,0,i.stringFilter);e._op&&e._op[D]&&e.kill(C,e._op[D]),j&&e._pt&&(Qa=e,rn.killTweensOf(C,J,e.globalTime(t)),G=!e.parent,Qa=0),e._pt&&c&&(mT[P.id]=1)}B&&e2(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!G,v&&t<=0&&q.render(po,!0,!0)},$$=function(e,t,r,i,s,a,u,c){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],p,m,v,_;if(!h)for(h=e._ptCache[t]=[],v=e._ptLookup,_=e._targets.length;_--;){if(p=v[_][t],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==t&&p.fp!==t;)p=p._next;if(!p)return AT=1,e.vars[t]="+=0",xw(e,u),AT=0,c?np(t+" not eligible for reset"):1;h.push(p)}for(_=h.length;_--;)m=h[_],p=m._pt||m,p.s=(i||i===0)&&!s?i:p.s+(i||0)+a*p.c,p.c=r-p.s,m.e&&(m.e=bn(r)+Rr(m.e)),m.b&&(m.b=p.s+Rr(m.b))},G$=function(e,t){var r=e[0]?xu(e[0]).harness:0,i=r&&r.aliases,s,a,u,c;if(!i)return t;s=Sf({},t);for(a in i)if(a in s)for(c=i[a].split(","),u=c.length;u--;)s[c[u]]=s[a];return s},W$=function(e,t,r,i){var s=t.ease||i||"power1.inOut",a,u;if(Ir(t))u=r[e]||(r[e]=[]),t.forEach(function(c,h){return u.push({t:h/(t.length-1)*100,v:c,e:s})});else for(a in t)u=r[a]||(r[a]=[]),a==="ease"||u.push({t:parseFloat(e),v:t[a],e:s})},Pd=function(e,t,r,i,s){return dn(e)?e.call(t,r,i,s):Qn(e)&&~e.indexOf("random(")?ip(e):e},YL=Sw+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",QL={};ai(YL+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return QL[n]=1});var xn=function(n){pL(e,n);function e(r,i,s,a){var u;typeof i=="number"&&(s.duration=i,i=s,s=null),u=n.call(this,a?i:Md(i))||this;var c=u.vars,h=c.duration,p=c.delay,m=c.immediateRender,v=c.stagger,_=c.overwrite,A=c.keyframes,T=c.defaults,w=c.scrollTrigger,O=c.yoyoEase,M=i.parent||rn,j=(Ir(r)||gL(r)?la(r[0]):"length"in i)?[r]:ls(r),q,U,D,L,S,C,B,P;if(u._targets=j.length?Rw(j):np("GSAP target "+r+" not found. https://gsap.com",!Li.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=_,A||v||fg(h)||fg(p)){if(i=u.vars,q=u.timeline=new jr({data:"nested",defaults:T||{},targets:M&&M.data==="nested"?M.vars.targets:j}),q.kill(),q.parent=q._dp=Go(u),q._start=0,v||fg(h)||fg(p)){if(L=j.length,B=v&&DL(v),yo(v))for(S in v)~YL.indexOf(S)&&(P||(P={}),P[S]=v[S]);for(U=0;U<L;U++)D=Sy(i,QL),D.stagger=0,O&&(D.yoyoEase=O),P&&Sf(D,P),C=j[U],D.duration=+Pd(h,Go(u),U,C,j),D.delay=(+Pd(p,Go(u),U,C,j)||0)-u._delay,!v&&L===1&&D.delay&&(u._delay=p=D.delay,u._start+=p,D.delay=0),q.to(C,D,B?B(U,C,j):0),q._ease=bt.none;q.duration()?h=p=0:u.timeline=0}else if(A){Md(zi(q.vars.defaults,{ease:"none"})),q._ease=ku(A.ease||i.ease||"none");var N=0,k,J,F;if(Ir(A))A.forEach(function($){return q.to(j,$,">")}),q.duration();else{D={};for(S in A)S==="ease"||S==="easeEach"||W$(S,A[S],D,A.easeEach);for(S in D)for(k=D[S].sort(function($,G){return $.t-G.t}),N=0,U=0;U<k.length;U++)J=k[U],F={ease:J.e,duration:(J.t-(U?k[U-1].t:0))/100*h},F[S]=J.v,q.to(j,F,N),N+=F.duration;q.duration()<h&&q.to({},{duration:h-q.duration()})}}h||u.duration(h=q.duration())}else u.timeline=0;return _===!0&&!_w&&(Qa=Go(u),rn.killTweensOf(j),Qa=0),io(M,Go(u),s),i.reversed&&u.reverse(),i.paused&&u.paused(!0),(m||!h&&!A&&u._start===In(M._time)&&oi(m)&&w$(Go(u))&&M.data!=="nested")&&(u._tTime=-1e-8,u.render(Math.max(0,-p)||0)),w&&kL(Go(u),w),u}var t=e.prototype;return t.render=function(i,s,a){var u=this._time,c=this._tDur,h=this._dur,p=i<0,m=i>c-Cr&&!p?c:i<Cr?0:i,v,_,A,T,w,O,M,j,q;if(!h)R$(this,i,s,a);else if(m!==this._tTime||!i||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(v=m,j=this.timeline,this._repeat){if(T=h+this._rDelay,this._repeat<-1&&p)return this.totalTime(T*100+i,s,a);if(v=In(m%T),m===c?(A=this._repeat,v=h):(w=In(m/T),A=~~w,A&&A===w?(v=h,A--):v>h&&(v=h)),O=this._yoyo&&A&1,O&&(q=this._yEase,v=h-v),w=Rf(this._tTime,T),v===u&&!a&&this._initted&&A===w)return this._tTime=m,this;A!==w&&(j&&this._yEase&&$L(j,O),this.vars.repeatRefresh&&!O&&!this._lock&&v!==T&&this._initted&&(this._lock=a=1,this.render(In(T*A),!0).invalidate()._lock=0))}if(!this._initted){if(OL(this,p?i:v,a,s,m))return this._tTime=0,this;if(u!==this._time&&!(a&&this.vars.repeatRefresh&&A!==w))return this;if(h!==this._dur)return this.render(i,s,a)}if(this._tTime=m,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(q||this._ease)(v/h),this._from&&(this.ratio=M=1-M),v&&!u&&!s&&!A&&(Di(this,"onStart"),this._tTime!==m))return this;for(_=this._pt;_;)_.r(M,_.d),_=_._next;j&&j.render(i<0?i:j._dur*j._ease(v/this._dur),s,a)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(p&&gT(this,i,s,a),Di(this,"onUpdate")),this._repeat&&A!==w&&this.vars.onRepeat&&!s&&this.parent&&Di(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(p&&!this._onUpdate&&gT(this,i,!0,!0),(i||!h)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Tl(this,1),!s&&!(p&&!u)&&(m||u||O)&&(Di(this,m===c?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,a,u,c){sp||ki.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||xw(this,h),p=this._ease(h/this._dur),$$(this,i,s,a,u,p,h,c)?this.resetTo(i,s,a,u,1):(Zv(this,0),this.parent||xL(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?bd(this):this.scrollTrigger&&this.scrollTrigger.kill(!!pr),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Qa&&Qa.vars.overwrite!==!0)._first||bd(this),this.parent&&a!==this.timeline.totalDuration()&&Cf(this,this._dur*this.timeline._tDur/a,0,1),this}var u=this._targets,c=i?ls(i):u,h=this._ptLookup,p=this._pt,m,v,_,A,T,w,O;if((!s||s==="all")&&T$(u,c))return s==="all"&&(this._pt=0),bd(this);for(m=this._op=this._op||[],s!=="all"&&(Qn(s)&&(T={},ai(s,function(M){return T[M]=1}),s=T),s=G$(u,s)),O=u.length;O--;)if(~c.indexOf(u[O])){v=h[O],s==="all"?(m[O]=s,A=v,_={}):(_=m[O]=m[O]||{},A=s);for(T in A)w=v&&v[T],w&&((!("kill"in w.d)||w.d.kill(T)===!0)&&Xv(this,w,"_pt"),delete v[T]),_!=="all"&&(_[T]=1)}return this._initted&&!this._pt&&p&&bd(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Dd(1,arguments)},e.delayedCall=function(i,s,a,u){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:u})},e.fromTo=function(i,s,a){return Dd(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,a){return rn.killTweensOf(i,s,a)},e}(op);zi(xn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ai("staggerTo,staggerFrom,staggerFromTo",function(n){xn[n]=function(){var e=new jr,t=vT.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var Iw=function(e,t,r){return e[t]=r},XL=function(e,t,r){return e[t](r)},K$=function(e,t,r,i){return e[t](i.fp,r)},Y$=function(e,t,r){return e.setAttribute(t,r)},kw=function(e,t){return dn(e[t])?XL:bw(e[t])&&e.setAttribute?Y$:Iw},JL=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Q$=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},ZL=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},Ow=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},X$=function(e,t,r,i){for(var s=this._pt,a;s;)a=s._next,s.p===i&&s.modifier(e,t,r),s=a},J$=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?Xv(this,t,"_pt"):t.dep||(r=1),t=i;return!r},Z$=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},e2=function(e){for(var t=e._pt,r,i,s,a;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:a)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:a=t,t=r}e._pt=s},li=function(){function n(t,r,i,s,a,u,c,h,p){this.t=r,this.s=s,this.c=a,this.p=i,this.r=u||JL,this.d=c||this,this.set=h||Iw,this.pr=p||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=Z$,this.m=r,this.mt=s,this.tween=i},n}();ai(Sw+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return ww[n]=1});Ui.TweenMax=Ui.TweenLite=xn;Ui.TimelineLite=Ui.TimelineMax=jr;rn=new jr({sortChildren:!1,defaults:wf,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Li.stringFilter=HL;var Ou=[],jg={},eG=[],ak=0,tG=0,Hb=function(e){return(jg[e]||eG).map(function(t){return t()})},TT=function(){var e=Date.now(),t=[];e-ak>2&&(Hb("matchMediaInit"),Ou.forEach(function(r){var i=r.queries,s=r.conditions,a,u,c,h;for(u in i)a=ro.matchMedia(i[u]).matches,a&&(c=1),a!==s[u]&&(s[u]=a,h=1);h&&(r.revert(),c&&t.push(r))}),Hb("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),ak=e,Hb("matchMedia"))},t2=function(){function n(t,r){this.selector=r&&_T(r),this.data=[],this._r=[],this.isReverted=!1,this.id=tG++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){dn(r)&&(s=i,i=r,r=dn);var a=this,u=function(){var h=Xt,p=a.selector,m;return h&&h!==a&&h.data.push(a),s&&(a.selector=_T(s)),Xt=a,m=i.apply(a,arguments),dn(m)&&a._r.push(m),Xt=h,a.selector=p,a.isReverted=!1,m};return a.last=u,r===dn?u(a,function(c){return a.add(null,c)}):r?a[r]=u:u},e.ignore=function(r){var i=Xt;Xt=null,r(this),Xt=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof xn&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var u=s.getTweens(),c=s.data.length,h;c--;)h=s.data[c],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(p){return u.splice(u.indexOf(p),1)}));for(u.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,m){return m.g-p.g||-1/0}).forEach(function(p){return p.t.revert(r)}),c=s.data.length;c--;)h=s.data[c],h instanceof jr?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof xn)&&h.revert&&h.revert(r);s._r.forEach(function(p){return p(r,s)}),s.isReverted=!0}():this.data.forEach(function(u){return u.kill&&u.kill()}),this.clear(),i)for(var a=Ou.length;a--;)Ou[a].id===this.id&&Ou.splice(a,1)},e.revert=function(r){this.kill(r||{})},n}(),nG=function(){function n(t){this.contexts=[],this.scope=t,Xt&&Xt.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){yo(r)||(r={matches:r});var a=new t2(0,s||this.scope),u=a.conditions={},c,h,p;Xt&&!a.selector&&(a.selector=Xt.selector),this.contexts.push(a),i=a.add("onMatch",i),a.queries=r;for(h in r)h==="all"?p=1:(c=ro.matchMedia(r[h]),c&&(Ou.indexOf(a)<0&&Ou.push(a),(u[h]=c.matches)&&(p=1),c.addListener?c.addListener(TT):c.addEventListener("change",TT)));return p&&i(a,function(m){return a.add(null,m)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),Cy={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return BL(i)})},timeline:function(e){return new jr(e)},getTweensOf:function(e,t){return rn.getTweensOf(e,t)},getProperty:function(e,t,r,i){Qn(e)&&(e=ls(e)[0]);var s=xu(e||{}).get,a=r?CL:RL;return r==="native"&&(r=""),e&&(t?a((xi[t]&&xi[t].get||s)(e,t,r,i)):function(u,c,h){return a((xi[u]&&xi[u].get||s)(e,u,c,h))})},quickSetter:function(e,t,r){if(e=ls(e),e.length>1){var i=e.map(function(p){return fi.quickSetter(p,t,r)}),s=i.length;return function(p){for(var m=s;m--;)i[m](p)}}e=e[0]||{};var a=xi[t],u=xu(e),c=u.harness&&(u.harness.aliases||{})[t]||t,h=a?function(p){var m=new a;ef._pt=0,m.init(e,r?p+r:p,ef,0,[e]),m.render(1,m),ef._pt&&Ow(1,ef)}:u.set(e,c);return a?h:function(p){return h(e,c,r?p+r:p,u,1)}},quickTo:function(e,t,r){var i,s=fi.to(e,zi((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),a=function(c,h,p){return s.resetTo(t,c,h,p)};return a.tween=s,a},isTweening:function(e){return rn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ku(e.ease,wf.ease)),nk(wf,e||{})},config:function(e){return nk(Li,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,a=e.extendTimeline;(i||"").split(",").forEach(function(u){return u&&!xi[u]&&!Ui[u]&&np(t+" effect requires "+u+" plugin.")}),zb[t]=function(u,c,h){return r(ls(u),zi(c||{},s),h)},a&&(jr.prototype[t]=function(u,c,h){return this.add(zb[t](u,yo(c)?c:(h=c)&&{},this),h)})},registerEase:function(e,t){bt[e]=ku(t)},parseEase:function(e,t){return arguments.length?ku(e,t):bt},getById:function(e){return rn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new jr(e),i,s;for(r.smoothChildTiming=oi(e.smoothChildTiming),rn.remove(r),r._dp=0,r._time=r._tTime=rn._time,i=rn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof xn&&i.vars.onComplete===i._targets[0]))&&io(r,i,i._start-i._delay),i=s;return io(rn,r,0),r},context:function(e,t){return e?new t2(e,t):Xt},matchMedia:function(e){return new nG(e)},matchMediaRefresh:function(){return Ou.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||TT()},addEventListener:function(e,t){var r=jg[e]||(jg[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=jg[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:D$,wrapYoyo:P$,distribute:DL,random:LL,snap:PL,normalize:M$,getUnit:Rr,clamp:I$,splitColor:jL,toArray:ls,selector:_T,mapRange:UL,pipe:O$,unitize:N$,interpolate:L$,shuffle:ML},install:AL,effects:zb,ticker:ki,updateRoot:jr.updateRoot,plugins:xi,globalTimeline:rn,core:{PropTween:li,globals:TL,Tween:xn,Timeline:jr,Animation:op,getCache:xu,_removeLinkedListItem:Xv,reverting:function(){return pr},context:function(e){return e&&Xt&&(Xt.data.push(e),e._ctx=Xt),Xt},suppressOverwrites:function(e){return _w=e}}};ai("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return Cy[n]=xn[n]});ki.add(jr.updateRoot);ef=Cy.to({},{duration:0});var rG=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},iG=function(e,t){var r=e._targets,i,s,a;for(i in t)for(s=r.length;s--;)a=e._ptLookup[s][i],a&&(a=a.d)&&(a._pt&&(a=rG(a,i)),a&&a.modifier&&a.modifier(t[i],e,r[s],i))},qb=function(e,t){return{name:e,rawVars:1,init:function(i,s,a){a._onInit=function(u){var c,h;if(Qn(s)&&(c={},ai(s,function(p){return c[p]=1}),s=c),t){c={};for(h in s)c[h]=t(s[h]);s=c}iG(u,s)}}}},fi=Cy.registerPlugin({name:"attr",init:function(e,t,r,i,s){var a,u,c;this.tween=r;for(a in t)c=e.getAttribute(a)||"",u=this.add(e,"setAttribute",(c||0)+"",t[a],i,s,0,0,a),u.op=a,u.b=c,this._props.push(a)},render:function(e,t){for(var r=t._pt;r;)pr?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},qb("roundProps",bT),qb("modifiers"),qb("snap",PL))||Cy;xn.version=jr.version=fi.version="3.12.7";bL=1;Aw()&&xf();bt.Power0;bt.Power1;bt.Power2;bt.Power3;bt.Power4;bt.Linear;bt.Quad;bt.Cubic;bt.Quart;bt.Quint;bt.Strong;bt.Elastic;bt.Back;bt.SteppedEase;bt.Bounce;bt.Sine;bt.Expo;bt.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var lk,Xa,cf,Nw,Tu,uk,Mw,sG=function(){return typeof window<"u"},ua={},hu=180/Math.PI,ff=Math.PI/180,Fc=Math.atan2,ck=1e8,Dw=/([A-Z])/g,oG=/(left|right|width|margin|padding|x)/i,aG=/[\s,\(]\S/,oo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ET=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},lG=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},uG=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},cG=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},n2=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},r2=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},fG=function(e,t,r){return e.style[t]=r},hG=function(e,t,r){return e.style.setProperty(t,r)},dG=function(e,t,r){return e._gsap[t]=r},pG=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},mG=function(e,t,r,i,s){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(s,a)},gG=function(e,t,r,i,s){var a=e._gsap;a[t]=r,a.renderTransform(s,a)},sn="transform",ui=sn+"Origin",yG=function n(e,t){var r=this,i=this.target,s=i.style,a=i._gsap;if(e in ua&&s){if(this.tfm=this.tfm||{},e!=="transform")e=oo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(u){return r.tfm[u]=Ko(i,u)}):this.tfm[e]=a.x?a[e]:Ko(i,e),e===ui&&(this.tfm.zOrigin=a.zOrigin);else return oo.transform.split(",").forEach(function(u){return n.call(r,u,t)});if(this.props.indexOf(sn)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(ui,t,"")),e=sn}(s||t)&&this.props.push(e,t,s[e])},i2=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},vG=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(Dw,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)i[a]=this.tfm[a];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=Mw(),(!s||!s.isStart)&&!r[sn]&&(i2(r),i.zOrigin&&r[ui]&&(r[ui]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},s2=function(e,t){var r={target:e,props:[],revert:vG,save:yG};return e._gsap||fi.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return r.save(i)}),r},o2,wT=function(e,t){var r=Xa.createElementNS?Xa.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Xa.createElement(e);return r&&r.style?r:Xa.createElement(e)},mo=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(Dw,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,If(t)||t,1)||""},fk="O,Moz,ms,Ms,Webkit".split(","),If=function(e,t,r){var i=t||Tu,s=i.style,a=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(fk[a]+e in s););return a<0?null:(a===3?"ms":a>=0?fk[a]:"")+e},ST=function(){sG()&&window.document&&(lk=window,Xa=lk.document,cf=Xa.documentElement,Tu=wT("div")||{style:{}},wT("div"),sn=If(sn),ui=sn+"Origin",Tu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",o2=!!If("perspective"),Mw=fi.core.reverting,Nw=1)},hk=function(e){var t=e.ownerSVGElement,r=wT("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),cf.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),cf.removeChild(r),s},dk=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},a2=function(e){var t,r;try{t=e.getBBox()}catch{t=hk(e),r=1}return t&&(t.width||t.height)||r||(t=hk(e)),t&&!t.width&&!t.x&&!t.y?{x:+dk(e,["x","cx","x1"])||0,y:+dk(e,["y","cy","y1"])||0,width:0,height:0}:t},l2=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&a2(e))},qu=function(e,t){if(t){var r=e.style,i;t in ua&&t!==ui&&(t=sn),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(Dw,"-$1").toLowerCase())):r.removeAttribute(t)}},Ja=function(e,t,r,i,s,a){var u=new li(e._pt,t,r,0,1,a?r2:n2);return e._pt=u,u.b=i,u.e=s,e._props.push(r),u},pk={deg:1,rad:1,turn:1},_G={grid:1,flex:1},El=function n(e,t,r,i){var s=parseFloat(r)||0,a=(r+"").trim().substr((s+"").length)||"px",u=Tu.style,c=oG.test(t),h=e.tagName.toLowerCase()==="svg",p=(h?"client":"offset")+(c?"Width":"Height"),m=100,v=i==="px",_=i==="%",A,T,w,O;if(i===a||!s||pk[i]||pk[a])return s;if(a!=="px"&&!v&&(s=n(e,t,r,"px")),O=e.getCTM&&l2(e),(_||a==="%")&&(ua[t]||~t.indexOf("adius")))return A=O?e.getBBox()[c?"width":"height"]:e[p],bn(_?s/A*m:s/100*A);if(u[c?"width":"height"]=m+(v?a:i),T=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,O&&(T=(e.ownerSVGElement||{}).parentNode),(!T||T===Xa||!T.appendChild)&&(T=Xa.body),w=T._gsap,w&&_&&w.width&&c&&w.time===ki.time&&!w.uncache)return bn(s/w.width*m);if(_&&(t==="height"||t==="width")){var M=e.style[t];e.style[t]=m+i,A=e[p],M?e.style[t]=M:qu(e,t)}else(_||a==="%")&&!_G[mo(T,"display")]&&(u.position=mo(e,"position")),T===e&&(u.position="static"),T.appendChild(Tu),A=Tu[p],T.removeChild(Tu),u.position="absolute";return c&&_&&(w=xu(T),w.time=ki.time,w.width=T[p]),bn(v?A*s/m:A&&s?m/A*s:0)},Ko=function(e,t,r,i){var s;return Nw||ST(),t in oo&&t!=="transform"&&(t=oo[t],~t.indexOf(",")&&(t=t.split(",")[0])),ua[t]&&t!=="transform"?(s=lp(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Iy(mo(e,ui))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=xy[t]&&xy[t](e,t,r)||mo(e,t)||wL(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?El(e,t,s,r)+r:s},bG=function(e,t,r,i){if(!r||r==="none"){var s=If(t,e,1),a=s&&mo(e,s,1);a&&a!==r?(t=s,r=a):t==="borderColor"&&(r=mo(e,"borderTopColor"))}var u=new li(this._pt,e.style,t,0,1,ZL),c=0,h=0,p,m,v,_,A,T,w,O,M,j,q,U;if(u.b=r,u.e=i,r+="",i+="",i==="auto"&&(T=e.style[t],e.style[t]=i,i=mo(e,t)||i,T?e.style[t]=T:qu(e,t)),p=[r,i],HL(p),r=p[0],i=p[1],v=r.match(Zc)||[],U=i.match(Zc)||[],U.length){for(;m=Zc.exec(i);)w=m[0],M=i.substring(c,m.index),A?A=(A+1)%5:(M.substr(-5)==="rgba("||M.substr(-5)==="hsla(")&&(A=1),w!==(T=v[h++]||"")&&(_=parseFloat(T)||0,q=T.substr((_+"").length),w.charAt(1)==="="&&(w=uf(_,w)+q),O=parseFloat(w),j=w.substr((O+"").length),c=Zc.lastIndex-j.length,j||(j=j||Li.units[t]||q,c===i.length&&(i+=j,u.e+=j)),q!==j&&(_=El(e,t,T,j)||0),u._pt={_next:u._pt,p:M||h===1?M:",",s:_,c:O-_,m:A&&A<4||t==="zIndex"?Math.round:0});u.c=c<i.length?i.substring(c,i.length):""}else u.r=t==="display"&&i==="none"?r2:n2;return vL.test(i)&&(u.e=0),this._pt=u,u},mk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},AG=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=mk[r]||r,t[1]=mk[i]||i,t.join(" ")},TG=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,a=r._gsap,u,c,h;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),h=s.length;--h>-1;)u=s[h],ua[u]&&(c=1,u=u==="transformOrigin"?ui:sn),qu(r,u);c&&(qu(r,sn),a&&(a.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",lp(r,1),a.uncache=1,i2(i)))}},xy={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var a=e._pt=new li(e._pt,t,r,0,0,TG);return a.u=i,a.pr=-10,a.tween=s,e._props.push(r),1}}},ap=[1,0,0,1,0,0],u2={},c2=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},gk=function(e){var t=mo(e,sn);return c2(t)?ap:t.substr(7).match(yL).map(bn)},Pw=function(e,t){var r=e._gsap||xu(e),i=e.style,s=gk(e),a,u,c,h;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?ap:s):(s===ap&&!e.offsetParent&&e!==cf&&!r.svg&&(c=i.display,i.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,u=e.nextElementSibling,cf.appendChild(e)),s=gk(e),c?i.display=c:qu(e,"display"),h&&(u?a.insertBefore(e,u):a?a.appendChild(e):cf.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},RT=function(e,t,r,i,s,a){var u=e._gsap,c=s||Pw(e,!0),h=u.xOrigin||0,p=u.yOrigin||0,m=u.xOffset||0,v=u.yOffset||0,_=c[0],A=c[1],T=c[2],w=c[3],O=c[4],M=c[5],j=t.split(" "),q=parseFloat(j[0])||0,U=parseFloat(j[1])||0,D,L,S,C;r?c!==ap&&(L=_*w-A*T)&&(S=q*(w/L)+U*(-T/L)+(T*M-w*O)/L,C=q*(-A/L)+U*(_/L)-(_*M-A*O)/L,q=S,U=C):(D=a2(e),q=D.x+(~j[0].indexOf("%")?q/100*D.width:q),U=D.y+(~(j[1]||j[0]).indexOf("%")?U/100*D.height:U)),i||i!==!1&&u.smooth?(O=q-h,M=U-p,u.xOffset=m+(O*_+M*T)-O,u.yOffset=v+(O*A+M*w)-M):u.xOffset=u.yOffset=0,u.xOrigin=q,u.yOrigin=U,u.smooth=!!i,u.origin=t,u.originIsAbsolute=!!r,e.style[ui]="0px 0px",a&&(Ja(a,u,"xOrigin",h,q),Ja(a,u,"yOrigin",p,U),Ja(a,u,"xOffset",m,u.xOffset),Ja(a,u,"yOffset",v,u.yOffset)),e.setAttribute("data-svg-origin",q+" "+U)},lp=function(e,t){var r=e._gsap||new WL(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,a="px",u="deg",c=getComputedStyle(e),h=mo(e,ui)||"0",p,m,v,_,A,T,w,O,M,j,q,U,D,L,S,C,B,P,N,k,J,F,$,G,Z,_e,H,ne,fe,ce,we,Re;return p=m=v=T=w=O=M=j=q=0,_=A=1,r.svg=!!(e.getCTM&&l2(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[sn]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[sn]!=="none"?c[sn]:"")),i.scale=i.rotate=i.translate="none"),L=Pw(e,r.svg),r.svg&&(r.uncache?(Z=e.getBBox(),h=r.xOrigin-Z.x+"px "+(r.yOrigin-Z.y)+"px",G=""):G=!t&&e.getAttribute("data-svg-origin"),RT(e,G||h,!!G||r.originIsAbsolute,r.smooth!==!1,L)),U=r.xOrigin||0,D=r.yOrigin||0,L!==ap&&(P=L[0],N=L[1],k=L[2],J=L[3],p=F=L[4],m=$=L[5],L.length===6?(_=Math.sqrt(P*P+N*N),A=Math.sqrt(J*J+k*k),T=P||N?Fc(N,P)*hu:0,M=k||J?Fc(k,J)*hu+T:0,M&&(A*=Math.abs(Math.cos(M*ff))),r.svg&&(p-=U-(U*P+D*k),m-=D-(U*N+D*J))):(Re=L[6],ce=L[7],H=L[8],ne=L[9],fe=L[10],we=L[11],p=L[12],m=L[13],v=L[14],S=Fc(Re,fe),w=S*hu,S&&(C=Math.cos(-S),B=Math.sin(-S),G=F*C+H*B,Z=$*C+ne*B,_e=Re*C+fe*B,H=F*-B+H*C,ne=$*-B+ne*C,fe=Re*-B+fe*C,we=ce*-B+we*C,F=G,$=Z,Re=_e),S=Fc(-k,fe),O=S*hu,S&&(C=Math.cos(-S),B=Math.sin(-S),G=P*C-H*B,Z=N*C-ne*B,_e=k*C-fe*B,we=J*B+we*C,P=G,N=Z,k=_e),S=Fc(N,P),T=S*hu,S&&(C=Math.cos(S),B=Math.sin(S),G=P*C+N*B,Z=F*C+$*B,N=N*C-P*B,$=$*C-F*B,P=G,F=Z),w&&Math.abs(w)+Math.abs(T)>359.9&&(w=T=0,O=180-O),_=bn(Math.sqrt(P*P+N*N+k*k)),A=bn(Math.sqrt($*$+Re*Re)),S=Fc(F,$),M=Math.abs(S)>2e-4?S*hu:0,q=we?1/(we<0?-we:we):0),r.svg&&(G=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!c2(mo(e,sn)),G&&e.setAttribute("transform",G))),Math.abs(M)>90&&Math.abs(M)<270&&(s?(_*=-1,M+=T<=0?180:-180,T+=T<=0?180:-180):(A*=-1,M+=M<=0?180:-180)),t=t||r.uncache,r.x=p-((r.xPercent=p&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+a,r.y=m-((r.yPercent=m&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+a,r.z=v+a,r.scaleX=bn(_),r.scaleY=bn(A),r.rotation=bn(T)+u,r.rotationX=bn(w)+u,r.rotationY=bn(O)+u,r.skewX=M+u,r.skewY=j+u,r.transformPerspective=q+a,(r.zOrigin=parseFloat(h.split(" ")[2])||!t&&r.zOrigin||0)&&(i[ui]=Iy(h)),r.xOffset=r.yOffset=0,r.force3D=Li.force3D,r.renderTransform=r.svg?wG:o2?f2:EG,r.uncache=0,r},Iy=function(e){return(e=e.split(" "))[0]+" "+e[1]},$b=function(e,t,r){var i=Rr(t);return bn(parseFloat(t)+parseFloat(El(e,"x",r+"px",i)))+i},EG=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,f2(e,t)},lu="0deg",Qh="0px",uu=") ",f2=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,a=r.x,u=r.y,c=r.z,h=r.rotation,p=r.rotationY,m=r.rotationX,v=r.skewX,_=r.skewY,A=r.scaleX,T=r.scaleY,w=r.transformPerspective,O=r.force3D,M=r.target,j=r.zOrigin,q="",U=O==="auto"&&e&&e!==1||O===!0;if(j&&(m!==lu||p!==lu)){var D=parseFloat(p)*ff,L=Math.sin(D),S=Math.cos(D),C;D=parseFloat(m)*ff,C=Math.cos(D),a=$b(M,a,L*C*-j),u=$b(M,u,-Math.sin(D)*-j),c=$b(M,c,S*C*-j+j)}w!==Qh&&(q+="perspective("+w+uu),(i||s)&&(q+="translate("+i+"%, "+s+"%) "),(U||a!==Qh||u!==Qh||c!==Qh)&&(q+=c!==Qh||U?"translate3d("+a+", "+u+", "+c+") ":"translate("+a+", "+u+uu),h!==lu&&(q+="rotate("+h+uu),p!==lu&&(q+="rotateY("+p+uu),m!==lu&&(q+="rotateX("+m+uu),(v!==lu||_!==lu)&&(q+="skew("+v+", "+_+uu),(A!==1||T!==1)&&(q+="scale("+A+", "+T+uu),M.style[sn]=q||"translate(0, 0)"},wG=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,a=r.x,u=r.y,c=r.rotation,h=r.skewX,p=r.skewY,m=r.scaleX,v=r.scaleY,_=r.target,A=r.xOrigin,T=r.yOrigin,w=r.xOffset,O=r.yOffset,M=r.forceCSS,j=parseFloat(a),q=parseFloat(u),U,D,L,S,C;c=parseFloat(c),h=parseFloat(h),p=parseFloat(p),p&&(p=parseFloat(p),h+=p,c+=p),c||h?(c*=ff,h*=ff,U=Math.cos(c)*m,D=Math.sin(c)*m,L=Math.sin(c-h)*-v,S=Math.cos(c-h)*v,h&&(p*=ff,C=Math.tan(h-p),C=Math.sqrt(1+C*C),L*=C,S*=C,p&&(C=Math.tan(p),C=Math.sqrt(1+C*C),U*=C,D*=C)),U=bn(U),D=bn(D),L=bn(L),S=bn(S)):(U=m,S=v,D=L=0),(j&&!~(a+"").indexOf("px")||q&&!~(u+"").indexOf("px"))&&(j=El(_,"x",a,"px"),q=El(_,"y",u,"px")),(A||T||w||O)&&(j=bn(j+A-(A*U+T*L)+w),q=bn(q+T-(A*D+T*S)+O)),(i||s)&&(C=_.getBBox(),j=bn(j+i/100*C.width),q=bn(q+s/100*C.height)),C="matrix("+U+","+D+","+L+","+S+","+j+","+q+")",_.setAttribute("transform",C),M&&(_.style[sn]=C)},SG=function(e,t,r,i,s){var a=360,u=Qn(s),c=parseFloat(s)*(u&&~s.indexOf("rad")?hu:1),h=c-i,p=i+h+"deg",m,v;return u&&(m=s.split("_")[1],m==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-360)),m==="cw"&&h<0?h=(h+a*ck)%a-~~(h/a)*a:m==="ccw"&&h>0&&(h=(h-a*ck)%a-~~(h/a)*a)),e._pt=v=new li(e._pt,t,r,i,h,lG),v.e=p,v.u="deg",e._props.push(r),v},yk=function(e,t){for(var r in t)e[r]=t[r];return e},RG=function(e,t,r){var i=yk({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=r.style,u,c,h,p,m,v,_,A;i.svg?(h=r.getAttribute("transform"),r.setAttribute("transform",""),a[sn]=t,u=lp(r,1),qu(r,sn),r.setAttribute("transform",h)):(h=getComputedStyle(r)[sn],a[sn]=t,u=lp(r,1),a[sn]=h);for(c in ua)h=i[c],p=u[c],h!==p&&s.indexOf(c)<0&&(_=Rr(h),A=Rr(p),m=_!==A?El(r,c,h,A):parseFloat(h),v=parseFloat(p),e._pt=new li(e._pt,u,c,m,v-m,ET),e._pt.u=A||0,e._props.push(c));yk(u,i)};ai("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",a=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(u){return e<2?n+u:"border"+u+n});xy[e>1?"border"+n:n]=function(u,c,h,p,m){var v,_;if(arguments.length<4)return v=a.map(function(A){return Ko(u,A,h)}),_=v.join(" "),_.split(v[0]).length===5?v[0]:_;v=(p+"").split(" "),_={},a.forEach(function(A,T){return _[A]=v[T]=v[T]||v[(T-1)/2|0]}),u.init(c,_,m)}});var h2={name:"css",register:ST,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var a=this._props,u=e.style,c=r.vars.startAt,h,p,m,v,_,A,T,w,O,M,j,q,U,D,L,S;Nw||ST(),this.styles=this.styles||s2(e),S=this.styles.props,this.tween=r;for(T in t)if(T!=="autoRound"&&(p=t[T],!(xi[T]&&KL(T,t,r,i,e,s)))){if(_=typeof p,A=xy[T],_==="function"&&(p=p.call(r,i,e,s),_=typeof p),_==="string"&&~p.indexOf("random(")&&(p=ip(p)),A)A(this,e,T,p,r)&&(L=1);else if(T.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(T)+"").trim(),p+="",ll.lastIndex=0,ll.test(h)||(w=Rr(h),O=Rr(p)),O?w!==O&&(h=El(e,T,h,O)+O):w&&(p+=w),this.add(u,"setProperty",h,p,i,s,0,0,T),a.push(T),S.push(T,0,u[T]);else if(_!=="undefined"){if(c&&T in c?(h=typeof c[T]=="function"?c[T].call(r,i,e,s):c[T],Qn(h)&&~h.indexOf("random(")&&(h=ip(h)),Rr(h+"")||h==="auto"||(h+=Li.units[T]||Rr(Ko(e,T))||""),(h+"").charAt(1)==="="&&(h=Ko(e,T))):h=Ko(e,T),v=parseFloat(h),M=_==="string"&&p.charAt(1)==="="&&p.substr(0,2),M&&(p=p.substr(2)),m=parseFloat(p),T in oo&&(T==="autoAlpha"&&(v===1&&Ko(e,"visibility")==="hidden"&&m&&(v=0),S.push("visibility",0,u.visibility),Ja(this,u,"visibility",v?"inherit":"hidden",m?"inherit":"hidden",!m)),T!=="scale"&&T!=="transform"&&(T=oo[T],~T.indexOf(",")&&(T=T.split(",")[0]))),j=T in ua,j){if(this.styles.save(T),q||(U=e._gsap,U.renderTransform&&!t.parseTransform||lp(e,t.parseTransform),D=t.smoothOrigin!==!1&&U.smooth,q=this._pt=new li(this._pt,u,sn,0,1,U.renderTransform,U,0,-1),q.dep=1),T==="scale")this._pt=new li(this._pt,U,"scaleY",U.scaleY,(M?uf(U.scaleY,M+m):m)-U.scaleY||0,ET),this._pt.u=0,a.push("scaleY",T),T+="X";else if(T==="transformOrigin"){S.push(ui,0,u[ui]),p=AG(p),U.svg?RT(e,p,0,D,0,this):(O=parseFloat(p.split(" ")[2])||0,O!==U.zOrigin&&Ja(this,U,"zOrigin",U.zOrigin,O),Ja(this,u,T,Iy(h),Iy(p)));continue}else if(T==="svgOrigin"){RT(e,p,1,D,0,this);continue}else if(T in u2){SG(this,U,T,v,M?uf(v,M+p):p);continue}else if(T==="smoothOrigin"){Ja(this,U,"smooth",U.smooth,p);continue}else if(T==="force3D"){U[T]=p;continue}else if(T==="transform"){RG(this,p,e);continue}}else T in u||(T=If(T)||T);if(j||(m||m===0)&&(v||v===0)&&!aG.test(p)&&T in u)w=(h+"").substr((v+"").length),m||(m=0),O=Rr(p)||(T in Li.units?Li.units[T]:w),w!==O&&(v=El(e,T,h,O)),this._pt=new li(this._pt,j?U:u,T,v,(M?uf(v,M+m):m)-v,!j&&(O==="px"||T==="zIndex")&&t.autoRound!==!1?cG:ET),this._pt.u=O||0,w!==O&&O!=="%"&&(this._pt.b=h,this._pt.r=uG);else if(T in u)bG.call(this,e,T,h,M?M+p:p);else if(T in e)this.add(e,T,h||e[T],M?M+p:p,i,s);else if(T!=="parseTransform"){Ew(T,p);continue}j||(T in u?S.push(T,0,u[T]):typeof e[T]=="function"?S.push(T,2,e[T]()):S.push(T,1,h||e[T])),a.push(T)}}L&&e2(this)},render:function(e,t){if(t.tween._time||!Mw())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Ko,aliases:oo,getSetter:function(e,t,r){var i=oo[t];return i&&i.indexOf(",")<0&&(t=i),t in ua&&t!==ui&&(e._gsap.x||Ko(e,"x"))?r&&uk===r?t==="scale"?pG:dG:(uk=r||{})&&(t==="scale"?mG:gG):e.style&&!bw(e.style[t])?fG:~t.indexOf("-")?hG:kw(e,t)},core:{_removeProperty:qu,_getMatrix:Pw}};fi.utils.checkPrefix=If;fi.core.getStyleSaver=s2;(function(n,e,t,r){var i=ai(n+","+e+","+t,function(s){ua[s]=1});ai(e,function(s){Li.units[s]="deg",u2[s]=1}),oo[i[13]]=n+","+e,ai(r,function(s){var a=s.split(":");oo[a[1]]=i[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ai("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Li.units[n]="px"});fi.registerPlugin(h2);var Fg=fi.registerPlugin(h2)||fi;Fg.core.Tween;function CG(){const[n,e]=W.useState(null),[t,r]=W.useState(window.innerWidth),[i,s]=W.useState(null),[a,u]=W.useState(null),c=Ms(),[h,p]=W.useState(""),[m,v]=W.useState([]),[_,A]=W.useState([]),T=W.useRef(null),[w,O]=W.useState(null),M=[{linkName:"Home",link:"/"},{linkName:"About",link:"/about"},{linkName:"Blogs",link:"/blogs"},{linkName:"Contact",link:"#footer"}],j=W.useCallback(S=>{e(S)},[]),q=W.useCallback(()=>{e(null)},[]);W.useEffect(()=>{const S=()=>r(window.innerWidth);return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),W.useEffect(()=>{(async()=>{try{const B=(await Hv(xp(ps,"blogs"))).docs.map(P=>({id:P.id,...P.data()}));v(B)}catch(C){console.error("Error fetching blogs:",C)}})()},[]),W.useEffect(()=>{function S(C){T.current&&!T.current.contains(C.target)&&(A([]),O(null))}return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const U=()=>{const S=h.trim().toLowerCase();if(!S){console.log("nothing"),A([]);return}const C=S[0],B=new Set;m.forEach(N=>{Array.isArray(N.categories)&&N.categories.forEach(k=>{k.toLowerCase().includes(S)&&B.add(k.toLowerCase())})});const P=m.filter(N=>{var $,G;const k=(($=N.title)==null?void 0:$.toLowerCase())||"",J=((G=N.subtitle)==null?void 0:G.toLowerCase())||"",F=Array.isArray(N.categories)?N.categories.map(Z=>Z.toLowerCase()):[];return k.includes(S)||J.includes(S)||k[0]===C||F.some(Z=>Z.includes(S))||F.some(Z=>B.has(Z))});A(P),O(!0)};W.useEffect(()=>{n!==null&&Fg.from(".active",{scaleX:0,transformOrigin:"50% 50%",ease:"power4.out",duration:.8})},[n]);function D(){i?i&&(u(!1),Fg.to(".navbar-phone-dropdown-container",{x:"-100%",duration:1.2,ease:"power4.in",onComplete:()=>{s(!1)}})):(s(!0),u(!0))}function L(S){i?S==="#footer"?(D(),setTimeout(()=>{Zd(S)},1300)):(c(S),D()):S==="#footer"?Zd(S):c(S)}return W.useEffect(()=>{i?(Fg.from(".navbar-phone-dropdown-container",{transform:"translateX(-100%)",duration:1.2,ease:"power3.inOut"}),document.body.classList.add("no-scroll")):document.body.classList.remove("no-scroll")},[i]),console.log(_.length),console.log(w),R.jsx("nav",{id:"nav",className:"nav-main-container charcoal-bg",children:t<=700?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"logo-ham-container",children:[R.jsx("div",{className:"logo",children:R.jsx("img",{src:Ty,onClick:()=>{c("/"),e(0)}})}),R.jsx("div",{className:"nav-hamburger-container ",onClick:()=>D(),children:R.jsx(mH,{isOpened:a})})]}),R.jsxs("div",{className:"quick-search-container",children:[R.jsx("input",{type:"text",className:"playfair-font",placeholder:"Quick Search...",value:h,onChange:S=>{p(S.target.value),O(!1)}}),R.jsx("button",{onClick:()=>{U()},className:"arrow-button green-bg",style:{zIndex:"1"},children:R.jsx("img",{src:ek})}),R.jsxs("div",{ref:T,className:"search-results-container silver-bg",children:[_.map(S=>{var C;return R.jsxs("div",{className:"search-result",style:{padding:"20px"},onClick:()=>{c(`/singleBlog/${S.id}`),p(""),A([])},children:[R.jsx("img",{style:{width:"250px",height:"120px",marginBottom:"10px",objectFit:"cover"},src:S.imgUrl,alt:S.title}),R.jsxs("div",{className:"display-column",style:{textAlign:"left"},children:[R.jsxs("h3",{className:"outfit-font",style:{marginBottom:"5px"},children:[S.title," ",S.part&&`Part ${S.part}`]}),R.jsxs("p",{className:"outfit-font",children:[R.jsx("span",{className:"d-silver-text",style:{textDecoration:"underline"},children:"Catgories:"})," "]}),R.jsx("p",{style:{textAlign:"center",marginTop:"5px"},children:(C=S.categories)==null?void 0:C.join(", ")})]})]},S.id)}),w&&_.length===0&&R.jsxs("p",{className:"outfit-font",style:{padding:"20px",textAlign:"center"},children:['No results found for "',h,'"']})]})]}),i&&R.jsx("div",{className:"navbar-phone-dropdown-container dark-silver-bg",children:R.jsx("div",{className:"dropdown-links-container",children:M.map((S,C)=>R.jsx("div",{children:R.jsxs("h3",{className:"outfit-font dropdown-link-name ",onClick:()=>{j(C),L(S.link)},children:[S.linkName,n===C&&R.jsx("div",{className:"active"})]})},S.linkName))})})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"quick-search-container",children:[R.jsx("input",{type:"text",className:"playfair-font",placeholder:"Quick Search...",value:h,onChange:S=>{p(S.target.value),O(!1)}}),R.jsx("button",{onClick:()=>{console.log("Search button clicked!"),U()},className:"arrow-button green-bg",style:{zIndex:"9"},children:R.jsx("img",{src:ek})}),R.jsxs("div",{ref:T,className:"search-results-container silver-bg",children:[_.map(S=>{var C;return R.jsxs("div",{className:"search-result",style:{padding:"20px"},onClick:()=>{c(`/singleBlog/${S.id}`),p(""),A([])},children:[R.jsx("img",{style:{width:"250px",height:"120px",marginBottom:"10px",objectFit:"cover"},src:S.imgUrl,alt:S.title}),R.jsxs("div",{className:"display-column",style:{textAlign:"left"},children:[R.jsxs("h3",{className:"outfit-font",style:{marginBottom:"5px"},children:[S.title," ",S.part&&`Part ${S.part}`]}),R.jsxs("p",{className:"outfit-font",children:[R.jsx("span",{className:"d-silver-text",style:{textDecoration:"underline"},children:"Catgories:"})," "]}),R.jsx("p",{style:{textAlign:"center",marginTop:"5px"},children:(C=S.categories)==null?void 0:C.join(", ")})]})]},S.id)}),w&&_.length===0&&R.jsxs("p",{className:"outfit-font",style:{padding:"20px",textAlign:"center"},children:['No results found for "',h,'"']})]})]}),R.jsxs("div",{className:"logo-links",children:[R.jsx("img",{src:Ty,onClick:()=>{c("/"),e(0)}}),R.jsx("div",{className:"links",children:M.map((S,C)=>R.jsxs("div",{onMouseEnter:()=>j(C),onMouseLeave:q,onClick:()=>L(S.link),className:"link-container",children:[R.jsx("h1",{className:"outfit-font",children:S.linkName}),n===C&&R.jsx("div",{className:"active"})]},S.linkName))})]}),R.jsxs("div",{className:"socials ",children:[R.jsx("img",{src:uT}),R.jsx("img",{src:cT}),R.jsx("img",{src:fT})]})]})})}const vk="/assets/import-CjaYub2X.png",xG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHvUExURf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGbS3AIAAACkdFJOUwABAgMEBQcICQoLDQ4PExQXGRocHR8gISIjJScoKSssLS4vMDIzNDU2Nzo7PT4/QUJDREVGR0hJSktMTU5PUVRVW11fYWJkZWZnaGxxc3Z3eXp7fX6BhYeIiYqOj5CTlZaam52foKSlpqeoq6yusLKztLa4ur6/wMHCxMXHyMrLzM3Oz9DS1NXX2dvc3t/g4+Tm6Ort7u/w8fLz9PX4+fr7/P3+smXS9wAAAAlwSFlzAAAPrwAAD68B1qQibQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGHaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49J++7vycgaWQ9J1c1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCc/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyI+PHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj48cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0idXVpZDpmYWY1YmRkNS1iYTNkLTExZGEtYWQzMS1kMzNkNzUxODJmMWIiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj48dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPjwvcmRmOkRlc2NyaXB0aW9uPjwvcmRmOlJERj48L3g6eG1wbWV0YT4NCjw/eHBhY2tldCBlbmQ9J3cnPz4slJgLAAAJtElEQVR4Xu3d+7cVZQHH4UHULpbSxUyzzBQts+gGpWmmlqVWVohpJd66qSiammZ4K01NyDTRvIQU/aEtLuI5L+ecvffMe515nh/fmT2zXJ/vWgdwsek6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoDEbLr1m2207n3jxxSd23rbtmks3hNcZsXUbr3/8wP+WOfD49RvXhfcxSltuf2l5/He8dPuW8F5GZ9NjYfelHtsU3s+onPdgmDz04HnhZxiNM3eEuVey48zwc4zDVfvC1ivbd1X4SUbg+O1h6NVtPz78NK07+aGw8loeOjn8PG07a3fYeG27zwqfQMsueiMsPMsbF4XPoF2XzPnLv6X2XRI+hVb16W8B49GvvwWMRd/+FjAO/ftbwBgM6W8B7RvW3wJaN7S/BbRteH8LaFmM/hbQrjj9LaBVsfpbQJvi9beAFsXsbwHtidvfAloTu78FtCV+fwtoSYr+FtCONP0toBWp+ltAG9L1t4AWpOxvAfVL298Cape6vwXULX1/C6hZjv4WUK88/S2gVrn6W0Cd8vW3gBrl7G8B9cnb3wJqk7u/BdQlf38LqEmJ/hZQjzL9LaAWpfpbQB3K9beAGpTsbwHlle1vAaWV7m8BZZXvbwEl1dDfAsqpo78FlFJLfwsoo57+FlBCTf0tIL+6+ltAbrX1t4C86utvATnV2N8C8qmzvwXkUmt/C8ij3v4WkEPN/S0gvbr7W0Bqtfe3gLTq728BKbXQ3wLSaaO/BaTSSn8LSKOd/haQQkv9LSC+tvpbQGyt9beAuNrrbwExtdjfAuJps78FxNJqfwuIo93+FhBDy/0tYLi2+1vAUK33t4Bh2u9vAUOMob8F9DeO/hbQV5b+e/eGJwlYQB95+p97rgXUKVP/rrOAKmXrbwFVytjfAiqUtb8FVCdzfwuoTPb+FlCVAv0toCJF+ltANQr1t4BKFOtvAVUo2N8CKlC0vwUUV7i/BRRWvL8FFFVBfwsoqIr+FlBMJf0toJBq+ltAERX1t4ACqupvAdlV1t8CMquuvwVkVWF/C8ioyv4WkE2l/S0gk2r7W0AWFfe3gAyq7m8ByVXe3wISq76/BSTVQH8LSKiJ/haQTCP9LSCRZvpbQBIN9beABJrqbwHRNdbfAiJrrr8FRJWn/8bwtcNYQDRN9reAaBrtbwGRNNvfAqJouL8FRNB0fwsYrPH+FjBQ8/0tYJAR9LeAAUbR3wJ6G0l/C+hpNP0toJcR9beAHkbV3wIWNrL+FrCg0fW3gIWMsL8FLGCU/S1gbiPtbwFzGm1/C5jLiPtbwBxG3d8CZhp5fwuYYfT9LWBNE+hvAWuYRH8LWFWW/q8W728Bq5hMfwtY0YT6W8AKJtXfAo4xsf4WEJhcfwtYZoL9LWCJSfa3gKMm2t8Cjphsfws4ZML9LWDq/S0gU//zwtfWY+ILmHz/iS9A/2kvQP9DJrsA/Y+Y6AL0P2qSC9B/iQkuQP9lJrcA/QMTW4D+x5jUAvRfwYQWoP+KJrMA/VcxkQXov6pJLED/NUxgAfqvafQL0H+GkS9A/5lGvQD95zDiBeg/l9EuQP85jXQB+s9tlAvQfwEjXID+CxndAvRf0MgWoP/CRrUA/XsY0QL072U0C9C/p5EsQP/eRrEA/QcYwQL0H6T5Beg/UOML0H+wphegfwQNL0D/KJpdgP6RNLoA/aNpcgF5+p8fvnacGlyA/lE1twD9I2tsAfpH19QC9E+goQXon0QzC9A/kUYWoH8yTSxA/4QaWID+SVW/AP0Tq3wB+idX9QL0z6DiBeifRbUL0D+TShegfzZVLkD/jCpcgP5ZVbeALP1f0/+oyhagf3ZVLUD/AipagP5FVLMA/QupZAH6F1PFAvQvqIIF6F9U8QXoX1jhBehfXNEFXKx/eXkWcHH42oPOfjO8LwH9Z8mygDfPDl/bdafsCe9KQP/Zsixgzynha094OLwnAf3nkWUBD58QvPXW8I4E9J9PlgXcuvydV4fXE9B/XlkWcPXSN579dng5Pv3nl2MBby/9heB94dX49F9EjgXc/+7rLgivxaf/YnIs4PNH35b+dwD6LyrDAv74zru+Fl6J7rXPLv+vY7YMC/j6kVc9GV6ITf8+0i/gz+sOveiS8Dw2/ftJv4BvHXrPb8LjyPTvK/kCfnfwLetfCY/j0r+/1AvYu77rugvD07j0HyL1Ar7Qdd1N4WFU+g+TeAE/77ru2fAwJv2HSruAZ7vutPAsJv2HS7uA07orwqOI9I8h6QKu6K4Lj+LRP46UC7iuuzk8ikb/WBIu4OburvAoFv3jSbeAu7pHwqNI9I8p2QIe6Z4Pj+LQP65UC3i+ez08ikL/2BIt4PXurfAoBv3jS7OAt7oXwqMI9E8hyQJe6B4Nj4bTP40UC3i02xEeDaZ/KgkWcHe3PTwaSv904i9ge/fT8Ggg/VOKvoCfdN8Nj4bRP63YC/hO9+nwaBD9U4u8gE913d/DswH0Ty/qAvZ0XXdLeNif/jnEXMD2ruu2hIe96Z9HxAVs7rruPbG+G0j/XKIt4M0TDz7u3vC4H/3zibWAew897crwuBf9c4q0gCsPPeyEGP8/SP+8oizghSPfFHV5eGFx+ucWYwGXH3nWcc+EVxalf37DF/DMce88a+hfENe/hMELWPKVwbvCawvRv4yBC9i15FGbwouL0L+UYQvYtPRRN4ZX56d/OUMW8LNlTzru/vD6vF773LIHkVX/Bdx39FeAh33gufCO+ehfVt8FPHtS+KQzXg3vmYf+pfVbwCunh8/pus3/Ce+aTf/y+ixg/5fCpxz0/YUX8LLv/6zAOf8Iu8zy9uH/B3CMryy4pac+Gj6BEj604B/j/PPgV0Ot6PSFvi/ozveGn6eME38dtlnL06eGn3/XSTvDu1f13x+HH6acH8z/4/vu94UfXmrdDeH9q/jXiv/yGKV8dc4f3we2Hv5+4NVdMM93x++//SPh5yhrw/Z5/tnHBzaGn1vB5lnfHn7gzjPCz1Deqb+a9XPgT18MP7OydZet+ceC938m/AB1+OSaf9P36YvC+1e3/tu/XeUrpP/2S3/2U7FzbvxrWOywl+/45qwf/oH1F94U/qZw/0M//ER4G7X52LUP/DsI99S28xesf8THL7v2hjt+/5eX9uy659at3/vGB8Pr1On9X77iR7+48w/P7d51zy1br7r4w+F1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGIf/AziVKmKNHw2DAAAAAElFTkSuQmCC";function _k(){return R.jsx("button",{className:"to-top-button green-bg",children:R.jsx("img",{src:xG})})}function Nu({text:n,fontSize:e,margin:t,onClick:r}){return R.jsx("button",{className:"word-button green-bg outfit-font",style:{fontSize:e||"clamp(1.8rem, 1.9vw, 2rem)",margin:t},onClick:r,children:n})}function IG(){const[n,e]=W.useState(window.innerWidth),[t,r]=W.useState(""),i=Ms(),s=DD(Qv);W.useEffect(()=>{const c=()=>e(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const a=async()=>{if(!t||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){alert("Please enter a valid email address.");return}try{const h=xp(s,"newsletter"),p=FD(h,aH("email","==",t.trim()));if(!(await Hv(p)).empty){alert("You are already subscribed with this email.");return}await GD(h,{email:t.trim(),createdAt:new Date}),alert("Thank you for subscribing!"),r("")}catch(h){console.error("Error checking or adding email:",h),alert("Something went wrong. Please try again.")}},u=R.jsxs("div",{className:"footer-newsletter",children:[R.jsx("h3",{className:"playfair-font",children:"Sign up for Newsletter:"}),R.jsx("input",{className:"playfair-font",type:"email",placeholder:"Type your email...",value:t,onChange:c=>r(c.target.value)}),R.jsx(Nu,{text:"Submit",fontSize:"1.3rem",onClick:a,title:"Submit"})]});return R.jsx("section",{id:"footer",className:"footer-main-container",children:n<800?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"footer-logo-signup",children:R.jsx("img",{src:Ty})}),R.jsxs("div",{className:"footer-contact",children:[R.jsx("h1",{className:"outfit-font",children:"Contacts:"}),R.jsxs("div",{className:"footer-icons",children:[R.jsx("img",{src:fT}),R.jsx("img",{src:uT}),R.jsx("img",{src:cT})]})]}),R.jsx("div",{className:"footer-blerb",children:R.jsx("h3",{className:"outfit-font",children:"How has Mydailyreed connected to you? Leave a Comment, Get email updates. Follow on social."})}),u,R.jsx("div",{className:"to-top-button",onClick:()=>Zd("#nav"),children:R.jsx(_k,{})}),R.jsx("a",{href:"#nav",children:R.jsx("img",{src:vk,className:"login-button",onClick:()=>{i("/login")}})})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"footer-blerb",children:R.jsx("h3",{className:"outfit-font",children:"How has Mydailyreed connected to you? Leave a Comment, Get email updates. Follow on social."})}),R.jsxs("div",{className:"footer-logo-signup",children:[R.jsx("img",{src:Ty}),u]}),R.jsxs("div",{className:"footer-contact",children:[R.jsx("h1",{className:"outfit-font",children:"Contacts:"}),R.jsxs("div",{className:"footer-icons",children:[R.jsx("img",{src:fT}),R.jsx("img",{src:uT}),R.jsx("img",{src:cT})]})]}),R.jsx("div",{className:"to-top-button",onClick:()=>Zd("#nav"),children:R.jsx(_k,{})}),R.jsx("a",{href:"#nav",children:R.jsx("img",{src:vk,className:"login-button",onClick:()=>{i("/login")}})})]})})}const d2=W.createContext();function kG({children:n}){const[e,t]=W.useState(!1),r=()=>t(i=>!i);return R.jsx(d2.Provider,{value:{refresh:e,triggerRefresh:r},children:n})}const p2=()=>W.useContext(d2);function OG(){const[n,e]=W.useState([]),{refresh:t}=p2(),r=Ms();W.useEffect(()=>{(async()=>{try{const a=oa(ps,"commonCat","YTLA8LnhCtzvU07csqsx"),u=await Fv(a);if(u.exists()){const c=u.data();e(c.categories||[])}else console.warn("No commonCat document found.")}catch(a){console.error("Error fetching categories:",a)}})()},[t]);const i=s=>s.length>10?"size-c":s.length>=6?"size-b":"size-a";return R.jsxs("section",{className:"common-cat-container green-bg",children:[R.jsx("h1",{className:"outfit-font",children:"Common Categories:"}),R.jsx("div",{className:"category-bento-container",children:n.map((s,a)=>R.jsx("h3",{className:`category silver-bg outfit-font ${i(s)}`,onClick:()=>{r(`/searchPage/${encodeURIComponent(s)}`),window.scrollTo({top:0})},children:s},a))})]})}function Pp(){return R.jsx("div",{className:"loader-container ",children:R.jsxs("div",{className:"typewriter",children:[R.jsx("div",{className:"slide",children:R.jsx("i",{})}),R.jsx("div",{className:"paper"}),R.jsx("div",{className:"keyboard"})]})})}function NG(){const{state:n}=VN();return R.jsxs("div",{className:"main-container",children:[R.jsx(CG,{}),n==="loading"?R.jsx(Pp,{}):R.jsx("div",{children:R.jsx(Lj,{})}),R.jsx(OG,{}),R.jsx(IG,{})]})}function MG(){const{state:n}=VN();return R.jsx("div",{className:"main-container",children:n==="loading"?"loading...":R.jsx("h1",{children:"Error"})})}const Lw=by(),DG=xp(ps,"blogs"),m2=async()=>(await Hv(DG)).docs.map(e=>({id:e.id,...e.data()})),Hg=async n=>{const e=oa(ps,"blogs",n),t=await Fv(e);if(!t.exists())throw new Error("Blog not found");return{id:t.id,...t.data()}},PG=async n=>{if(!Lw.currentUser)throw new Error("User not authenticated");return(await GD(xp(ps,"blogs"),{...n,likes:[],comments:[],datePosted:KD()})).id},LG=async n=>{const e=Lw.currentUser;if(!e)throw new Error("Not authenticated");const t=oa(ps,"blogs",n);return await kp(t,{likes:YD(e.uid)}),{success:!0}},VG=async n=>{const e=Lw.currentUser;if(!e)throw new Error("Not authenticated");const t=oa(ps,"blogs",n);return await kp(t,{likes:dH(e.uid)}),{success:!0}},UG=async(n,e,t)=>{const r=oa(ps,"blogs",n),i={name:t,comment:e,date:Mn.now()};return await kp(r,{comments:YD(i)}),{success:!0}};function Lp(){return R.jsxs("div",{className:"loader",children:[R.jsx("div",{className:"bar1"}),R.jsx("div",{className:"bar2"}),R.jsx("div",{className:"bar3"}),R.jsx("div",{className:"bar4"}),R.jsx("div",{className:"bar5"}),R.jsx("div",{className:"bar6"}),R.jsx("div",{className:"bar7"}),R.jsx("div",{className:"bar8"}),R.jsx("div",{className:"bar9"}),R.jsx("div",{className:"bar10"}),R.jsx("div",{className:"bar11"}),R.jsx("div",{className:"bar12"})]})}const g2="/assets/Artc1-CST6bCyG.png";function wl({isVertical:n=!1,title:e,subTitle:t,height:r,marginBottom:i,trending:s=!1,maxCount:a,nav:u,blogArray:c}){const[h,p]=W.useState([]),[m,v]=W.useState(!0),_=W.useRef(null),A=Ms(),T=a??4;return W.useEffect(()=>{const w=async()=>{try{v(!0);const O=await m2();let M;s?M=[...O].sort((j,q)=>{const U=Array.isArray(j.likes)?j.likes.length:0;return(Array.isArray(q.likes)?q.likes.length:0)-U}):M=[...O].sort((j,q)=>{var L,S,C,B;const U=((S=(L=j.datePosted)==null?void 0:L.toDate)==null?void 0:S.call(L))||new Date(0);return(((B=(C=q.datePosted)==null?void 0:C.toDate)==null?void 0:B.call(C))||new Date(0))-U}),p(M)}catch(O){console.error("Failed to fetch blogs:",O)}finally{v(!1)}};c&&c.length>0?(p(c),v(!1)):w()},[s,c]),R.jsxs("section",{className:"display-column",children:[R.jsxs("div",{className:"title-container",children:[R.jsxs("div",{className:"info-container",children:[R.jsx("h1",{className:"outfit-font",children:e}),R.jsx("h1",{className:"outfit-font",children:t})]}),R.jsx("div",{className:"line-blog"})]}),R.jsx("div",{ref:_,className:`blog-column-container ${n?"vertical":"horizontal"}`,children:m?R.jsx(Lp,{}):h.slice(0,T).map((w,O)=>R.jsxs("div",{className:"blog-info-container",style:{marginBottom:i},onClick:()=>{A(`/${u}/${w.id}`),window.scrollTo({top:0})},children:[R.jsx("img",{src:w.imgUrl||g2,alt:w.title||"Blog image",style:{height:r}}),R.jsx("p",{className:"playfair-thin-font",children:w.subTitle}),R.jsxs("h3",{children:[w.title||"Untitled"," ",w.part?`Part ${w.part}`:""]}),R.jsx("p",{className:"playfair-thin-font silver-text",children:w.author||"Unknown Author"})]},w.id||O))})]})}const zG="/assets/MDRLogoCup-BgPHFgxi.png",BG="/assets/MDRHeroBgPhone-CqPQrG5g.png";function jG(){const[n,e]=W.useState(window.innerWidth),t=Ms();return W.useEffect(()=>{const r=()=>e(window.innerWidth);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),R.jsx("section",{className:"hero-main-container",children:n<=600?R.jsxs(R.Fragment,{children:[R.jsx("img",{src:BG}),R.jsx("h1",{className:"playfair-font green-text",children:"My"}),R.jsx("h1",{className:"playfair-font green-text",children:"Daily"}),R.jsx("h1",{className:"playfair-font green-text",children:"Reed"}),R.jsx(Nu,{text:"See Blogs",onClick:()=>{t("/blogs"),window.scrollTo(0,0)}})]}):R.jsxs(R.Fragment,{children:[R.jsx("img",{src:zG})," ",R.jsx("h1",{className:"playfair-font green-text",children:"My"}),R.jsx("h1",{className:"playfair-font green-text",children:"Daily"}),R.jsx("h1",{style:{marginBottom:"10px"},className:"playfair-font green-text",children:"Reed"}),R.jsx(Nu,{text:"See Blogs",onClick:()=>{t("/blogs"),window.scrollTo(0,0)}})]})})}function FG(){return R.jsxs("div",{className:"display-column",children:[R.jsx(jG,{}),R.jsxs("div",{style:{padding:"0px 20px"},className:"display-column ",children:[R.jsx(wl,{nav:"singleBlog",title:"Latest",isVertical:!1,marginBottom:"40px"}),R.jsx(wl,{nav:"singleBlog",title:"Trending",isVertical:!1,marginBottom:"40px",trending:!0})]})]})}const HG={element:FG()};function CT({author:n}){const e=W.useRef(null),[t,r]=W.useState(0),i=ca();return W.useEffect(()=>{const s=()=>{e.current&&r(e.current.offsetHeight)};return setTimeout(()=>{s()},[500]),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[i]),R.jsxs("div",{ref:e,className:"sidebar-main-container silver-bg",children:[R.jsx(wl,{nav:"singleBlog",title:"Latest",maxCount:3}),R.jsx(wl,{nav:"singleBlog",title:"Trending",maxCount:2})]})}function qG(){return R.jsxs("section",{className:"about-info-main-section",children:[R.jsxs("div",{className:"about-info",children:[R.jsx("h3",{className:"outfit-thin-font",children:"My Daily Reed. When you read and respond, in any way, it’s an inexplicable connection. PLEASE share your thoughts. The space between a writer and the reader is sacred. Because there are only so many heartbeats and pen strokes we can share in this life. What we share should be thought-provoking, meaningful, and dare I say. FUN!"}),R.jsxs("ul",{className:"playfair-font",children:[R.jsx("li",{children:"Monday-Devotion"}),R.jsx("li",{children:"Tuesday-Article"}),R.jsx("li",{children:"Wednesday-Inspiration/Insight"}),R.jsx("li",{children:"Thursday-Lessons from a Grocery Store"}),R.jsx("li",{children:"Friday-Your Turn"})]})]}),R.jsx(CT,{author:"My Daily Reed"})]})}const $G="/assets/MDRAboutTree-JE1PMwgt.png";function GG(){return R.jsxs("section",{className:"about-title-main-container charcoal-bg",children:[R.jsx("h1",{className:"playfair-font ",children:"My Daily Reed"}),R.jsx("img",{src:$G}),R.jsx("h1",{className:"playfair-font",children:"About"})]})}function WG(){return R.jsxs("div",{className:"display-column",children:[R.jsx(GG,{}),R.jsx(qG,{})]})}const KG={element:WG()};/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:y2,setPrototypeOf:bk,isFrozen:YG,getPrototypeOf:QG,getOwnPropertyDescriptor:XG}=Object;let{freeze:Fr,seal:ms,create:v2}=Object,{apply:xT,construct:IT}=typeof Reflect<"u"&&Reflect;Fr||(Fr=function(e){return e});ms||(ms=function(e){return e});xT||(xT=function(e,t,r){return e.apply(t,r)});IT||(IT=function(e,t){return new e(...t)});const hg=Hr(Array.prototype.forEach),JG=Hr(Array.prototype.lastIndexOf),Ak=Hr(Array.prototype.pop),Xh=Hr(Array.prototype.push),ZG=Hr(Array.prototype.splice),qg=Hr(String.prototype.toLowerCase),Gb=Hr(String.prototype.toString),Tk=Hr(String.prototype.match),Jh=Hr(String.prototype.replace),eW=Hr(String.prototype.indexOf),tW=Hr(String.prototype.trim),Ss=Hr(Object.prototype.hasOwnProperty),Br=Hr(RegExp.prototype.test),Zh=nW(TypeError);function Hr(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return xT(n,e,r)}}function nW(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return IT(n,t)}}function mt(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qg;bk&&bk(n,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=t(i);s!==i&&(YG(e)||(e[r]=s),i=s)}n[i]=!0}return n}function rW(n){for(let e=0;e<n.length;e++)Ss(n,e)||(n[e]=null);return n}function du(n){const e=v2(null);for(const[t,r]of y2(n))Ss(n,t)&&(Array.isArray(r)?e[t]=rW(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=du(r):e[t]=r);return e}function ed(n,e){for(;n!==null;){const r=XG(n,e);if(r){if(r.get)return Hr(r.get);if(typeof r.value=="function")return Hr(r.value)}n=QG(n)}function t(){return null}return t}const Ek=Fr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Wb=Fr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kb=Fr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),iW=Fr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Yb=Fr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),sW=Fr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wk=Fr(["#text"]),Sk=Fr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Qb=Fr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Rk=Fr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),dg=Fr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),oW=ms(/\{\{[\w\W]*|[\w\W]*\}\}/gm),aW=ms(/<%[\w\W]*|[\w\W]*%>/gm),lW=ms(/\$\{[\w\W]*/gm),uW=ms(/^data-[\-\w.\u00B7-\uFFFF]+$/),cW=ms(/^aria-[\-\w]+$/),_2=ms(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fW=ms(/^(?:\w+script|data):/i),hW=ms(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),b2=ms(/^html$/i),dW=ms(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ck=Object.freeze({__proto__:null,ARIA_ATTR:cW,ATTR_WHITESPACE:hW,CUSTOM_ELEMENT:dW,DATA_ATTR:uW,DOCTYPE_NAME:b2,ERB_EXPR:aW,IS_ALLOWED_URI:_2,IS_SCRIPT_OR_DATA:fW,MUSTACHE_EXPR:oW,TMPLIT_EXPR:lW});const td={element:1,text:3,progressingInstruction:7,comment:8,document:9},pW=function(){return typeof window>"u"?null:window},mW=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},xk=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function A2(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pW();const e=Te=>A2(Te);if(e.version="3.2.5",e.removed=[],!n||!n.document||n.document.nodeType!==td.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const r=t,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:u,Element:c,NodeFilter:h,NamedNodeMap:p=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:m,DOMParser:v,trustedTypes:_}=n,A=c.prototype,T=ed(A,"cloneNode"),w=ed(A,"remove"),O=ed(A,"nextSibling"),M=ed(A,"childNodes"),j=ed(A,"parentNode");if(typeof a=="function"){const Te=t.createElement("template");Te.content&&Te.content.ownerDocument&&(t=Te.content.ownerDocument)}let q,U="";const{implementation:D,createNodeIterator:L,createDocumentFragment:S,getElementsByTagName:C}=t,{importNode:B}=r;let P=xk();e.isSupported=typeof y2=="function"&&typeof j=="function"&&D&&D.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:N,ERB_EXPR:k,TMPLIT_EXPR:J,DATA_ATTR:F,ARIA_ATTR:$,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:Z,CUSTOM_ELEMENT:_e}=Ck;let{IS_ALLOWED_URI:H}=Ck,ne=null;const fe=mt({},[...Ek,...Wb,...Kb,...Yb,...wk]);let ce=null;const we=mt({},[...Sk,...Qb,...Rk,...dg]);let Re=Object.seal(v2(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Pe=null,zt=null,vt=!0,Yt=!0,Ot=!1,Dn=!0,er=!1,pi=!0,Jt=!1,vs=!1,Ds=!1,ln=!1,Ps=!1,Bi=!1,_s=!0,ji=!1;const mi="user-content-";let gr=!0,Wr=!1,Mr={},ut=null;const et=mt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Pn=null;const Zt=mt({},["audio","video","img","source","image","track"]);let Ls=null;const Dr=mt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pr="http://www.w3.org/1998/Math/MathML",Lr="http://www.w3.org/2000/svg",Tn="http://www.w3.org/1999/xhtml";let En=Tn,gi=!1,yr=null;const Vs=mt({},[Pr,Lr,Tn],Gb);let Kr=mt({},["mi","mo","mn","ms","mtext"]),Fi=mt({},["annotation-xml"]);const Yr=mt({},["title","style","font","a","script"]);let tr=null;const Us=["application/xhtml+xml","text/html"],nr="text/html";let Nt=null,rr=null;const zs=t.createElement("form"),Y=function(Q){return Q instanceof RegExp||Q instanceof Function},te=function(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(rr&&rr===Q)){if((!Q||typeof Q!="object")&&(Q={}),Q=du(Q),tr=Us.indexOf(Q.PARSER_MEDIA_TYPE)===-1?nr:Q.PARSER_MEDIA_TYPE,Nt=tr==="application/xhtml+xml"?Gb:qg,ne=Ss(Q,"ALLOWED_TAGS")?mt({},Q.ALLOWED_TAGS,Nt):fe,ce=Ss(Q,"ALLOWED_ATTR")?mt({},Q.ALLOWED_ATTR,Nt):we,yr=Ss(Q,"ALLOWED_NAMESPACES")?mt({},Q.ALLOWED_NAMESPACES,Gb):Vs,Ls=Ss(Q,"ADD_URI_SAFE_ATTR")?mt(du(Dr),Q.ADD_URI_SAFE_ATTR,Nt):Dr,Pn=Ss(Q,"ADD_DATA_URI_TAGS")?mt(du(Zt),Q.ADD_DATA_URI_TAGS,Nt):Zt,ut=Ss(Q,"FORBID_CONTENTS")?mt({},Q.FORBID_CONTENTS,Nt):et,Pe=Ss(Q,"FORBID_TAGS")?mt({},Q.FORBID_TAGS,Nt):{},zt=Ss(Q,"FORBID_ATTR")?mt({},Q.FORBID_ATTR,Nt):{},Mr=Ss(Q,"USE_PROFILES")?Q.USE_PROFILES:!1,vt=Q.ALLOW_ARIA_ATTR!==!1,Yt=Q.ALLOW_DATA_ATTR!==!1,Ot=Q.ALLOW_UNKNOWN_PROTOCOLS||!1,Dn=Q.ALLOW_SELF_CLOSE_IN_ATTR!==!1,er=Q.SAFE_FOR_TEMPLATES||!1,pi=Q.SAFE_FOR_XML!==!1,Jt=Q.WHOLE_DOCUMENT||!1,ln=Q.RETURN_DOM||!1,Ps=Q.RETURN_DOM_FRAGMENT||!1,Bi=Q.RETURN_TRUSTED_TYPE||!1,Ds=Q.FORCE_BODY||!1,_s=Q.SANITIZE_DOM!==!1,ji=Q.SANITIZE_NAMED_PROPS||!1,gr=Q.KEEP_CONTENT!==!1,Wr=Q.IN_PLACE||!1,H=Q.ALLOWED_URI_REGEXP||_2,En=Q.NAMESPACE||Tn,Kr=Q.MATHML_TEXT_INTEGRATION_POINTS||Kr,Fi=Q.HTML_INTEGRATION_POINTS||Fi,Re=Q.CUSTOM_ELEMENT_HANDLING||{},Q.CUSTOM_ELEMENT_HANDLING&&Y(Q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Re.tagNameCheck=Q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Q.CUSTOM_ELEMENT_HANDLING&&Y(Q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Re.attributeNameCheck=Q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Q.CUSTOM_ELEMENT_HANDLING&&typeof Q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Re.allowCustomizedBuiltInElements=Q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),er&&(Yt=!1),Ps&&(ln=!0),Mr&&(ne=mt({},wk),ce=[],Mr.html===!0&&(mt(ne,Ek),mt(ce,Sk)),Mr.svg===!0&&(mt(ne,Wb),mt(ce,Qb),mt(ce,dg)),Mr.svgFilters===!0&&(mt(ne,Kb),mt(ce,Qb),mt(ce,dg)),Mr.mathMl===!0&&(mt(ne,Yb),mt(ce,Rk),mt(ce,dg))),Q.ADD_TAGS&&(ne===fe&&(ne=du(ne)),mt(ne,Q.ADD_TAGS,Nt)),Q.ADD_ATTR&&(ce===we&&(ce=du(ce)),mt(ce,Q.ADD_ATTR,Nt)),Q.ADD_URI_SAFE_ATTR&&mt(Ls,Q.ADD_URI_SAFE_ATTR,Nt),Q.FORBID_CONTENTS&&(ut===et&&(ut=du(ut)),mt(ut,Q.FORBID_CONTENTS,Nt)),gr&&(ne["#text"]=!0),Jt&&mt(ne,["html","head","body"]),ne.table&&(mt(ne,["tbody"]),delete Pe.tbody),Q.TRUSTED_TYPES_POLICY){if(typeof Q.TRUSTED_TYPES_POLICY.createHTML!="function")throw Zh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Q.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Zh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');q=Q.TRUSTED_TYPES_POLICY,U=q.createHTML("")}else q===void 0&&(q=mW(_,i)),q!==null&&typeof U=="string"&&(U=q.createHTML(""));Fr&&Fr(Q),rr=Q}},ie=mt({},[...Wb,...Kb,...iW]),pe=mt({},[...Yb,...sW]),Ae=function(Q){let ve=j(Q);(!ve||!ve.tagName)&&(ve={namespaceURI:En,tagName:"template"});const xe=qg(Q.tagName),tt=qg(ve.tagName);return yr[Q.namespaceURI]?Q.namespaceURI===Lr?ve.namespaceURI===Tn?xe==="svg":ve.namespaceURI===Pr?xe==="svg"&&(tt==="annotation-xml"||Kr[tt]):!!ie[xe]:Q.namespaceURI===Pr?ve.namespaceURI===Tn?xe==="math":ve.namespaceURI===Lr?xe==="math"&&Fi[tt]:!!pe[xe]:Q.namespaceURI===Tn?ve.namespaceURI===Lr&&!Fi[tt]||ve.namespaceURI===Pr&&!Kr[tt]?!1:!pe[xe]&&(Yr[xe]||!ie[xe]):!!(tr==="application/xhtml+xml"&&yr[Q.namespaceURI]):!1},Ce=function(Q){Xh(e.removed,{element:Q});try{j(Q).removeChild(Q)}catch{w(Q)}},Be=function(Q,ve){try{Xh(e.removed,{attribute:ve.getAttributeNode(Q),from:ve})}catch{Xh(e.removed,{attribute:null,from:ve})}if(ve.removeAttribute(Q),Q==="is")if(ln||Ps)try{Ce(ve)}catch{}else try{ve.setAttribute(Q,"")}catch{}},Oe=function(Q){let ve=null,xe=null;if(Ds)Q="<remove></remove>"+Q;else{const Ct=Tk(Q,/^[\r\n\t ]+/);xe=Ct&&Ct[0]}tr==="application/xhtml+xml"&&En===Tn&&(Q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Q+"</body></html>");const tt=q?q.createHTML(Q):Q;if(En===Tn)try{ve=new v().parseFromString(tt,tr)}catch{}if(!ve||!ve.documentElement){ve=D.createDocument(En,"template",null);try{ve.documentElement.innerHTML=gi?U:tt}catch{}}const Bt=ve.body||ve.documentElement;return Q&&xe&&Bt.insertBefore(t.createTextNode(xe),Bt.childNodes[0]||null),En===Tn?C.call(ve,Jt?"html":"body")[0]:Jt?ve.documentElement:Bt},De=function(Q){return L.call(Q.ownerDocument||Q,Q,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},ze=function(Q){return Q instanceof m&&(typeof Q.nodeName!="string"||typeof Q.textContent!="string"||typeof Q.removeChild!="function"||!(Q.attributes instanceof p)||typeof Q.removeAttribute!="function"||typeof Q.setAttribute!="function"||typeof Q.namespaceURI!="string"||typeof Q.insertBefore!="function"||typeof Q.hasChildNodes!="function")},Fe=function(Q){return typeof u=="function"&&Q instanceof u};function Ie(Te,Q,ve){hg(Te,xe=>{xe.call(e,Q,ve,rr)})}const qe=function(Q){let ve=null;if(Ie(P.beforeSanitizeElements,Q,null),ze(Q))return Ce(Q),!0;const xe=Nt(Q.nodeName);if(Ie(P.uponSanitizeElement,Q,{tagName:xe,allowedTags:ne}),Q.hasChildNodes()&&!Fe(Q.firstElementChild)&&Br(/<[/\w!]/g,Q.innerHTML)&&Br(/<[/\w!]/g,Q.textContent)||Q.nodeType===td.progressingInstruction||pi&&Q.nodeType===td.comment&&Br(/<[/\w]/g,Q.data))return Ce(Q),!0;if(!ne[xe]||Pe[xe]){if(!Pe[xe]&&St(xe)&&(Re.tagNameCheck instanceof RegExp&&Br(Re.tagNameCheck,xe)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(xe)))return!1;if(gr&&!ut[xe]){const tt=j(Q)||Q.parentNode,Bt=M(Q)||Q.childNodes;if(Bt&&tt){const Ct=Bt.length;for(let en=Ct-1;en>=0;--en){const jt=T(Bt[en],!0);jt.__removalCount=(Q.__removalCount||0)+1,tt.insertBefore(jt,O(Q))}}}return Ce(Q),!0}return Q instanceof c&&!Ae(Q)||(xe==="noscript"||xe==="noembed"||xe==="noframes")&&Br(/<\/no(script|embed|frames)/i,Q.innerHTML)?(Ce(Q),!0):(er&&Q.nodeType===td.text&&(ve=Q.textContent,hg([N,k,J],tt=>{ve=Jh(ve,tt," ")}),Q.textContent!==ve&&(Xh(e.removed,{element:Q.cloneNode()}),Q.textContent=ve)),Ie(P.afterSanitizeElements,Q,null),!1)},it=function(Q,ve,xe){if(_s&&(ve==="id"||ve==="name")&&(xe in t||xe in zs))return!1;if(!(Yt&&!zt[ve]&&Br(F,ve))){if(!(vt&&Br($,ve))){if(!ce[ve]||zt[ve]){if(!(St(Q)&&(Re.tagNameCheck instanceof RegExp&&Br(Re.tagNameCheck,Q)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(Q))&&(Re.attributeNameCheck instanceof RegExp&&Br(Re.attributeNameCheck,ve)||Re.attributeNameCheck instanceof Function&&Re.attributeNameCheck(ve))||ve==="is"&&Re.allowCustomizedBuiltInElements&&(Re.tagNameCheck instanceof RegExp&&Br(Re.tagNameCheck,xe)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(xe))))return!1}else if(!Ls[ve]){if(!Br(H,Jh(xe,Z,""))){if(!((ve==="src"||ve==="xlink:href"||ve==="href")&&Q!=="script"&&eW(xe,"data:")===0&&Pn[Q])){if(!(Ot&&!Br(G,Jh(xe,Z,"")))){if(xe)return!1}}}}}}return!0},St=function(Q){return Q!=="annotation-xml"&&Tk(Q,_e)},_t=function(Q){Ie(P.beforeSanitizeAttributes,Q,null);const{attributes:ve}=Q;if(!ve||ze(Q))return;const xe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ce,forceKeepAttr:void 0};let tt=ve.length;for(;tt--;){const Bt=ve[tt],{name:Ct,namespaceURI:en,value:jt}=Bt,gn=Nt(Ct);let Ue=Ct==="value"?jt:tW(jt);if(xe.attrName=gn,xe.attrValue=Ue,xe.keepAttr=!0,xe.forceKeepAttr=void 0,Ie(P.uponSanitizeAttribute,Q,xe),Ue=xe.attrValue,ji&&(gn==="id"||gn==="name")&&(Be(Ct,Q),Ue=mi+Ue),pi&&Br(/((--!?|])>)|<\/(style|title)/i,Ue)){Be(Ct,Q);continue}if(xe.forceKeepAttr||(Be(Ct,Q),!xe.keepAttr))continue;if(!Dn&&Br(/\/>/i,Ue)){Be(Ct,Q);continue}er&&hg([N,k,J],vr=>{Ue=Jh(Ue,vr," ")});const tn=Nt(Q.nodeName);if(it(tn,gn,Ue)){if(q&&typeof _=="object"&&typeof _.getAttributeType=="function"&&!en)switch(_.getAttributeType(tn,gn)){case"TrustedHTML":{Ue=q.createHTML(Ue);break}case"TrustedScriptURL":{Ue=q.createScriptURL(Ue);break}}try{en?Q.setAttributeNS(en,Ct,Ue):Q.setAttribute(Ct,Ue),ze(Q)?Ce(Q):Ak(e.removed)}catch{}}}Ie(P.afterSanitizeAttributes,Q,null)},ht=function Te(Q){let ve=null;const xe=De(Q);for(Ie(P.beforeSanitizeShadowDOM,Q,null);ve=xe.nextNode();)Ie(P.uponSanitizeShadowNode,ve,null),qe(ve),_t(ve),ve.content instanceof s&&Te(ve.content);Ie(P.afterSanitizeShadowDOM,Q,null)};return e.sanitize=function(Te){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve=null,xe=null,tt=null,Bt=null;if(gi=!Te,gi&&(Te="<!-->"),typeof Te!="string"&&!Fe(Te))if(typeof Te.toString=="function"){if(Te=Te.toString(),typeof Te!="string")throw Zh("dirty is not a string, aborting")}else throw Zh("toString is not a function");if(!e.isSupported)return Te;if(vs||te(Q),e.removed=[],typeof Te=="string"&&(Wr=!1),Wr){if(Te.nodeName){const jt=Nt(Te.nodeName);if(!ne[jt]||Pe[jt])throw Zh("root node is forbidden and cannot be sanitized in-place")}}else if(Te instanceof u)ve=Oe("<!---->"),xe=ve.ownerDocument.importNode(Te,!0),xe.nodeType===td.element&&xe.nodeName==="BODY"||xe.nodeName==="HTML"?ve=xe:ve.appendChild(xe);else{if(!ln&&!er&&!Jt&&Te.indexOf("<")===-1)return q&&Bi?q.createHTML(Te):Te;if(ve=Oe(Te),!ve)return ln?null:Bi?U:""}ve&&Ds&&Ce(ve.firstChild);const Ct=De(Wr?Te:ve);for(;tt=Ct.nextNode();)qe(tt),_t(tt),tt.content instanceof s&&ht(tt.content);if(Wr)return Te;if(ln){if(Ps)for(Bt=S.call(ve.ownerDocument);ve.firstChild;)Bt.appendChild(ve.firstChild);else Bt=ve;return(ce.shadowroot||ce.shadowrootmode)&&(Bt=B.call(r,Bt,!0)),Bt}let en=Jt?ve.outerHTML:ve.innerHTML;return Jt&&ne["!doctype"]&&ve.ownerDocument&&ve.ownerDocument.doctype&&ve.ownerDocument.doctype.name&&Br(b2,ve.ownerDocument.doctype.name)&&(en="<!DOCTYPE "+ve.ownerDocument.doctype.name+`>
`+en),er&&hg([N,k,J],jt=>{en=Jh(en,jt," ")}),q&&Bi?q.createHTML(en):en},e.setConfig=function(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(Te),vs=!0},e.clearConfig=function(){rr=null,vs=!1},e.isValidAttribute=function(Te,Q,ve){rr||te({});const xe=Nt(Te),tt=Nt(Q);return it(xe,tt,ve)},e.addHook=function(Te,Q){typeof Q=="function"&&Xh(P[Te],Q)},e.removeHook=function(Te,Q){if(Q!==void 0){const ve=JG(P[Te],Q);return ve===-1?void 0:ZG(P[Te],ve,1)[0]}return Ak(P[Te])},e.removeHooks=function(Te){P[Te]=[]},e.removeAllHooks=function(){P=xk()},e}var T2=A2();function Ik({title:n,subTitle:e,author:t,datePosted:r,readTime:i,titleImg:s,part:a,partUrl:u,partName:c,description:h}){Ms();const p=r!=null&&r.toDate?r.toDate().toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):new Date(r).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return R.jsxs("div",{className:"sb-title-main-container charcoal-bg white-text",children:[R.jsx("p",{className:"sb-sub outfit-font",children:e}),R.jsx("h1",{className:"sb-title playfair-font",style:{marginBottom:"40px"},children:n}),a&&R.jsxs("h6",{className:"sb-part silver-bg outfit-font",style:{padding:"5px 20px",borderRadius:"5rem",color:"black"},children:["Part: ",a]}),R.jsx("img",{src:s||g2,alt:"Blog banner"}),R.jsx("p",{className:"sb-title-blerb outfit-thin-font",dangerouslySetInnerHTML:{__html:T2.sanitize(h)}}),c&&R.jsx(Nu,{onClick:()=>window.location.href=u,text:c}),R.jsxs("div",{className:"sb-title-info-container",children:[R.jsxs("div",{className:"sb-title-info",children:[R.jsx("h6",{className:"outfit-xthin-font",children:"Author:"}),R.jsx("h5",{className:"playfair-font",children:t||"Unknown"})]}),R.jsxs("div",{className:"sb-title-info",children:[R.jsx("h6",{className:"outfit-xthin-font",children:"Read Time:"}),R.jsx("h5",{className:"playfair-font",children:i||"N/A"})]}),R.jsxs("div",{className:"sb-title-info",children:[R.jsx("h6",{className:"outfit-xthin-font",children:"Date Posted:"}),R.jsx("h5",{className:"playfair-font",children:p})]})]})]})}const gW="/assets/likeFilled-BbC8tfBI.png",yW="/assets/likeEmpty-BD2cNi-E.png";function vW(){var h,p;const{id:n}=Av(),[e,t]=W.useState(null),[r,i]=W.useState(!1),[s,a]=W.useState("");W.useEffect(()=>{(async()=>{var v;try{const _=await Hg(n);t(_);const A=by().currentUser;A&&((v=_.likes)!=null&&v.includes(A.uid))&&i(!0)}catch(_){console.error("Failed to fetch blog:",_)}})()},[n]);const u=async()=>{if(!(!e||!by().currentUser))try{r?await VG(n):await LG(n);const v=await Hg(n);t(v),i(!r)}catch(v){console.error("Failed to toggle like:",v)}},c=async()=>{if(!(!s.trim()||!e))try{await UG(n,s,"Anonymous");const m=await Hg(n);t(m),a("")}catch(m){console.error("Failed to submit comment:",m)}};return e?R.jsxs("section",{className:"social-main-container",children:[R.jsxs("div",{className:"like-and-comment-container",children:[R.jsxs("div",{className:"like-and-share",children:[R.jsxs("div",{className:"like-container",children:[R.jsxs("div",{className:"like",children:[R.jsx("img",{src:r?gW:yW,onClick:u,alt:"like button"}),R.jsxs("p",{children:[((h=e.likes)==null?void 0:h.length)||0," likes"]})]}),R.jsx("h1",{className:"outfit-font",children:"Leave a like"})]}),R.jsxs("div",{className:"share-container",children:[R.jsx("h1",{className:"outfit-font",children:"Share This:"}),R.jsxs("div",{children:[R.jsx(Nu,{text:"X",fontSize:".8rem"}),R.jsx(Nu,{text:"Facebook",fontSize:".8rem"})]})]})]}),R.jsxs("div",{className:"leave-comment",children:[R.jsx("h1",{className:"outfit-font",children:"Leave a Comment:"}),R.jsx("textarea",{className:"outfit-font silver-bg",value:s,onChange:m=>a(m.target.value),placeholder:"leave a comment..."}),R.jsx(Nu,{text:"Submit",margin:"0 auto",fontSize:"1.3rem",onClick:c})]})]}),R.jsxs("div",{className:"comment-container",children:[R.jsx("h1",{className:"outfit-font",children:"Comments:"}),R.jsx("div",{className:"comments silver-bg",children:(p=e.comments)==null?void 0:p.map((m,v)=>R.jsxs(wr.Fragment,{children:[R.jsxs("h1",{className:"commenter-name outfit-font",children:[m.name||"Reader",":"]}),R.jsx("p",{className:"comment outfit-font",children:m.comment})]},v))})]})]}):R.jsx("p",{children:"Loading..."})}function kk({content:n}){return Array.isArray(n)?R.jsx("div",{className:"sb-article-main-container",children:R.jsxs("div",{className:"sb-article-container",children:[n.filter(e=>e.type!=="Description").map((e,t)=>e.type==="Article"?R.jsx("div",{className:"outfit-thin-font sb-article-section",dangerouslySetInnerHTML:{__html:T2.sanitize(e.value)}},e._id||t):e.type==="Image"?R.jsx("img",{src:e.value,alt:`article-section-${t}`,className:"sb-article-img"},e._id||t):null),R.jsx(vW,{})]})}):R.jsx(Pp,{})}function _W(){var s,a,u,c,h,p,m,v,_,A;const[n,e]=W.useState(window.innerWidth),[t,r]=W.useState(null),{id:i}=Av();return W.useEffect(()=>{const T=()=>e(window.innerWidth);return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),W.useEffect(()=>{(async()=>{try{const w=await Hg(i);r(w)}catch(w){console.error("Failed to fetch blog:",w)}})(),Zd("#nav")},[i]),R.jsx("section",{id:"single-blog",className:"display-column",children:t?R.jsxs(R.Fragment,{children:[" ",n<600?R.jsxs(R.Fragment,{children:[R.jsx(Ik,{title:t.title,subTitle:t.subTitle,author:t.author,datePosted:t.datePosted,readTime:t.readTime,titleImg:t.imgUrl,part:t.part,partName:(a=(s=t==null?void 0:t.content.find(T=>T.type==="Redirect"))==null?void 0:s.value)==null?void 0:a.partName,partUrl:(c=(u=t==null?void 0:t.content.find(T=>T.type==="Redirect"))==null?void 0:u.value)==null?void 0:c.partUrl,description:(h=t.content.find(T=>T.type==="Description"))==null?void 0:h.value,redirectLink:t.redirectLink}),R.jsx("div",{className:"padding-20",children:R.jsx(kk,{content:t.content})}),R.jsx(CT,{author:"My Daily Reed"})]}):R.jsxs(R.Fragment,{children:[R.jsx(Ik,{title:t.title,subTitle:t.subTitle,author:t.author,datePosted:t.datePosted,readTime:t.readTime,titleImg:t.imgUrl,partName:(m=(p=t==null?void 0:t.content.find(T=>T.type==="Redirect"))==null?void 0:p.value)==null?void 0:m.partName,partUrl:(_=(v=t==null?void 0:t.content.find(T=>T.type==="Redirect"))==null?void 0:v.value)==null?void 0:_.partUrl,part:t.part,description:(A=t.content.find(T=>T.type==="Description"))==null?void 0:A.value}),R.jsxs("div",{className:"flex-between padding-40 pos-relative",children:[R.jsx(kk,{content:t.content}),R.jsx(CT,{author:"My Daily Reed"})]})]})]}):R.jsx(R.Fragment,{children:R.jsx(Pp,{})})})}const bW={element:R.jsx(_W,{})};function AW(){const[n,e]=W.useState(!1),[t,r]=W.useState(""),[i,s]=W.useState(""),[a,u]=W.useState(""),c=Ms();W.useEffect(()=>{const v=DP(mu,_=>{_&&(e(!0),setTimeout(()=>{c("/dashboard")},[1e3]))});return()=>v()},[]);const h=async v=>{v.preventDefault();try{await Mq(mu,t,i),c("/dashboard")}catch{u("Incorrect Email/Password")}},p=async()=>{const v=new Yo,_="urok.dance@gmail.com";try{(await n8(mu,v)).user.email!==_?(await mu.signOut(),u("Access denied: unauthorized Google account.")):(console.log("Google login successful"),c("/dashboard"))}catch(A){console.error(A),u("Google sign-in failed.")}},m=async()=>{if(!t){u("Please enter your email first.");return}try{await Nq(mu,t),alert("Password reset email sent. Check your inbox.")}catch(v){u(v.message)}};return R.jsx(R.Fragment,{children:n?R.jsx(R.Fragment,{children:R.jsx(Pp,{})}):R.jsxs(R.Fragment,{children:[" ",R.jsx("section",{className:"display-column charcoal-bg neg-marg",children:R.jsxs("div",{className:"form-container green-bg",children:[R.jsx("p",{className:"title outfit-font",children:"Login"}),R.jsxs("form",{className:"form",onSubmit:h,children:[R.jsxs("div",{className:"input-group",children:[R.jsx("label",{htmlFor:"email",className:"outfit-thin-font",children:"Email"}),R.jsx("input",{type:"text",name:"email",placeholder:"email@email.com",id:"email",value:t,onChange:v=>r(v.target.value)})]}),R.jsxs("div",{className:"input-group",children:[R.jsx("label",{htmlFor:"password",className:"outfit-thin-font",children:"Password"}),R.jsx("input",{type:"password",name:"password",id:"password",placeholder:"password",value:i,onChange:v=>s(v.target.value)}),R.jsx("div",{className:"forgot",children:R.jsx("button",{type:"button",className:"forgot-password-btn outfit-font",onClick:m,children:"Forgot Password?"})})]}),R.jsx("button",{type:"submit",className:"sign charcoal-bg",children:"Sign in"}),a&&R.jsx("p",{className:"error-message",children:a})]}),R.jsxs("div",{className:"social-message",children:[R.jsx("div",{className:"line"}),R.jsx("p",{className:"message",children:"Login with Google"}),R.jsx("div",{className:"line"})]}),R.jsx("div",{className:"social-icons",children:R.jsx("button",{type:"button","aria-label":"Log in with Google",className:"icon",onClick:p,children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:"w-5 h-5 fill-current",children:R.jsx("path",{d:"M16.318 13.714v5.484h9.078c-0.37 2.354-2.745 6.901-9.078 6.901-5.458 0-9.917-4.521-9.917-10.099s4.458-10.099 9.917-10.099c3.109 0 5.193 1.318 6.38 2.464l4.339-4.182c-2.786-2.599-6.396-4.182-10.719-4.182-8.844 0-16 7.151-16 16s7.156 16 16 16c9.234 0 15.365-6.49 15.365-15.635 0-1.052-0.115-1.854-0.255-2.651z"})})})})]})})]})})}const TW={element:R.jsx(AW,{})},E2=W.createContext();function EW({children:n}){const[e,t]=W.useState(null),[r,i]=W.useState(!0);return W.useEffect(()=>{const s=DP(mu,a=>{t(a),i(!1)});return()=>s()},[]),R.jsx(E2.Provider,{value:{currentUser:e},children:r?R.jsx(Pp,{}):n})}function wW(){return W.useContext(E2)}function nd({children:n}){const{currentUser:e}=wW();return e?n:R.jsx(Pj,{to:"/login"})}const SW="/assets/dashboardBg-Dtd5WdDk.jpg",RW="/assets/dashboardBgPhone-Dn_QPInV.jpg";function CW(){const[n,e]=W.useState(window.innerWidth);return W.useEffect(()=>{const t=()=>e(window.innerWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),R.jsx("section",{className:"db-hero-main-container",children:n<=600?R.jsxs(R.Fragment,{children:[R.jsx("img",{src:RW}),R.jsx("h1",{className:"outfit-font ",children:"Welcome"}),R.jsx("h1",{className:"outfit-font green-text",children:"To Your"}),R.jsx("h1",{className:"outfit-font green-text",children:"Dashboard"})]}):R.jsxs(R.Fragment,{children:[R.jsx("img",{src:SW})," ",R.jsx("h1",{className:"outfit-font green-text",children:"Welcome"}),R.jsx("h1",{className:"outfit-font green-text",children:"To Your"}),R.jsx("h1",{style:{marginBottom:"10px"},className:"outfit-font green-text",children:"Dashboard"})]})})}const xW="/assets/add-xRAkvvij.png",IW="/assets/edit-MfBVzi6v.png",kW="/assets/options-lines-D1UL6CiK.png";function OW(){const n=Ms(),e=async()=>{try{await Lq(mu),n("/login")}catch(t){console.error("Error signing out:",t)}};return R.jsxs("section",{style:{padding:"40px 20px",gap:"50px"},className:"display-column charcoal-bg neg-marg",children:[R.jsxs("div",{className:"db-direction-container green-bg",onClick:t=>{t.preventDefault(),n("/createBlog"),window.scrollTo(0,0)},children:[R.jsx("h1",{className:"outfit-font",children:"Create a Blog Post"}),R.jsx("img",{src:xW})]}),R.jsxs("div",{className:"db-direction-container green-bg",onClick:t=>{t.preventDefault(),n("/editDirectory"),window.scrollTo(0,0)},children:[R.jsx("h1",{className:"outfit-font",children:"Edit a Blog Post"}),R.jsx("img",{src:IW})]}),R.jsxs("div",{className:"db-direction-container green-bg",onClick:t=>{t.preventDefault(),n("/editCat"),window.scrollTo(0,0)},children:[R.jsx("h1",{className:"outfit-font",children:"Edit Common Categories"}),R.jsx("img",{src:kW})]}),R.jsx("button",{className:"word-button green-bg outfit-font",style:{fontSize:"1.5rem"},onClick:()=>{e(),window.scrollTo(0,0)},children:"Logout"})]})}function NW(){return R.jsxs("section",{className:"dashboard-main",children:[R.jsx(CW,{}),R.jsx(OW,{})]})}const ky=async(n,e="blogFolder")=>{if(!n)throw new Error("No file provided");const t=C5(h$,`${e}/${Date.now()}-${n.name}`);return await S5(t,n),await R5(t)};function ur(n){this.content=n}ur.prototype={constructor:ur,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new ur(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new ur(t)},addToStart:function(n,e){return new ur([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new ur(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new ur(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=ur.from(n),n.size?new ur(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=ur.from(n),n.size?new ur(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=ur.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};ur.from=function(n){if(n instanceof ur)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new ur(e)};function w2(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)t++;return t}if(i.content.size||s.content.size){let a=w2(i.content,s.content,t+1);if(a!=null)return a}t+=i.nodeSize}}function S2(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let a=n.child(--i),u=e.child(--s),c=a.nodeSize;if(a==u){t-=c,r-=c;continue}if(!a.sameMarkup(u))return{a:t,b:r};if(a.isText&&a.text!=u.text){let h=0,p=Math.min(a.text.length,u.text.length);for(;h<p&&a.text[a.text.length-h-1]==u.text[u.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(a.content.size||u.content.size){let h=S2(a.content,u.content,t-1,r-1);if(h)return h}t-=c,r-=c}}class be{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let a=0,u=0;u<t;a++){let c=this.content[a],h=u+c.nodeSize;if(h>e&&r(c,i+u,s||null,a)!==!1&&c.content.size){let p=u+1;c.nodesBetween(Math.max(0,e-p),Math.min(c.content.size,t-p),r,i+p)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",a=!0;return this.nodesBetween(e,t,(u,c)=>{let h=u.isText?u.text.slice(Math.max(e,c)-c,t-c):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&r&&(a?a=!1:s+=r),s+=h},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new be(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,a=0;a<t;s++){let u=this.content[s],c=a+u.nodeSize;c>e&&((a<e||c>t)&&(u.isText?u=u.cut(Math.max(0,e-a),Math.min(u.text.length,t-a)):u=u.cut(Math.max(0,e-a-1),Math.min(u.content.size,t-a-1))),r.push(u),i+=u.nodeSize),a=c}return new be(r,i)}cutByIndex(e,t){return e==t?be.empty:e==0&&t==this.content.length?this:new be(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new be(i,s)}addToStart(e){return new be([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new be(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return w2(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return S2(this,e,t,r)}findIndex(e,t=-1){if(e==0)return pg(0,e);if(e==this.size)return pg(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),a=i+s.nodeSize;if(a>=e)return a==e||t>0?pg(r+1,a):pg(r,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return be.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new be(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return be.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new be(t||e,r)}static from(e){if(!e)return be.empty;if(e instanceof be)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new be([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}be.empty=new be([],0);const Xb={index:0,offset:0};function pg(n,e){return Xb.index=n,Xb.offset=e,Xb}function Oy(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Oy(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Oy(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let $t=class kT{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Oy(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return kT.none;if(e instanceof kT)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};$t.none=[];class Ny extends Error{}class ke{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=C2(this.content,e+this.openStart,t);return r&&new ke(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ke(R2(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ke.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ke(be.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new ke(e,r,i)}}ke.empty=new ke(be.empty,0,0);function R2(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:a,offset:u}=n.findIndex(t);if(i==e||s.isText){if(u!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(R2(s.content,e-i-1,t-i-1)))}function C2(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),a=n.maybeChild(i);if(s==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let u=C2(a.content,e-s-1,t);return u&&n.replaceChild(i,a.copy(u))}function MW(n,e,t){if(t.openStart>n.depth)throw new Ny("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Ny("Inconsistent open depths");return x2(n,e,t,0)}function x2(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let a=x2(n,e,t,r+1);return s.copy(s.content.replaceChild(i,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,u=a.content;return Du(a,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:a,end:u}=DW(t,n);return Du(s,k2(n,a,u,e,r))}else return Du(s,My(n,e,r))}function I2(n,e){if(!e.type.compatibleContent(n.type))throw new Ny("Cannot join "+e.type.name+" onto "+n.type.name)}function OT(n,e,t){let r=n.node(t);return I2(r,e.node(t)),r}function Mu(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Ld(n,e,t,r){let i=(e||n).node(t),s=0,a=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(Mu(n.nodeAfter,r),s++));for(let u=s;u<a;u++)Mu(i.child(u),r);e&&e.depth==t&&e.textOffset&&Mu(e.nodeBefore,r)}function Du(n,e){return n.type.checkContent(e),n.copy(e)}function k2(n,e,t,r,i){let s=n.depth>i&&OT(n,e,i+1),a=r.depth>i&&OT(t,r,i+1),u=[];return Ld(null,n,i,u),s&&a&&e.index(i)==t.index(i)?(I2(s,a),Mu(Du(s,k2(n,e,t,r,i+1)),u)):(s&&Mu(Du(s,My(n,e,i+1)),u),Ld(e,t,i,u),a&&Mu(Du(a,My(t,r,i+1)),u)),Ld(r,null,i,u),new be(u)}function My(n,e,t){let r=[];if(Ld(null,n,t,r),n.depth>t){let i=OT(n,e,t+1);Mu(Du(i,My(n,e,t+1)),r)}return Ld(e,null,t,r),new be(r)}function DW(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(be.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class up{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return $t.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let u=r;r=i,i=u}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Dy(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let a=e;;){let{index:u,offset:c}=a.content.findIndex(s),h=s-c;if(r.push(a,u,i+c),!h||(a=a.child(u),a.isText))break;s=h-1,i+=c+1}return new up(t,r,s)}static resolveCached(e,t){let r=Ok.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==t)return a}else Ok.set(e,r=new PW);let i=r.elts[r.i]=up.resolve(e,t);return r.i=(r.i+1)%LW,i}}class PW{constructor(){this.elts=[],this.i=0}}const LW=12,Ok=new WeakMap;class Dy{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const VW=Object.create(null);let ul=class NT{constructor(e,t,r,i=$t.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||be.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Oy(this.attrs,t||e.defaultAttrs||VW)&&$t.sameSet(this.marks,r||$t.none)}copy(e=null){return e==this.content?this:new NT(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new NT(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ke.empty;let i=this.resolve(e),s=this.resolve(t),a=r?0:i.sharedDepth(t),u=i.start(a),h=i.node(a).content.cut(i.pos-u,s.pos-u);return new ke(h,i.depth-a,s.depth-a)}replace(e,t,r){return MW(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return up.resolveCached(this,e)}resolveNoCache(e){return up.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),O2(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=be.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),u=a&&a.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=$t.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!$t.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=be.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};ul.prototype.text=void 0;class Py extends ul{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):O2(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Py(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Py(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function O2(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class $u{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new UW(e,t);if(r.next==null)return $u.empty;let i=N2(r);r.next&&r.err("Unexpected trailing text");let s=$W(qW(i));return GW(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(a,u){let c=a.matchFragment(e,r);if(c&&(!t||c.validEnd))return be.from(u.map(h=>h.createAndFill()));for(let h=0;h<a.next.length;h++){let{type:p,next:m}=a.next[h];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=s(m,u.concat(p));if(v)return v}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let u=i;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:u,next:c}=s.next[a];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!i.type||c.validEnd)&&(r.push({match:u.contentMatch,type:u,via:i}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}$u.empty=new $u(!0);class UW{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function N2(n){let e=[];do e.push(zW(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function zW(n){let e=[];do e.push(BW(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function BW(n){let e=HW(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=jW(n,e);else break;return e}function Nk(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function jW(n,e){let t=Nk(n),r=t;return n.eat(",")&&(n.next!="}"?r=Nk(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function FW(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let a=t[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function HW(n){if(n.eat("(")){let e=N2(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=FW(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function qW(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(a,u,c){let h={term:c,to:u};return e[a].push(h),h}function i(a,u){a.forEach(c=>c.to=u)}function s(a,u){if(a.type=="choice")return a.exprs.reduce((c,h)=>c.concat(s(h,u)),[]);if(a.type=="seq")for(let c=0;;c++){let h=s(a.exprs[c],u);if(c==a.exprs.length-1)return h;i(h,u=t())}else if(a.type=="star"){let c=t();return r(u,c),i(s(a.expr,c),c),[r(c)]}else if(a.type=="plus"){let c=t();return i(s(a.expr,u),c),i(s(a.expr,c),c),[r(c)]}else{if(a.type=="opt")return[r(u)].concat(s(a.expr,u));if(a.type=="range"){let c=u;for(let h=0;h<a.min;h++){let p=t();i(s(a.expr,c),p),c=p}if(a.max==-1)i(s(a.expr,c),c);else for(let h=a.min;h<a.max;h++){let p=t();r(c,p),i(s(a.expr,c),p),c=p}return[r(c)]}else{if(a.type=="name")return[r(u,void 0,a.value)];throw new Error("Unknown expr type")}}}}function M2(n,e){return e-n}function Mk(n,e){let t=[];return r(e),t.sort(M2);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let a=0;a<s.length;a++){let{term:u,to:c}=s[a];!u&&t.indexOf(c)==-1&&r(c)}}}function $W(n){let e=Object.create(null);return t(Mk(n,0));function t(r){let i=[];r.forEach(a=>{n[a].forEach(({term:u,to:c})=>{if(!u)return;let h;for(let p=0;p<i.length;p++)i[p][0]==u&&(h=i[p][1]);Mk(n,c).forEach(p=>{h||i.push([u,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let s=e[r.join(",")]=new $u(r.indexOf(n.length-1)>-1);for(let a=0;a<i.length;a++){let u=i[a][1].sort(M2);s.next.push({type:i[a][0],next:e[u.join(",")]||t(u)})}return s}}function GW(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,a=[];for(let u=0;u<i.next.length;u++){let{type:c,next:h}=i.next[u];a.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(h)==-1&&r.push(h)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function D2(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function P2(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function L2(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function V2(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new KW(n,r,e[r]);return t}let Dk=class U2{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=V2(e,r.attrs),this.defaultAttrs=D2(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==$u.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:P2(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ul(this,this.computeAttrs(e),be.from(t),$t.setFrom(r))}createChecked(e=null,t,r){return t=be.from(t),this.checkContent(t),new ul(this,this.computeAttrs(e),t,$t.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=be.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(be.empty,!0);return s?new ul(this,e,t.append(s),$t.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){L2(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:$t.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,a)=>r[s]=new U2(s,t,a));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function WW(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class KW{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?WW(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class e_{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=V2(e,i.attrs),this.excluded=null;let s=D2(this.attrs);this.instance=s?new $t(this,s):null}create(e=null){return!e&&this.instance?this.instance:new $t(this,P2(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new e_(s,i++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){L2(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class z2{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=ur.from(e.nodes),t.marks=ur.from(e.marks||{}),this.nodes=Dk.compile(this.spec.nodes,this),this.marks=e_.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",u=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=$u.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=u=="_"?null:u?Pk(this,u.split(" ")):u==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:Pk(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Dk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Py(r,r.defaultAttrs,e,$t.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return ul.fromJSON(this,e)}markFromJSON(e){return $t.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Pk(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],a=s;if(s)t.push(s);else for(let u in n.marks){let c=n.marks[u];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&t.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function YW(n){return n.tag!=null}function QW(n){return n.style!=null}class cl{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(YW(i))this.tags.push(i);else if(QW(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new Vk(this,t,!1);return r.addAll(e,$t.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new Vk(this,t,!0);return r.addAll(e,$t.none,t.from,t.to),ke.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(ZW(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],u=a.style;if(!(u.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(a.getAttrs){let c=a.getAttrs(t);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<t.length;a++){let u=t[a];if((u.priority==null?50:u.priority)<s)break}t.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=Uk(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=Uk(a)),a.node||a.ignore||a.mark||(a.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new cl(e,cl.schemaRules(e)))}}const B2={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},XW={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},j2={ol:!0,ul:!0},cp=1,MT=2,$g=4;function Lk(n,e,t){return e!=null?(e?cp:0)|(e==="full"?MT:0):n&&n.whitespace=="pre"?cp|MT:t&-5}class mg{constructor(e,t,r,i,s,a){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=$t.none,this.match=s||(a&$g?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(be.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&cp)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=be.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(be.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!B2.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Vk{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,a=Lk(null,t.preserveWhitespace,0)|(r?$g:0);i?s=new mg(i.type,i.attrs,$t.none,!0,t.topMatch||i.type.contentMatch,a):r?s=new mg(null,null,$t.none,!0,null,a):s=new mg(e.schema.topNodeType,null,$t.none,!0,null,a),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&MT?"full":this.localPreserveWS||(i.options&cp)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],u=e.previousSibling;(!a||u&&u.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),u;j2.hasOwnProperty(a)&&this.parser.normalizeLists&&JW(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(c?c.ignore:XW.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let h,p=this.needsBlock;if(B2.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),h=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let m=c&&c.skip?t:this.readStyles(e,t);m&&this.addAll(e,m),h&&this.sync(s),this.needsBlock=p}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,c,h,c.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let u=void 0;;){let c=this.parser.matchStyle(s,a,this,u);if(!c)break;if(c.ignore)return null;if(c.clearMark?t=t.filter(h=>!c.clearMark(h)):t=t.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)u=c;else break}}return t}addElementByRule(e,t,r,i){let s,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(a,t.attrs||null,r,t.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[t.mark];r=r.concat(c.create(t.attrs))}let u=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof t.contentElement=="string"?c=e.querySelector(t.contentElement):typeof t.contentElement=="function"?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(u)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,u=i==null?null:e.childNodes[i];a!=u;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let a=this.open,u=0;a>=0;a--){let c=this.nodes[a],h=c.findWrapping(e);if(h&&(!i||i.length>h.length+u)&&(i=h,s=c,!h.length))break;if(c.solid){if(r)break;u+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)t=this.enterInner(i[a],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=$t.none;for(let u of i.concat(e.marks))(s.type?s.type.allowsMarkType(u.type):zk(u.type,e.type))&&(a=u.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let u=Lk(e,s,a.options);a.options&$g&&a.content.length==0&&(u|=$g);let c=$t.none;return r=r.filter(h=>(a.type?a.type.allowsMarkType(h.type):zk(h.type,e))?(c=h.addToSet(c),!1):!0),this.nodes.push(new mg(e,t,c,i,null,u)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=cp)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(u,c)=>{for(;u>=0;u--){let h=t[u];if(h==""){if(u==t.length-1||u==0)continue;for(;c>=s;c--)if(a(u-1,c))return!0;return!1}else{let p=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;c--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function JW(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&j2.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function ZW(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function Uk(n){let e={};for(let t in n)e[t]=n[t];return e}function zk(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],a=u=>{s.push(u);for(let c=0;c<u.edgeCount;c++){let{type:h,next:p}=u.edge(c);if(h==e||s.indexOf(p)<0&&a(p))return!0}};if(a(i.contentMatch))return!0}}class rc{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Jb(t).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let u=0,c=0;for(;u<s.length&&c<a.marks.length;){let h=a.marks[c];if(!this.marks[h.type.name]){c++;continue}if(!h.eq(s[u][0])||h.type.spec.spanning===!1)break;u++,c++}for(;u<s.length;)i=s.pop()[1];for(;c<a.marks.length;){let h=a.marks[c++],p=this.serializeMark(h,a.isInline,t);p&&(s.push([h,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=Gg(Jb(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&Gg(Jb(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return Gg(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new rc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Bk(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Bk(e.marks)}}function Bk(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Jb(n){return n.document||window.document}const jk=new WeakMap;function eK(n){let e=jk.get(n);return e===void 0&&jk.set(n,e=tK(n)),e}function tK(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function Gg(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=eK(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(t=i.slice(0,a),i=i.slice(a+1));let u,c=t?n.createElementNS(t,i):n.createElement(i),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let m in h)if(h[m]!=null){let v=m.indexOf(" ");v>0?c.setAttributeNS(m.slice(0,v),m.slice(v+1),h[m]):c.setAttribute(m,h[m])}}for(let m=p;m<e.length;m++){let v=e[m];if(v===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:_,contentDOM:A}=Gg(n,v,t,r);if(c.appendChild(_),A){if(u)throw new RangeError("Multiple content holes");u=A}}}return{dom:c,contentDOM:u}}const F2=65535,H2=Math.pow(2,16);function nK(n,e){return n+e*H2}function Fk(n){return n&F2}function rK(n){return(n-(n&F2))/H2}const q2=1,$2=2,Wg=4,G2=8;class DT{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&G2)>0}get deletedBefore(){return(this.delInfo&(q2|Wg))>0}get deletedAfter(){return(this.delInfo&($2|Wg))>0}get deletedAcross(){return(this.delInfo&Wg)>0}}class Oi{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Oi.empty)return Oi.empty}recover(e){let t=0,r=Fk(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+rK(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let c=this.ranges[u]-(this.inverted?i:0);if(c>e)break;let h=this.ranges[u+s],p=this.ranges[u+a],m=c+h;if(e<=m){let v=h?e==c?-1:e==m?1:t:t,_=c+i+(v<0?0:p);if(r)return _;let A=e==(t<0?c:m)?null:nK(u/3,e-c),T=e==c?$2:e==m?q2:Wg;return(t<0?e!=c:e!=m)&&(T|=G2),new DT(_,T,A)}i+=p-h}return r?e+i:new DT(e+i,0,null)}touches(e,t){let r=0,i=Fk(t),s=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let c=this.ranges[u]-(this.inverted?r:0);if(c>e)break;let h=this.ranges[u+s],p=c+h;if(e<=p&&u==i*3)return!0;r+=this.ranges[u+a]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],u=a-(this.inverted?s:0),c=a+(this.inverted?0:s),h=this.ranges[i+t],p=this.ranges[i+r];e(u,u+h,c,c+p),s+=p-h}}invert(){return new Oi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Oi.empty:new Oi(e<0?[0,-e,0]:[0,0,e])}}Oi.empty=new Oi([]);class fp{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new fp(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new fp;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],u=a.mapResult(e,t);if(u.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return r?e:new DT(e,i,null)}}const Zb=Object.create(null);class Nr{getMap(){return Oi.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Zb[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Zb)throw new RangeError("Duplicate use of step JSON ID "+e);return Zb[e]=t,t.prototype.jsonID=e,t}}class Nn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Nn(e,null)}static fail(e){return new Nn(null,e)}static fromReplace(e,t,r,i){try{return Nn.ok(e.replace(t,r,i))}catch(s){if(s instanceof Ny)return Nn.fail(s.message);throw s}}}function Vw(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(Vw(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return be.fromArray(r)}class Za extends Nr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ke(Vw(t.content,(a,u)=>!a.isAtom||!u.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),t.openStart,t.openEnd);return Nn.fromReplace(e,this.from,this.to,s)}invert(){return new ao(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Za(t.pos,r.pos,this.mark)}merge(e){return e instanceof Za&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Za(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Za(t.from,t.to,e.markFromJSON(t.mark))}}Nr.jsonID("addMark",Za);class ao extends Nr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ke(Vw(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Nn.fromReplace(e,this.from,this.to,r)}invert(){return new Za(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ao(t.pos,r.pos,this.mark)}merge(e){return e instanceof ao&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ao(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ao(t.from,t.to,e.markFromJSON(t.mark))}}Nr.jsonID("removeMark",ao);class el extends Nr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Nn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Nn.fromReplace(e,this.pos,this.pos+1,new ke(be.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new el(this.pos,t.marks[i]);return new el(this.pos,this.mark)}}return new Gu(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new el(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new el(t.pos,e.markFromJSON(t.mark))}}Nr.jsonID("addNodeMark",el);class Gu extends Nr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Nn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Nn.fromReplace(e,this.pos,this.pos+1,new ke(be.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new el(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Gu(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Gu(t.pos,e.markFromJSON(t.mark))}}Nr.jsonID("removeNodeMark",Gu);class Wn extends Nr{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&PT(e,this.from,this.to)?Nn.fail("Structure replace would overwrite content"):Nn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Oi([this.from,this.to-this.from,this.slice.size])}invert(e){return new Wn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Wn(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Wn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ke.empty:new ke(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Wn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ke.empty:new ke(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Wn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Wn(t.from,t.to,ke.fromJSON(e,t.slice),!!t.structure)}}Nr.jsonID("replace",Wn);class Kn extends Nr{constructor(e,t,r,i,s,a,u=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=u}apply(e){if(this.structure&&(PT(e,this.from,this.gapFrom)||PT(e,this.gapTo,this.to)))return Nn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Nn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Nn.fromReplace(e,this.from,this.to,r):Nn.fail("Content does not fit in gap")}getMap(){return new Oi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Kn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new Kn(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Kn(t.from,t.to,t.gapFrom,t.gapTo,ke.fromJSON(e,t.slice),t.insert,!!t.structure)}}Nr.jsonID("replaceAround",Kn);function PT(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function iK(n,e,t,r){let i=[],s=[],a,u;n.doc.nodesBetween(e,t,(c,h,p)=>{if(!c.isInline)return;let m=c.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let v=Math.max(h,e),_=Math.min(h+c.nodeSize,t),A=r.addToSet(m);for(let T=0;T<m.length;T++)m[T].isInSet(A)||(a&&a.to==v&&a.mark.eq(m[T])?a.to=_:i.push(a=new ao(v,_,m[T])));u&&u.to==v?u.to=_:s.push(u=new Za(v,_,r))}}),i.forEach(c=>n.step(c)),s.forEach(c=>n.step(c))}function sK(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(a,u)=>{if(!a.isInline)return;s++;let c=null;if(r instanceof e_){let h=a.marks,p;for(;p=r.isInSet(h);)(c||(c=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(a.marks)&&(c=[r]):c=a.marks;if(c&&c.length){let h=Math.min(u+a.nodeSize,t);for(let p=0;p<c.length;p++){let m=c[p],v;for(let _=0;_<i.length;_++){let A=i[_];A.step==s-1&&m.eq(i[_].style)&&(v=A)}v?(v.to=h,v.step=s):i.push({style:m,from:Math.max(u,e),to:h,step:s})}}}),i.forEach(a=>n.step(new ao(a.from,a.to,a.style)))}function Uw(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),a=[],u=e+1;for(let c=0;c<s.childCount;c++){let h=s.child(c),p=u+h.nodeSize,m=r.matchType(h.type);if(!m)a.push(new Wn(u,p,ke.empty));else{r=m;for(let v=0;v<h.marks.length;v++)t.allowsMarkType(h.marks[v].type)||n.step(new ao(u,p,h.marks[v]));if(i&&h.isText&&t.whitespace!="pre"){let v,_=/\r?\n|\r/g,A;for(;v=_.exec(h.text);)A||(A=new ke(be.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),a.push(new Wn(u+v.index,u+v.index+v[0].length,A))}}u=p}if(!r.validEnd){let c=r.fillBefore(be.empty,!0);n.replace(u,u,new ke(c,0,0))}for(let c=a.length-1;c>=0;c--)n.step(a[c])}function oK(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function $f(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,a,t))return r;if(r==0||i.type.spec.isolating||!oK(i,s,a))break}return null}function aK(n,e,t){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),u=i.after(s+1),c=a,h=u,p=be.empty,m=0;for(let A=s,T=!1;A>t;A--)T||r.index(A)>0?(T=!0,p=be.from(r.node(A).copy(p)),m++):c--;let v=be.empty,_=0;for(let A=s,T=!1;A>t;A--)T||i.after(A+1)<i.end(A)?(T=!0,v=be.from(i.node(A).copy(v)),_++):h++;n.step(new Kn(c,h,a,u,new ke(p.append(v),m,_),p.size-m,!0))}function zw(n,e,t=null,r=n){let i=lK(n,e),s=i&&uK(r,e);return s?i.map(Hk).concat({type:e,attrs:t}).concat(s.map(Hk)):null}function Hk(n){return{type:n,attrs:null}}function lK(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return t.canReplaceWith(r,i,a)?s:null}function uK(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let h=r;c&&h<i;h++)c=c.matchType(t.child(h).type);return!c||!c.validEnd?null:a}function cK(n,e,t){let r=be.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let u=t[a].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=be.from(t[a].type.create(t[a].attrs,r))}let i=e.start,s=e.end;n.step(new Kn(i,s,i,s,new ke(r,0,0),t.length,!0))}function fK(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(a,u)=>{let c=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,c)&&hK(n.doc,n.mapping.slice(s).map(u),r)){let h=null;if(r.schema.linebreakReplacement){let _=r.whitespace=="pre",A=!!r.contentMatch.matchType(r.schema.linebreakReplacement);_&&!A?h=!1:!_&&A&&(h=!0)}h===!1&&K2(n,a,u,s),Uw(n,n.mapping.slice(s).map(u,1),r,void 0,h===null);let p=n.mapping.slice(s),m=p.map(u,1),v=p.map(u+a.nodeSize,1);return n.step(new Kn(m,v,m+1,v-1,new ke(be.from(r.create(c,null,a.marks)),0,0),1,!0)),h===!0&&W2(n,a,u,s),!1}})}function W2(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let a,u=/\r?\n|\r/g;for(;a=u.exec(i.text);){let c=n.mapping.slice(r).map(t+1+s+a.index);n.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function K2(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+s);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function hK(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function dK(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let a=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,a);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Kn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ke(be.from(a),0,0),1,!0))}function ea(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let h=i.depth-1,p=t-2;h>s;h--,p--){let m=i.node(h),v=i.index(h);if(m.type.spec.isolating)return!1;let _=m.content.cutByIndex(v,m.childCount),A=r&&r[p+1];A&&(_=_.replaceChild(0,A.type.create(A.attrs)));let T=r&&r[p]||m;if(!m.canReplace(v+1,m.childCount)||!T.type.validContent(_))return!1}let u=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(u,u,c?c.type:i.node(s+1).type)}function pK(n,e,t=1,r){let i=n.doc.resolve(e),s=be.empty,a=be.empty;for(let u=i.depth,c=i.depth-t,h=t-1;u>c;u--,h--){s=be.from(i.node(u).copy(s));let p=r&&r[h];a=be.from(p?p.type.create(p.attrs,a):i.node(u).copy(a))}n.step(new Wn(e,e,new ke(s.append(a),t,t),!0))}function Ml(n,e){let t=n.resolve(e),r=t.index();return Y2(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function mK(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function Y2(n,e){return!!(n&&e&&!n.isLeaf&&mK(n,e))}function t_(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,a,u=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):t>0?(s=r.node(i+1),u++,a=r.node(i).maybeChild(u)):(s=r.node(i).maybeChild(u-1),a=r.node(i+1)),s&&!s.isTextblock&&Y2(s,a)&&r.node(i).canReplace(u,u+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function gK(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),a=s.node().type;if(i&&a.inlineContent){let p=a.whitespace=="pre",m=!!a.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let u=n.steps.length;if(r===!1){let p=n.doc.resolve(e+t);K2(n,p.node(),p.before(),u)}a.inlineContent&&Uw(n,e+t-1,a,s.node().contentMatchAt(s.index()),r==null);let c=n.mapping.slice(u),h=c.map(e-t);if(n.step(new Wn(h,c.map(e+t,-1),ke.empty,!0)),r===!0){let p=n.doc.resolve(h);W2(n,p.node(),p.before(),n.steps.length)}return n}function yK(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Q2(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let a=r.depth;a>=0;a--){let u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(u>0?1:0),h=r.node(a),p=!1;if(s==1)p=h.canReplace(c,c,i);else{let m=h.contentMatchAt(c).findWrapping(i.firstChild.type);p=m&&h.canReplaceWith(c,c,m[0])}if(p)return u==0?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function n_(n,e,t=e,r=ke.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return X2(i,s,r)?new Wn(e,t,r):new vK(i,s,r).fit()}function X2(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class vK{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=be.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=be.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,u=i.depth;for(;a&&u&&s.childCount==1;)s=s.firstChild.content,a--,u--;let c=new ke(s,a,u);return e>-1?new Kn(r.pos,e,this.$to.pos,this.$to.end(),c,t):c.size||r.pos!=this.$to.pos?new Wn(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=eA(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:c,match:h}=this.frontier[u],p,m=null;if(t==1&&(a?h.matchType(a.type)||(m=h.fillBefore(be.from(a),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:u,parent:s,inject:m};if(t==2&&a&&(p=h.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:u,parent:s,wrap:p};if(s&&h.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=eA(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ke(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=eA(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new ke(Td(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new ke(Td(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let T=0;T<s.length;T++)this.openFrontierNode(s[T]);let a=this.unplaced,u=r?r.content:a.content,c=a.openStart-e,h=0,p=[],{match:m,type:v}=this.frontier[t];if(i){for(let T=0;T<i.childCount;T++)p.push(i.child(T));m=m.matchFragment(i)}let _=u.size+e-(a.content.size-a.openEnd);for(;h<u.childCount;){let T=u.child(h),w=m.matchType(T.type);if(!w)break;h++,(h>1||c==0||T.content.size)&&(m=w,p.push(J2(T.mark(v.allowedMarks(T.marks)),h==1?c:0,h==u.childCount?_:-1)))}let A=h==u.childCount;A||(_=-1),this.placed=Ed(this.placed,t,be.from(p)),this.frontier[t].match=m,A&&_<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,w=u;T<_;T++){let O=w.lastChild;this.frontier.push({type:O.type,match:O.contentMatchAt(O.childCount)}),w=O.content}this.unplaced=A?e==0?ke.empty:new ke(Td(a.content,e-1,1),e-1,_<0?a.openEnd:e-1):new ke(Td(a.content,e,h),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!tA(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=tA(e,t,i,r,s);if(a){for(let u=t-1;u>=0;u--){let{match:c,type:h}=this.frontier[u],p=tA(e,u,h,c,!0);if(!p||p.childCount)continue e}return{depth:t,fit:a,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ed(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ed(this.placed,this.depth,be.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(be.empty,!0);t.childCount&&(this.placed=Ed(this.placed,this.frontier.length,t))}}function Td(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Td(n.firstChild.content,e-1,t)))}function Ed(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Ed(n.lastChild.content,e-1,t)))}function eA(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function J2(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,J2(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(be.empty,!0)))),n.copy(r)}function tA(n,e,t,r,i){let s=n.node(e),a=i?n.indexAfter(e):n.index(e);if(a==s.childCount&&!t.compatibleContent(s.type))return null;let u=r.fillBefore(s.content,!0,a);return u&&!_K(t,s.content,a)?u:null}function _K(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function bK(n){return n.spec.defining||n.spec.definingForContent}function AK(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(X2(i,s,r))return n.step(new Wn(e,t,r));let a=eV(i,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let u=-(i.depth+1);a.unshift(u);for(let v=i.depth,_=i.pos-1;v>0;v--,_--){let A=i.node(v).type.spec;if(A.defining||A.definingAsContext||A.isolating)break;a.indexOf(v)>-1?u=v:i.before(v)==_&&a.splice(1,0,-v)}let c=a.indexOf(u),h=[],p=r.openStart;for(let v=r.content,_=0;;_++){let A=v.firstChild;if(h.push(A),_==r.openStart)break;v=A.content}for(let v=p-1;v>=0;v--){let _=h[v],A=bK(_.type);if(A&&!_.sameMarkup(i.node(Math.abs(u)-1)))p=v;else if(A||!_.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let _=(v+p+1)%(r.openStart+1),A=h[_];if(A)for(let T=0;T<a.length;T++){let w=a[(T+c)%a.length],O=!0;w<0&&(O=!1,w=-w);let M=i.node(w-1),j=i.index(w-1);if(M.canReplaceWith(j,j,A.type,A.marks))return n.replace(i.before(w),O?s.after(w):t,new ke(Z2(r.content,0,r.openStart,_),_,r.openEnd))}}let m=n.steps.length;for(let v=a.length-1;v>=0&&(n.replace(e,t,r),!(n.steps.length>m));v--){let _=a[v];_<0||(e=i.before(_),t=s.after(_))}}function Z2(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(Z2(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(n).append(n);n=a.append(s.matchFragment(a).fillBefore(be.empty,!0))}return n}function TK(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=yK(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new ke(be.from(r),0,0))}function EK(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=eV(r,i);for(let a=0;a<s.length;a++){let u=s[a],c=a==s.length-1;if(c&&u==0||r.node(u).type.contentMatch.validEnd)return n.delete(r.start(u),i.end(u));if(u>0&&(c||r.node(u-1).canReplace(r.index(u-1),i.indexAfter(u-1))))return n.delete(r.before(u),i.after(u))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&i.end(a)-t!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function eV(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class hf extends Nr{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Nn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Nn.fromReplace(e,this.pos,this.pos+1,new ke(be.from(i),0,t.isLeaf?0:1))}getMap(){return Oi.empty}invert(e){return new hf(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new hf(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new hf(t.pos,t.attr,t.value)}}Nr.jsonID("attr",hf);class hp extends Nr{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Nn.ok(r)}getMap(){return Oi.empty}invert(e){return new hp(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new hp(t.attr,t.value)}}Nr.jsonID("docAttr",hp);let kf=class extends Error{};kf=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};kf.prototype=Object.create(Error.prototype);kf.prototype.constructor=kf;kf.prototype.name="TransformError";class tV{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new fp}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new kf(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ke.empty){let i=n_(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new ke(be.from(r),0,0))}delete(e,t){return this.replace(e,t,ke.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return AK(this,e,t,r),this}replaceRangeWith(e,t,r){return TK(this,e,t,r),this}deleteRange(e,t){return EK(this,e,t),this}lift(e,t){return aK(this,e,t),this}join(e,t=1){return gK(this,e,t),this}wrap(e,t){return cK(this,e,t),this}setBlockType(e,t=e,r,i=null){return fK(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return dK(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new hf(e,t,r)),this}setDocAttribute(e,t){return this.step(new hp(e,t)),this}addNodeMark(e,t){return this.step(new el(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof $t)t.isInSet(r.marks)&&this.step(new Gu(e,t));else{let i=r.marks,s,a=[];for(;s=t.isInSet(i);)a.push(new Gu(e,s)),i=s.removeFromSet(i);for(let u=a.length-1;u>=0;u--)this.step(a[u])}return this}split(e,t=1,r){return pK(this,e,t,r),this}addMark(e,t,r){return iK(this,e,t,r),this}removeMark(e,t,r){return sK(this,e,t,r),this}clearIncompatible(e,t,r){return Uw(this,e,t,r),this}}const nA=Object.create(null);class rt{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new wK(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ke.empty){let r=t.content.lastChild,i=null;for(let u=0;u<t.openEnd;u++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let u=0;u<a.length;u++){let{$from:c,$to:h}=a[u],p=e.mapping.slice(s);e.replaceRange(p.map(c.pos),p.map(h.pos),u?ke.empty:t),u==0&&Gk(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:u}=i[s],c=e.mapping.slice(r),h=c.map(a.pos),p=c.map(u.pos);s?e.deleteRange(h,p):(e.replaceRangeWith(h,p,t),Gk(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Je(e):Qc(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=t<0?Qc(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Qc(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Vi(e.node(0))}static atStart(e){return Qc(e,e,0,0,1)||new Vi(e)}static atEnd(e){return Qc(e,e,e.content.size,e.childCount,-1)||new Vi(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=nA[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in nA)throw new RangeError("Duplicate use of selection JSON ID "+e);return nA[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Je.between(this.$anchor,this.$head).getBookmark()}}rt.prototype.visible=!0;class wK{constructor(e,t){this.$from=e,this.$to=t}}let qk=!1;function $k(n){!qk&&!n.parent.inlineContent&&(qk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Je extends rt{constructor(e,t=e){$k(e),$k(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return rt.near(r);let i=e.resolve(t.map(this.anchor));return new Je(i.parent.inlineContent?i:r,r)}replace(e,t=ke.empty){if(super.replace(e,t),t==ke.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Je&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new r_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Je(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=rt.findFrom(t,r,!0)||rt.findFrom(t,-r,!0);if(s)t=s.$head;else return rt.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(rt.findFrom(e,-r,!0)||rt.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Je(e,t)}}rt.jsonID("text",Je);class r_{constructor(e,t){this.anchor=e,this.head=t}map(e){return new r_(e.map(this.anchor),e.map(this.head))}resolve(e){return Je.between(e.resolve(this.anchor),e.resolve(this.head))}}class $e extends rt{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?rt.near(s):new $e(s)}content(){return new ke(be.from(this.node),0,0)}eq(e){return e instanceof $e&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Bw(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new $e(e.resolve(t.anchor))}static create(e,t){return new $e(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}$e.prototype.visible=!1;rt.jsonID("node",$e);class Bw{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new r_(r,r):new Bw(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&$e.isSelectable(r)?new $e(t):rt.near(t)}}class Vi extends rt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ke.empty){if(t==ke.empty){e.delete(0,e.doc.content.size);let r=rt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Vi(e)}map(e){return new Vi(e)}eq(e){return e instanceof Vi}getBookmark(){return SK}}rt.jsonID("all",Vi);const SK={map(){return this},resolve(n){return new Vi(n)}};function Qc(n,e,t,r,i,s=!1){if(e.inlineContent)return Je.create(n,t);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let u=e.child(a);if(u.isAtom){if(!s&&$e.isSelectable(u))return $e.create(n,t-(i<0?u.nodeSize:0))}else{let c=Qc(n,u,t+i,i<0?u.childCount:0,i,s);if(c)return c}t+=u.nodeSize*i}return null}function Gk(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Wn||i instanceof Kn))return;let s=n.mapping.maps[r],a;s.forEach((u,c,h,p)=>{a==null&&(a=p)}),n.setSelection(rt.near(n.doc.resolve(a),t))}const Wk=1,Kk=2,Yk=4;class RK extends tV{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Wk)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&Wk)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Kk,this}ensureMarks(e){return $t.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Kk)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||$t.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(t);s=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),this.selection.empty||this.setSelection(rt.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Yk,this}get scrolledIntoView(){return(this.updated&Yk)>0}}function Qk(n,e){return!e||!n?n:n.bind(e)}class wd{constructor(e,t,r){this.name=e,this.init=Qk(t.init,r),this.apply=Qk(t.apply,r)}}const CK=[new wd("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new wd("selection",{init(n,e){return n.selection||rt.atStart(e.doc)},apply(n){return n.selection}}),new wd("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new wd("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class rA{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=CK.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new wd(r.key,r.spec.state,r))})}}class tf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let c=i?i[a].n:0,h=i?i[a].state:this,p=c<t.length&&u.spec.appendTransaction.call(u,c?t.slice(c):t,h,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<a?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),s=!0}i&&(i[a]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new tf(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new RK(this)}static create(e){let t=new rA(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new tf(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new rA(this.schema,e.plugins),r=t.fields,i=new tf(t);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new rA(e.schema,e.plugins),s=new tf(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=ul.fromJSON(e.schema,t.doc);else if(a.name=="selection")s.selection=rt.fromJSON(s.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let c=r[u],h=c.spec.state;if(c.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){s[a.name]=h.fromJSON.call(c,e,t[u],s);return}}s[a.name]=a.init(e,s)}}),s}}function nV(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=nV(i,e,{})),t[r]=i}return t}class Zn{constructor(e){this.spec=e,this.props={},e.props&&nV(e.props,this,this.props),this.key=e.key?e.key.key:rV("plugin")}getState(e){return e[this.key]}}const iA=Object.create(null);function rV(n){return n in iA?n+"$"+ ++iA[n]:(iA[n]=0,n+"$")}class di{constructor(e="key"){this.key=rV(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const fr=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Of=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let LT=null;const Wo=function(n,e,t){let r=LT||(LT=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},xK=function(){LT=null},Wu=function(n,e,t,r){return t&&(Xk(n,e,t,r,-1)||Xk(n,e,t,r,1))},IK=/^(img|br|input|textarea|hr)$/i;function Xk(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:as(n))){let s=n.parentNode;if(!s||s.nodeType!=1||Vp(n)||IK.test(n.nodeName)||n.contentEditable=="false")return!1;e=fr(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?as(n):0}else return!1}}function as(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function kK(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=as(n)}else if(n.parentNode&&!Vp(n))e=fr(n),n=n.parentNode;else return null}}function OK(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Vp(n))e=fr(n)+1,n=n.parentNode;else return null}}function NK(n,e,t){for(let r=e==0,i=e==as(n);r||i;){if(n==t)return!0;let s=fr(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==as(n)}}function Vp(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const i_=function(n){return n.focusNode&&Wu(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function gu(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function MK(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function DK(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(as(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(as(r.startContainer),r.startOffset)}}}const vo=typeof navigator<"u"?navigator:null,Jk=typeof document<"u"?document:null,Dl=vo&&vo.userAgent||"",VT=/Edge\/(\d+)/.exec(Dl),iV=/MSIE \d/.exec(Dl),UT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Dl),ci=!!(iV||UT||VT),fl=iV?document.documentMode:UT?+UT[1]:VT?+VT[1]:0,Os=!ci&&/gecko\/(\d+)/i.test(Dl);Os&&+(/Firefox\/(\d+)/.exec(Dl)||[0,0])[1];const zT=!ci&&/Chrome\/(\d+)/.exec(Dl),xr=!!zT,sV=zT?+zT[1]:0,qr=!ci&&!!vo&&/Apple Computer/.test(vo.vendor),Nf=qr&&(/Mobile\/\w+/.test(Dl)||!!vo&&vo.maxTouchPoints>2),ss=Nf||(vo?/Mac/.test(vo.platform):!1),PK=vo?/Win/.test(vo.platform):!1,Jo=/Android \d/.test(Dl),Up=!!Jk&&"webkitFontSmoothing"in Jk.documentElement.style,LK=Up?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function VK(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Fo(n,e){return typeof n=="number"?n:n[e]}function UK(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function Zk(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let a=t||n.dom;a;){if(a.nodeType!=1){a=Of(a);continue}let u=a,c=u==s.body,h=c?VK(s):UK(u),p=0,m=0;if(e.top<h.top+Fo(r,"top")?m=-(h.top-e.top+Fo(i,"top")):e.bottom>h.bottom-Fo(r,"bottom")&&(m=e.bottom-e.top>h.bottom-h.top?e.top+Fo(i,"top")-h.top:e.bottom-h.bottom+Fo(i,"bottom")),e.left<h.left+Fo(r,"left")?p=-(h.left-e.left+Fo(i,"left")):e.right>h.right-Fo(r,"right")&&(p=e.right-h.right+Fo(i,"right")),p||m)if(c)s.defaultView.scrollBy(p,m);else{let _=u.scrollLeft,A=u.scrollTop;m&&(u.scrollTop+=m),p&&(u.scrollLeft+=p);let T=u.scrollLeft-_,w=u.scrollTop-A;e={left:e.left-T,top:e.top-w,right:e.right-T,bottom:e.bottom-w}}let v=c?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(v))break;a=v=="absolute"?a.offsetParent:Of(a)}}function zK(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let u=n.root.elementFromPoint(s,a);if(!u||u==n.dom||!n.dom.contains(u))continue;let c=u.getBoundingClientRect();if(c.top>=t-20){r=u,i=c.top;break}}return{refDOM:r,refTop:i,stack:oV(n.dom)}}function oV(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Of(r));return e}function BK({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;aV(t,r==0?0:r-e)}function aV(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Hc=null;function jK(n){if(n.setActive)return n.setActive();if(Hc)return n.focus(Hc);let e=oV(n);n.focus(Hc==null?{get preventScroll(){return Hc={preventScroll:!0},!0}}:void 0),Hc||(Hc=!1,aV(e,0))}function lV(n,e){let t,r=2e8,i,s=0,a=e.top,u=e.top,c,h;for(let p=n.firstChild,m=0;p;p=p.nextSibling,m++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=Wo(p).getClientRects();else continue;for(let _=0;_<v.length;_++){let A=v[_];if(A.top<=a&&A.bottom>=u){a=Math.max(A.bottom,a),u=Math.min(A.top,u);let T=A.left>e.left?A.left-e.left:A.right<e.left?e.left-A.right:0;if(T<r){t=p,r=T,i=T&&t.nodeType==3?{left:A.right<e.left?A.right:A.left,top:e.top}:e,p.nodeType==1&&T&&(s=m+(e.left>=(A.left+A.right)/2?1:0));continue}}else A.top>e.top&&!c&&A.left<=e.left&&A.right>=e.left&&(c=p,h={left:Math.max(A.left,Math.min(A.right,e.left)),top:A.top});!t&&(e.left>=A.right&&e.top>=A.top||e.left>=A.left&&e.top>=A.bottom)&&(s=m+1)}}return!t&&c&&(t=c,i=h,r=0),t&&t.nodeType==3?FK(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:lV(t,i)}function FK(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=Ua(r,1);if(s.top!=s.bottom&&jw(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function jw(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function HK(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function qK(n,e,t){let{node:r,offset:i}=lV(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function $K(n,e,t,r){let i=-1;for(let s=e,a=!1;s!=n.dom;){let u=n.docView.nearestDesc(s,!0),c;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((c=u.dom.getBoundingClientRect()).width||c.height)&&(u.node.isBlock&&u.parent&&(!a&&c.left>r.left||c.top>r.top?i=u.posBefore:(!a&&c.right<r.left||c.bottom<r.top)&&(i=u.posAfter),a=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?u.posBefore:u.posAfter;s=u.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function uV(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let a=n.childNodes[s];if(a.nodeType==1){let u=a.getClientRects();for(let c=0;c<u.length;c++){let h=u[c];if(jw(e,h))return uV(a,e,h)}}if((s=(s+1)%r)==i)break}return n}function GK(n,e){let t=n.dom.ownerDocument,r,i=0,s=DK(t,e.left,e.top);s&&({node:r,offset:i}=s);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let h=n.dom.getBoundingClientRect();if(!jw(e,h)||(a=uV(n.dom,e,h),!a))return null}if(qr)for(let h=a;r&&h;h=Of(h))h.draggable&&(r=void 0);if(a=HK(a,e),r){if(Os&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let h;Up&&i&&r.nodeType==1&&(h=r.childNodes[i-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(u=$K(n,r,i,e))}u==null&&(u=qK(n,a,e));let c=n.docView.nearestDesc(a,!0);return{pos:u,inside:c?c.posAtStart-c.border:-1}}function eO(n){return n.top<n.bottom||n.left<n.right}function Ua(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(eO(r))return r}return Array.prototype.find.call(t,eO)||n.getBoundingClientRect()}const WK=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function cV(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),a=Up||Os;if(r.nodeType==3)if(a&&(WK.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let c=Ua(Wo(r,i,i),t);if(Os&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let h=Ua(Wo(r,i-1,i-1),-1);if(h.top==c.top){let p=Ua(Wo(r,i,i+1),-1);if(p.top!=c.top)return rd(p,p.left<h.left)}}return c}else{let c=i,h=i,p=t<0?1:-1;return t<0&&!i?(h++,p=-1):t>=0&&i==r.nodeValue.length?(c--,p=1):t<0?c--:h++,rd(Ua(Wo(r,c,h),p),p<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==as(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return sA(c.getBoundingClientRect(),!1)}if(s==null&&i<as(r)){let c=r.childNodes[i];if(c.nodeType==1)return sA(c.getBoundingClientRect(),!0)}return sA(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==as(r))){let c=r.childNodes[i-1],h=c.nodeType==3?Wo(c,as(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(h)return rd(Ua(h,1),!1)}if(s==null&&i<as(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let h=c?c.nodeType==3?Wo(c,0,a?0:1):c.nodeType==1?c:null:null;if(h)return rd(Ua(h,-1),!0)}return rd(Ua(r.nodeType==3?Wo(r):r,-t),t>=0)}function rd(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function sA(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function fV(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function KK(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return fV(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(s,!0);if(!u)break;if(u.node.isBlock){s=u.contentDOM||u.dom;break}s=u.dom.parentNode}let a=cV(n,i.pos,1);for(let u=s.firstChild;u;u=u.nextSibling){let c;if(u.nodeType==1)c=u.getClientRects();else if(u.nodeType==3)c=Wo(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<c.length;h++){let p=c[h];if(p.bottom>p.top+1&&(t=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const YK=/[\u0590-\u08ac]/;function QK(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,u=n.domSelection();return u?!YK.test(r.parent.textContent)||!u.modify?t=="left"||t=="backward"?s:a:fV(n,e,()=>{let{focusNode:c,focusOffset:h,anchorNode:p,anchorOffset:m}=n.domSelectionRange(),v=u.caretBidiLevel;u.modify("move",t,"character");let _=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:A,focusOffset:T}=n.domSelectionRange(),w=A&&!_.contains(A.nodeType==1?A:A.parentNode)||c==A&&h==T;try{u.collapse(p,m),c&&(c!=p||h!=m)&&u.extend&&u.extend(c,h)}catch{}return v!=null&&(u.caretBidiLevel=v),w}):r.pos==r.start()||r.pos==r.end()}let tO=null,nO=null,rO=!1;function XK(n,e,t){return tO==e&&nO==t?rO:(tO=e,nO=t,rO=t=="up"||t=="down"?KK(n,e,t):QK(n,e,t))}const cs=0,iO=1,Eu=2,_o=3;class zp{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=cs,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>fr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!t||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let u=i.children[a];if(u.size){i=u;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],u=s+a.size;if(u>e||a instanceof dV){i=e-s;break}s=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof hV&&s.side>=0;r--);if(t<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&t&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?fr(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?fr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,u=0;;u++){let c=this.children[u],h=a+c.size;if(i==-1&&e<=h){let p=a+c.border;if(e>=p&&t<=h-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,p);e=a;for(let m=u;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=fr(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(h>t||u==this.children.length-1)){t=h;for(let p=u+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=fr(m.dom);break}t+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),a=Math.max(e,t);for(let _=0,A=0;_<this.children.length;_++){let T=this.children[_],w=A+T.size;if(s>A&&a<w)return T.setSelection(e-A-T.border,t-A-T.border,r,i);A=w}let u=this.domFromPos(e,e?-1:1),c=t==e?u:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((Os||qr)&&e==t){let{node:_,offset:A}=u;if(_.nodeType==3){if(m=!!(A&&_.nodeValue[A-1]==`
`),m&&A==_.nodeValue.length)for(let T=_,w;T;T=T.parentNode){if(w=T.nextSibling){w.nodeName=="BR"&&(u=c={node:w.parentNode,offset:fr(w)+1});break}let O=T.pmViewDesc;if(O&&O.node&&O.node.isBlock)break}}else{let T=_.childNodes[A-1];m=T&&(T.nodeName=="BR"||T.contentEditable=="false")}}if(Os&&p.focusNode&&p.focusNode!=c.node&&p.focusNode.nodeType==1){let _=p.focusNode.childNodes[p.focusOffset];_&&_.contentEditable=="false"&&(i=!0)}if(!(i||m&&qr)&&Wu(u.node,u.offset,p.anchorNode,p.anchorOffset)&&Wu(c.node,c.offset,p.focusNode,p.focusOffset))return;let v=!1;if((h.extend||e==t)&&!m){h.collapse(u.node,u.offset);try{e!=t&&h.extend(c.node,c.offset),v=!0}catch{}}if(!v){if(e>t){let A=u;u=c,c=A}let _=document.createRange();_.setEnd(c.node,c.offset),_.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(_)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let u=r+s.border,c=a-s.border;if(e>=u&&t<=c){this.dirty=e==r||t==a?Eu:iO,e==u&&t==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=_o:s.markDirty(e-u,t-u);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Eu:_o}r=a}this.dirty=Eu}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Eu:iO;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class hV extends zp{constructor(e,t,r,i){let s,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(a.nodeType!=1){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==cs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class JK extends zp{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ku extends zp{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],a=s&&s(t,i,r);return(!a||!a.dom)&&(a=rc.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Ku(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&_o||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=_o&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=cs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=cs}}slice(e,t,r){let i=Ku.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;t<a&&(s=jT(s,t,a,r)),e>0&&(s=jT(s,0,e,r));for(let u=0;u<s.length;u++)s[u].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class hl extends zp{constructor(e,t,r,i,s,a,u,c,h){super(e,[],s,a),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(e,t,r,i,s,a){let u=s.nodeViews[t.type.name],c,h=u&&u(t,s,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},r,i),p=h&&h.dom,m=h&&h.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=rc.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!m&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let v=p;return p=gV(p,r,t),h?c=new ZK(e,t,r,i,p,m||null,v,h,s,a+1):t.isText?new s_(e,t,r,i,p,v,s):new hl(e,t,r,i,p,m||null,v,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>be.empty)}return e}matchesNode(e,t,r){return this.dirty==cs&&e.eq(this.node)&&Ly(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,a=s&&s.pos>-1?s:null,u=s&&s.pos<0,c=new tY(this,a&&a.node,e);iY(this.node,this.innerDeco,(h,p,m)=>{h.spec.marks?c.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!m&&c.syncToMarks(p==this.node.childCount?$t.none:this.node.child(p).marks,r,e),c.placeWidget(h,e,i)},(h,p,m,v)=>{c.syncToMarks(h.marks,r,e);let _;c.findNodeMatch(h,p,m,v)||u&&e.state.selection.from>i&&e.state.selection.to<i+h.nodeSize&&(_=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(h,p,m,_,e)||c.updateNextNode(h,p,m,e,v,i)||c.addNode(h,p,m,e,i),i+=h.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Eu)&&(a&&this.protectLocalComposition(e,a),pV(this.contentDOM,this.children,e),Nf&&sY(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Je)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,u=oY(this.node.content,a,r-t,i-t);return u<0?null:{node:s,pos:u,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new JK(this,s,t,i);e.input.compositionNodes.push(a),this.children=jT(this.children,r,r+i.length,e,a)}update(e,t,r,i){return this.dirty==_o||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=cs}updateOuterDeco(e){if(Ly(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=mV(this.dom,this.nodeDOM,BT(this.outerDeco,this.node,t),BT(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function sO(n,e,t,r,i){gV(r,e,n);let s=new hl(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class s_ extends hl{constructor(e,t,r,i,s,a,u){super(e,t,r,i,s,null,a,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==_o||this.dirty!=cs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=cs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=cs,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new s_(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=_o)}get domAtom(){return!1}isText(e){return this.node.text==e}}class dV extends zp{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==cs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class ZK extends hl{constructor(e,t,r,i,s,a,u,c,h,p){super(e,t,r,i,s,a,u,h,p),this.spec=c}update(e,t,r,i){if(this.dirty==_o)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function pV(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],u=a.dom;if(u.parentNode==n){for(;u!=r;)r=oO(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(u,r);if(a instanceof Ku){let c=r?r.previousSibling:n.lastChild;pV(a.contentDOM,a.children,t),r=c?c.nextSibling:n.firstChild}}for(;r;)r=oO(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Vd=function(n){n&&(this.nodeName=n)};Vd.prototype=Object.create(null);const wu=[new Vd];function BT(n,e,t){if(n.length==0)return wu;let r=t?wu[0]:new Vd,i=[r];for(let s=0;s<n.length;s++){let a=n[s].type.attrs;if(a){a.nodeName&&i.push(r=new Vd(a.nodeName));for(let u in a){let c=a[u];c!=null&&(t&&i.length==1&&i.push(r=new Vd(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+c:u=="style"?r.style=(r.style?r.style+";":"")+c:u!="nodeName"&&(r[u]=c))}}}return i}function mV(n,e,t,r){if(t==wu&&r==wu)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],u=t[s];if(s){let c;u&&u.nodeName==a.nodeName&&i!=n&&(c=i.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(i),u=wu[0]),i=c}eY(i,u||wu[0],a)}return i}function eY(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function gV(n,e,t){return mV(n,n,wu,BT(e,t,n.nodeType!=1))}function Ly(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function oO(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class tY{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=nY(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=cs,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let h=this.top.children[c];if(h.matchesMark(e[s])&&!this.isLocked(h.dom)){u=c;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let c=Ku.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))s=this.top.children.indexOf(a,this.index);else for(let u=this.index,c=Math.min(this.top.children.length,u+5);u<c;u++){let h=this.top.children[u];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){s=u;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let a=this.top.children[i];return a.dirty==_o&&a.dom==a.contentDOM&&(a.dirty=Eu),a.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,a){for(let u=this.index;u<this.top.children.length;u++){let c=this.top.children[u];if(c instanceof hl){let h=this.preMatch.matched.get(c);if(h!=null&&h!=s)return!1;let p=c.dom,m,v=this.isLocked(p)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=_o&&Ly(t,c.outerDeco));if(!v&&c.update(e,t,r,i))return this.destroyBetween(this.index,u),c.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(m=this.recreateWrapper(c,e,t,r,i,a)))return this.destroyBetween(this.index,u),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Eu,m.updateChildren(i,a+1),m.dirty=cs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Ly(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=hl.create(this.top,t,r,i,s,a);if(u.contentDOM){u.children=e.children,e.children=[];for(let c of u.children)c.parent=u}return e.destroy(),u}addNode(e,t,r,i,s){let a=hl.create(this.top,e,t,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new hV(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Ku;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof s_)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((qr||xr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new dV(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function nY(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,a=[];e:for(;i>0;){let u;for(;;)if(r){let h=t.children[r-1];if(h instanceof Ku)t=h,r=h.children.length;else{u=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let c=u.node;if(c){if(c!=n.child(i-1))break;--i,s.set(u,i),a.push(u)}}return{index:i,matched:s,matches:a.reverse()}}function rY(n,e){return n.type.side-e.type.side}function iY(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let h=0;h<n.childCount;h++){let p=n.child(h);r(p,i,e.forChild(s,p),h),s+=p.nodeSize}return}let a=0,u=[],c=null;for(let h=0;;){let p,m;for(;a<i.length&&i[a].to==s;){let w=i[a++];w.widget&&(p?(m||(m=[p])).push(w):p=w)}if(p)if(m){m.sort(rY);for(let w=0;w<m.length;w++)t(m[w],h,!!c)}else t(p,h,!!c);let v,_;if(c)_=-1,v=c,c=null;else if(h<n.childCount)_=h,v=n.child(h++);else break;for(let w=0;w<u.length;w++)u[w].to<=s&&u.splice(w--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)u.push(i[a++]);let A=s+v.nodeSize;if(v.isText){let w=A;a<i.length&&i[a].from<w&&(w=i[a].from);for(let O=0;O<u.length;O++)u[O].to<w&&(w=u[O].to);w<A&&(c=v.cut(w-s),v=v.cut(0,w-s),A=w,_=-1)}else for(;a<i.length&&i[a].to<A;)a++;let T=v.isInline&&!v.isLeaf?u.filter(w=>!w.inline):u.slice();r(v,T,e.forChild(s,v),_),s=A}}function sY(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function oY(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let a=n.child(i++),u=s;if(s+=a.nodeSize,!a.isText)continue;let c=a.text;for(;i<n.childCount;){let h=n.child(i++);if(s+=h.nodeSize,!h.isText)break;c+=h.text}if(s>=t){if(s>=r&&c.slice(r-e.length-u,r-u)==e)return r-e.length;let h=u<r?c.lastIndexOf(e,r-u-1):-1;if(h>=0&&h+e.length+u>=t)return u+h;if(t==r&&c.length>=r+e.length-u&&c.slice(r-u,r-u+e.length)==e)return r}}return-1}function jT(n,e,t,r,i){let s=[];for(let a=0,u=0;a<n.length;a++){let c=n[a],h=u,p=u+=c.size;h>=t||p<=e?s.push(c):(h<e&&s.push(c.slice(0,e-h,r)),i&&(s.push(i),i=void 0),p>t&&s.push(c.slice(t-h,c.size,r)))}return s}function Fw(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let u=r.resolve(a),c,h;if(i_(t)){for(c=a;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&$e.isSelectable(m)&&i.parent&&!(m.isInline&&NK(t.focusNode,t.focusOffset,i.dom))){let v=i.posBefore;h=new $e(a==v?u:r.resolve(v))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let m=a,v=a;for(let _=0;_<t.rangeCount;_++){let A=t.getRangeAt(_);m=Math.min(m,n.docView.posFromDOM(A.startContainer,A.startOffset,1)),v=Math.max(v,n.docView.posFromDOM(A.endContainer,A.endOffset,-1))}if(m<0)return null;[c,a]=v==n.state.selection.anchor?[v,m]:[m,v],u=r.resolve(a)}else c=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null}let p=r.resolve(c);if(!h){let m=e=="pointer"||n.state.selection.head<u.pos&&!s?1:-1;h=Hw(n,p,u,m)}return h}function yV(n){return n.editable?n.hasFocus():_V(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function ta(n,e=!1){let t=n.state.selection;if(vV(n,t),!!yV(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&xr){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Wu(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)lY(n);else{let{anchor:r,head:i}=t,s,a;aO&&!(t instanceof Je)&&(t.$from.parent.inlineContent||(s=lO(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=lO(n,t.to))),n.docView.setSelection(r,i,n,e),aO&&(s&&uO(s),a&&uO(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&aY(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const aO=qr||xr&&sV<63;function lO(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(qr&&i&&i.contentEditable=="false")return oA(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return oA(i);if(s)return oA(s)}}function oA(n){return n.contentEditable="true",qr&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function uO(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function aY(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!yV(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function lY(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,fr(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&ci&&fl<=11&&(r.disabled=!0,r.disabled=!1)}function vV(n,e){if(e instanceof $e){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(cO(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else cO(n)}function cO(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Hw(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Je.between(e,t,r)}function fO(n){return n.editable&&!n.hasFocus()?!1:_V(n)}function _V(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function uY(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Wu(e.node,e.offset,t.anchorNode,t.anchorOffset)}function FT(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&rt.findFrom(s,e)}function za(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function hO(n,e,t){let r=n.state.selection;if(r instanceof Je)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return za(n,new Je(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=FT(n.state,e);return i&&i instanceof $e?za(n,i):!1}else if(!(ss&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let u=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=n.docView.descAt(u))&&!a.contentDOM?$e.isSelectable(s)?za(n,new $e(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):Up?za(n,new Je(n.state.doc.resolve(e<0?u:u+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof $e&&r.node.isInline)return za(n,new Je(e>0?r.$to:r.$from));{let i=FT(n.state,e);return i?za(n,i):!1}}}function Vy(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Ud(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function qc(n,e){return e<0?cY(n):fY(n)}function cY(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,a=!1;for(Os&&t.nodeType==1&&r<Vy(t)&&Ud(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let u=t.childNodes[r-1];if(Ud(u,-1))i=t,s=--r;else if(u.nodeType==3)t=u,r=t.nodeValue.length;else break}}else{if(bV(t))break;{let u=t.previousSibling;for(;u&&Ud(u,-1);)i=t.parentNode,s=fr(u),u=u.previousSibling;if(u)t=u,r=Vy(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?HT(n,t,r):i&&HT(n,i,s)}function fY(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=Vy(t),s,a;for(;;)if(r<i){if(t.nodeType!=1)break;let u=t.childNodes[r];if(Ud(u,1))s=t,a=++r;else break}else{if(bV(t))break;{let u=t.nextSibling;for(;u&&Ud(u,1);)s=u.parentNode,a=fr(u)+1,u=u.nextSibling;if(u)t=u,r=0,i=Vy(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&HT(n,s,a)}function bV(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function hY(n,e){for(;n&&e==n.childNodes.length&&!Vp(n);)e=fr(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function dY(n,e){for(;n&&!e&&!Vp(n);)e=fr(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function HT(n,e,t){if(e.nodeType!=3){let s,a;(a=hY(e,t))?(e=a,t=0):(s=dY(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(i_(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&ta(n)},50)}function dO(n,e){let t=n.state.doc.resolve(e);if(!(xr||PK)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function pO(n,e,t){let r=n.state.selection;if(r instanceof Je&&!r.empty||t.indexOf("s")>-1||ss&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=FT(n.state,e);if(a&&a instanceof $e)return za(n,a)}if(!i.parent.inlineContent){let a=e<0?i:s,u=r instanceof Vi?rt.near(a,e):rt.findFrom(a,e);return u?za(n,u):!1}return!1}function mO(n,e){if(!(n.state.selection instanceof Je))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let a=n.state.tr;return e<0?a.delete(t.pos-s.nodeSize,t.pos):a.delete(t.pos,t.pos+s.nodeSize),n.dispatch(a),!0}return!1}function gO(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function pY(n){if(!qr||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;gO(n,r,"true"),setTimeout(()=>gO(n,r,"false"),20)}return!1}function mY(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function gY(n,e){let t=e.keyCode,r=mY(e);if(t==8||ss&&t==72&&r=="c")return mO(n,-1)||qc(n,-1);if(t==46&&!e.shiftKey||ss&&t==68&&r=="c")return mO(n,1)||qc(n,1);if(t==13||t==27)return!0;if(t==37||ss&&t==66&&r=="c"){let i=t==37?dO(n,n.state.selection.from)=="ltr"?-1:1:-1;return hO(n,i,r)||qc(n,i)}else if(t==39||ss&&t==70&&r=="c"){let i=t==39?dO(n,n.state.selection.from)=="ltr"?1:-1:1;return hO(n,i,r)||qc(n,i)}else{if(t==38||ss&&t==80&&r=="c")return pO(n,-1,r)||qc(n,-1);if(t==40||ss&&t==78&&r=="c")return pY(n)||pO(n,1,r)||qc(n,1);if(r==(ss?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function qw(n,e){n.someProp("transformCopied",_=>{e=_(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let _=r.firstChild;t.push(_.type.name,_.attrs!=_.type.defaultAttrs?_.attrs:null),r=_.content}let a=n.someProp("clipboardSerializer")||rc.fromSchema(n.state.schema),u=RV(),c=u.createElement("div");c.appendChild(a.serializeFragment(r,{document:u}));let h=c.firstChild,p,m=0;for(;h&&h.nodeType==1&&(p=SV[h.nodeName.toLowerCase()]);){for(let _=p.length-1;_>=0;_--){let A=u.createElement(p[_]);for(;c.firstChild;)A.appendChild(c.firstChild);c.appendChild(A),m++}h=c.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(t)}`);let v=n.someProp("clipboardTextSerializer",_=>_(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:v,slice:e}}function AV(n,e,t,r,i){let s=i.parent.type.spec.code,a,u;if(!t&&!e)return null;let c=e&&(r||s||!t);if(c){if(n.someProp("transformPastedText",v=>{e=v(e,s||r,n)}),s)return e?new ke(be.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ke.empty;let m=n.someProp("clipboardTextParser",v=>v(e,i,r,n));if(m)u=m;else{let v=i.marks(),{schema:_}=n.state,A=rc.fromSchema(_);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(T=>{let w=a.appendChild(document.createElement("p"));T&&w.appendChild(A.serializeNode(_.text(T,v)))})}}else n.someProp("transformPastedHTML",m=>{t=m(t,n)}),a=bY(t),Up&&AY(a);let h=a&&a.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let v=a.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;a=v}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||cl.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||p),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!yY.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)u=TY(yO(u,+p[1],+p[2]),p[4]);else if(u=ke.maxOpen(vY(u.content,i),!0),u.openStart||u.openEnd){let m=0,v=0;for(let _=u.content.firstChild;m<u.openStart&&!_.type.spec.isolating;m++,_=_.firstChild);for(let _=u.content.lastChild;v<u.openEnd&&!_.type.spec.isolating;v++,_=_.lastChild);u=yO(u,m,v)}return n.someProp("transformPasted",m=>{u=m(u,n)}),u}const yY=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function vY(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,a=[];if(n.forEach(u=>{if(!a)return;let c=i.findWrapping(u.type),h;if(!c)return a=null;if(h=a.length&&s.length&&EV(c,s,u,a[a.length-1],0))a[a.length-1]=h;else{a.length&&(a[a.length-1]=wV(a[a.length-1],s.length));let p=TV(u,c);a.push(p),i=i.matchType(p.type),s=c}}),a)return be.from(a)}return n}function TV(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,be.from(n));return n}function EV(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=EV(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(be.from(TV(t,n,i+1))))}}function wV(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,wV(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(be.empty,!0);return n.copy(t.append(r))}function qT(n,e,t,r,i,s){let a=e<0?n.firstChild:n.lastChild,u=a.content;return n.childCount>1&&(s=0),i<r-1&&(u=qT(u,e,t,r,i+1,s)),i>=t&&(u=e<0?a.contentMatchAt(0).fillBefore(u,s<=i).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(be.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(u))}function yO(n,e,t){return e<n.openStart&&(n=new ke(qT(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ke(qT(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const SV={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let vO=null;function RV(){return vO||(vO=document.implementation.createHTMLDocument("title"))}let aA=null;function _Y(n){let e=window.trustedTypes;return e?(aA||(aA=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),aA.createHTML(n)):n}function bY(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=RV().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&SV[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=_Y(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function AY(n){let e=n.querySelectorAll(xr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function TY(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:a}=n;for(let u=r.length-2;u>=0;u-=2){let c=t.nodes[r[u]];if(!c||c.hasRequiredAttrs())break;i=be.from(c.create(r[u+1],i)),s++,a++}return new ke(i,s,a)}const $r={},Gr={},EY={touchstart:!0,touchmove:!0};class wY{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function SY(n){for(let e in $r){let t=$r[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{CY(n,r)&&!$w(n,r)&&(n.editable||!(r.type in Gr))&&t(n,r)},EY[e]?{passive:!0}:void 0)}qr&&n.dom.addEventListener("input",()=>null),$T(n)}function tl(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function RY(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function $T(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>$w(n,r))})}function $w(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function CY(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function xY(n,e){!$w(n,e)&&$r[e.type]&&(n.editable||!(e.type in Gr))&&$r[e.type](n,e)}Gr.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!xV(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Jo&&xr&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Nf&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,gu(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||gY(n,t)?t.preventDefault():tl(n,"key")};Gr.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Gr.keypress=(n,e)=>{let t=e;if(xV(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||ss&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Je)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function o_(n){return{left:n.clientX,top:n.clientY}}function IY(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Gw(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(n.someProp(e,u=>a>s.depth?u(n,t,s.nodeAfter,s.before(a),i,!0):u(n,t,s.node(a),s.before(a),i,!1)))return!0;return!1}function df(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function kY(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&$e.isSelectable(r)?(df(n,new $e(t)),!0):!1}function OY(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof $e&&(r=t.node);let s=n.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let u=a>s.depth?s.nodeAfter:s.node(a);if($e.isSelectable(u)){r&&t.$from.depth>0&&a>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(a);break}}return i!=null?(df(n,$e.create(n.state.doc,i)),!0):!1}function NY(n,e,t,r,i){return Gw(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?OY(n,t):kY(n,t))}function MY(n,e,t,r){return Gw(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function DY(n,e,t,r){return Gw(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||PY(n,t,r)}function PY(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(df(n,Je.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),u=i.before(s);if(a.inlineContent)df(n,Je.create(r,u+1,u+1+a.content.size));else if($e.isSelectable(a))df(n,$e.create(r,u));else continue;return!0}}function Ww(n){return Uy(n)}const CV=ss?"metaKey":"ctrlKey";$r.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Ww(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&IY(t,n.input.lastClick)&&!t[CV]&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s};let a=n.posAtCoords(o_(t));a&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new LY(n,a,t,!!r)):(s=="doubleClick"?MY:DY)(n,a.pos,a.inside,t)?t.preventDefault():tl(n,"pointer"))};class LY{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[CV],this.allowDefault=r.shiftKey;let s,a;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),a=t.inside;else{let p=e.state.doc.resolve(t.pos);s=p.parent,a=p.depth?p.before():0}const u=i?null:r.target,c=u?e.docView.nearestDesc(u,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:h}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||h instanceof $e&&h.from<=a&&h.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Os&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),tl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ta(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(o_(e))),this.updateAllowDefault(e),this.allowDefault||!t?tl(this.view,"pointer"):NY(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||qr&&this.mightDrag&&!this.mightDrag.node.isAtom||xr&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(df(this.view,rt.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):tl(this.view,"pointer")}move(e){this.updateAllowDefault(e),tl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}$r.touchstart=n=>{n.input.lastTouch=Date.now(),Ww(n),tl(n,"pointer")};$r.touchmove=n=>{n.input.lastTouch=Date.now(),tl(n,"pointer")};$r.contextmenu=n=>Ww(n);function xV(n,e){return n.composing?!0:qr&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const VY=Jo?5e3:-1;Gr.compositionstart=Gr.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Je&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Uy(n,!0),n.markCursor=null;else if(Uy(n,!e.selection.empty),Os&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let u=n.domSelection();u&&u.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}n.input.composing=!0}IV(n,VY)};Gr.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,IV(n,20))};function IV(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Uy(n),e))}function kV(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=zY());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function UY(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=kK(e.focusNode,e.focusOffset),r=OK(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function zY(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Uy(n,e=!1){if(!(Jo&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),kV(n),e||n.docView&&n.docView.dirty){let t=Fw(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function BY(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const dp=ci&&fl<15||Nf&&LK<604;$r.copy=Gr.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=dp?null:t.clipboardData,a=r.content(),{dom:u,text:c}=qw(n,a);s?(t.preventDefault(),s.clearData(),s.setData("text/html",u.innerHTML),s.setData("text/plain",c)):BY(n,u),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function jY(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function FY(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?pp(n,r.value,null,i,e):pp(n,r.textContent,r.innerHTML,i,e)},50)}function pp(n,e,t,r,i){let s=AV(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",c=>c(n,i,s||ke.empty)))return!0;if(!s)return!1;let a=jY(s),u=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(s);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function OV(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Gr.paste=(n,e)=>{let t=e;if(n.composing&&!Jo)return;let r=dp?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&pp(n,OV(r),r.getData("text/html"),i,t)?t.preventDefault():FY(n,t)};class NV{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const HY=ss?"altKey":"ctrlKey";function MV(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[HY]}$r.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(o_(t)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof $e?i.to-1:i.to))){if(r&&r.mightDrag)a=$e.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let m=n.docView.nearestDesc(t.target,!0);m&&m.node.type.spec.draggable&&m!=n.docView&&(a=$e.create(n.state.doc,m.posBefore))}}let u=(a||n.state.selection).content(),{dom:c,text:h,slice:p}=qw(n,u);(!t.dataTransfer.files.length||!xr||sV>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(dp?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",dp||t.dataTransfer.setData("text/plain",h),n.dragging=new NV(p,MV(n,t),a)};$r.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Gr.dragover=Gr.dragenter=(n,e)=>e.preventDefault();Gr.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(o_(t));if(!i)return;let s=n.state.doc.resolve(i.pos),a=r&&r.slice;a?n.someProp("transformPasted",A=>{a=A(a,n)}):a=AV(n,OV(t.dataTransfer),dp?null:t.dataTransfer.getData("text/html"),!1,s);let u=!!(r&&MV(n,t));if(n.someProp("handleDrop",A=>A(n,t,a||ke.empty,u))){t.preventDefault();return}if(!a)return;t.preventDefault();let c=a?Q2(n.state.doc,s.pos,a):s.pos;c==null&&(c=s.pos);let h=n.state.tr;if(u){let{node:A}=r;A?A.replace(h):h.deleteSelection()}let p=h.mapping.map(c),m=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,v=h.doc;if(m?h.replaceRangeWith(p,p,a.content.firstChild):h.replaceRange(p,p,a),h.doc.eq(v))return;let _=h.doc.resolve(p);if(m&&$e.isSelectable(a.content.firstChild)&&_.nodeAfter&&_.nodeAfter.sameMarkup(a.content.firstChild))h.setSelection(new $e(_));else{let A=h.mapping.map(c);h.mapping.maps[h.mapping.maps.length-1].forEach((T,w,O,M)=>A=M),h.setSelection(Hw(n,_,h.doc.resolve(A)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};$r.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&ta(n)},20))};$r.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};$r.beforeinput=(n,e)=>{if(xr&&Jo&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,gu(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Gr)$r[n]=Gr[n];function mp(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class zy{constructor(e,t){this.toDOM=e,this.spec=t||Pu,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:a}=e.mapResult(t.from+i,this.side<0?-1:1);return a?null:new Pi(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof zy&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&mp(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class dl{constructor(e,t){this.attrs=e,this.spec=t||Pu}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Pi(s,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof dl&&mp(this.attrs,e.attrs)&&mp(this.spec,e.spec)}static is(e){return e.type instanceof dl}destroy(){}}class Kw{constructor(e,t){this.attrs=e,this.spec=t||Pu}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let a=e.mapResult(t.to+i,-1);return a.deleted||a.pos<=s.pos?null:new Pi(s.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof Kw&&mp(this.attrs,e.attrs)&&mp(this.spec,e.spec)}destroy(){}}class Pi{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Pi(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Pi(e,e,new zy(t,r))}static inline(e,t,r,i){return new Pi(e,t,new dl(r,i))}static node(e,t,r,i){return new Pi(e,t,new Kw(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof dl}get widget(){return this.type instanceof zy}}const Xc=[],Pu={};class kn{constructor(e,t){this.local=e.length?e:Xc,this.children=t.length?t:Xc}static create(e,t){return t.length?By(t,e,0,Pu):Tr}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=t&&u.to>=e&&(!s||s(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let u=this.children[a]+1;this.children[a+2].findInner(e-u,t-u,r,i+u,s)}}map(e,t,r){return this==Tr||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Pu)}mapInner(e,t,r,i,s){let a;for(let u=0;u<this.local.length;u++){let c=this.local[u].map(e,r,i);c&&c.type.valid(t,c)?(a||(a=[])).push(c):s.onRemove&&s.onRemove(this.local[u].spec)}return this.children.length?qY(this.children,a||[],e,t,r,i,s):a?new kn(a.sort(Lu),Xc):Tr}add(e,t){return t.length?this==Tr?kn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((u,c)=>{let h=c+r,p;if(p=PV(t,u,h)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(u,p,h+1):i.splice(s,0,c,c+u.nodeSize,By(p,u,h+1,Pu)),s+=3}});let a=DV(s?LV(t):t,-r);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||a.splice(u--,1);return new kn(a.length?this.local.concat(a).sort(Lu):this.local,i||this.children)}remove(e){return e.length==0||this==Tr?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,u=r[s]+t,c=r[s+1]+t;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>u&&m.to<c&&(e[p]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let h=r[s+2].removeInner(a,u+1);h!=Tr?r[s+2]=h:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let u=0;u<i.length;u++)i[u].eq(a,t)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new kn(i,r):Tr}forChild(e,t){if(this==Tr)return this;if(t.isLeaf)return kn.empty;let r,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let s=e+1,a=s+t.content.size;for(let u=0;u<this.local.length;u++){let c=this.local[u];if(c.from<a&&c.to>s&&c.type instanceof dl){let h=Math.max(s,c.from)-s,p=Math.min(a,c.to)-s;h<p&&(i||(i=[])).push(c.copy(h,p))}}if(i){let u=new kn(i.sort(Lu),Xc);return r?new Wa([u,r]):u}return r||Tr}eq(e){if(this==e)return!0;if(!(e instanceof kn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Yw(this.localsInner(e))}localsInner(e){if(this==Tr)return Xc;if(e.inlineContent||!this.local.some(dl.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof dl||t.push(this.local[r]);return t}forEachSet(e){e(this)}}kn.empty=new kn([],[]);kn.removeOverlap=Yw;const Tr=kn.empty;class Wa{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Pu));return Wa.from(r)}forChild(e,t){if(t.isLeaf)return kn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=Tr&&(s instanceof Wa?r=r.concat(s.members):r.push(s))}return Wa.from(r)}eq(e){if(!(e instanceof Wa)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let a=0;a<s.length;a++)t.push(s[a])}}return t?Yw(r?t:t.sort(Lu)):Xc}static from(e){switch(e.length){case 0:return Tr;case 1:return e[0];default:return new Wa(e.every(t=>t instanceof kn)?e:e.reduce((t,r)=>t.concat(r instanceof kn?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function qY(n,e,t,r,i,s,a){let u=n.slice();for(let h=0,p=s;h<t.maps.length;h++){let m=0;t.maps[h].forEach((v,_,A,T)=>{let w=T-A-(_-v);for(let O=0;O<u.length;O+=3){let M=u[O+1];if(M<0||v>M+p-m)continue;let j=u[O]+p-m;_>=j?u[O+1]=v<=j?-2:-1:v>=p&&w&&(u[O]+=w,u[O+1]+=w)}m+=w}),p=t.maps[h].map(p,-1)}let c=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){c=!0,u[h+1]=-1;continue}let p=t.map(n[h]+s),m=p-i;if(m<0||m>=r.content.size){c=!0;continue}let v=t.map(n[h+1]+s,-1),_=v-i,{index:A,offset:T}=r.content.findIndex(m),w=r.maybeChild(A);if(w&&T==m&&T+w.nodeSize==_){let O=u[h+2].mapInner(t,w,p+1,n[h]+s+1,a);O!=Tr?(u[h]=m,u[h+1]=_,u[h+2]=O):(u[h+1]=-2,c=!0)}else c=!0}if(c){let h=$Y(u,n,e,t,i,s,a),p=By(h,r,0,a);e=p.local;for(let m=0;m<u.length;m+=3)u[m+1]<0&&(u.splice(m,3),m-=3);for(let m=0,v=0;m<p.children.length;m+=3){let _=p.children[m];for(;v<u.length&&u[v]<_;)v+=3;u.splice(v,0,p.children[m],p.children[m+1],p.children[m+2])}}return new kn(e.sort(Lu),u)}function DV(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Pi(i.from+e,i.to+e,i.type))}return t}function $Y(n,e,t,r,i,s,a){function u(c,h){for(let p=0;p<c.local.length;p++){let m=c.local[p].map(r,i,h);m?t.push(m):a.onRemove&&a.onRemove(c.local[p].spec)}for(let p=0;p<c.children.length;p+=3)u(c.children[p+2],c.children[p]+h+1)}for(let c=0;c<n.length;c+=3)n[c+1]==-1&&u(n[c+2],e[c]+s+1);return t}function PV(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,a;s<n.length;s++)(a=n[s])&&a.from>t&&a.to<r&&((i||(i=[])).push(a),n[s]=null);return i}function LV(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function By(n,e,t,r){let i=[],s=!1;e.forEach((u,c)=>{let h=PV(n,u,c+t);if(h){s=!0;let p=By(h,u,t+c+1,r);p!=Tr&&i.push(c,c+u.nodeSize,p)}});let a=DV(s?LV(n):n,-t).sort(Lu);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||(r.onRemove&&r.onRemove(a[u].spec),a.splice(u--,1));return a.length||i.length?new kn(a,i):Tr}function Lu(n,e){return n.from-e.from||n.to-e.to}function Yw(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),_O(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),_O(e,i,r.copy(s.from,r.to)));break}}}return e}function _O(n,e,t){for(;e<n.length&&Lu(t,n[e])>0;)e++;n.splice(e,0,t)}function lA(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Tr&&e.push(r)}),n.cursorWrapper&&e.push(kn.create(n.state.doc,[n.cursorWrapper.deco])),Wa.from(e)}const GY={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},WY=ci&&fl<=11;class KY{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class YY{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new KY,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ci&&fl<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),WY&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,GY)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(fO(this.view)){if(this.suppressingSelectionUpdates)return ta(this.view);if(ci&&fl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Wu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Of(s))t.add(s);for(let s=e.anchorNode;s;s=Of(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&fO(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,u=!1,c=[];if(e.editable)for(let p=0;p<t.length;p++){let m=this.registerMutation(t[p],c);m&&(s=s<0?m.from:Math.min(m.from,s),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(u=!0))}if(Os&&c.length){let p=c.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,v]=p;m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let v of p){let _=v.parentNode;_&&_.nodeName=="LI"&&(!m||JY(e,m)!=_)&&v.remove()}}}let h=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&i_(r)&&(h=Fw(e))&&h.eq(rt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ta(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),QY(e)),this.handleDOMChange(s,a,u,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ta(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];t.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(ci&&fl<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:v}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(s=v)}let a=i&&i.parentNode==e.target?fr(i)+1:0,u=r.localPosFromDOM(e.target,a,-1),c=s&&s.parentNode==e.target?fr(s):e.target.childNodes.length,h=r.localPosFromDOM(e.target,c,1);return{from:u,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let bO=new WeakMap,AO=!1;function QY(n){if(!bO.has(n)&&(bO.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Os,AO)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),AO=!0}}function TO(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return Wu(a.node,a.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function XY(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return TO(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?TO(n,t):null}function JY(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function ZY(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:a,to:u}=n.docView.parseRange(e,t),c=n.domSelectionRange(),h,p=c.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:c.anchorOffset}],i_(c)||h.push({node:c.focusNode,offset:c.focusOffset})),xr&&n.input.lastKeyCode===8)for(let w=s;w>i;w--){let O=r.childNodes[w-1],M=O.pmViewDesc;if(O.nodeName=="BR"&&!M){s=w;break}if(!M||M.size)break}let m=n.state.doc,v=n.someProp("domParser")||cl.fromSchema(n.state.schema),_=m.resolve(a),A=null,T=v.parse(r,{topNode:_.parent,topMatch:_.parent.contentMatchAt(_.index()),topOpen:!0,from:i,to:s,preserveWhitespace:_.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:eQ,context:_});if(h&&h[0].pos!=null){let w=h[0].pos,O=h[1]&&h[1].pos;O==null&&(O=w),A={anchor:w+a,head:O+a}}return{doc:T,sel:A,from:a,to:u}}function eQ(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(qr&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||qr&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const tQ=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function nQ(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let C=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,B=Fw(n,C);if(B&&!n.state.selection.eq(B)){if(xr&&Jo&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",N=>N(n,gu(13,"Enter"))))return;let P=n.state.tr.setSelection(B);C=="pointer"?P.setMeta("pointer",!0):C=="key"&&P.scrollIntoView(),s&&P.setMeta("composition",s),n.dispatch(P)}return}let a=n.state.doc.resolve(e),u=a.sharedDepth(t);e=a.before(u+1),t=n.state.doc.resolve(t).after(u+1);let c=n.state.selection,h=ZY(n,e,t),p=n.state.doc,m=p.slice(h.from,h.to),v,_;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(v=n.state.selection.to,_="end"):(v=n.state.selection.from,_="start"),n.input.lastKeyCode=null;let A=sQ(m.content,h.doc.content,h.from,v,_);if(A&&n.input.domChangeCount++,(Nf&&n.input.lastIOSEnter>Date.now()-225||Jo)&&i.some(C=>C.nodeType==1&&!tQ.test(C.nodeName))&&(!A||A.endA>=A.endB)&&n.someProp("handleKeyDown",C=>C(n,gu(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!A)if(r&&c instanceof Je&&!c.empty&&c.$head.sameParent(c.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))A={start:c.from,endA:c.to,endB:c.to};else{if(h.sel){let C=EO(n,n.state.doc,h.sel);if(C&&!C.eq(n.state.selection)){let B=n.state.tr.setSelection(C);s&&B.setMeta("composition",s),n.dispatch(B)}}return}n.state.selection.from<n.state.selection.to&&A.start==A.endB&&n.state.selection instanceof Je&&(A.start>n.state.selection.from&&A.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?A.start=n.state.selection.from:A.endA<n.state.selection.to&&A.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(A.endB+=n.state.selection.to-A.endA,A.endA=n.state.selection.to)),ci&&fl<=11&&A.endB==A.start+1&&A.endA==A.start&&A.start>h.from&&h.doc.textBetween(A.start-h.from-1,A.start-h.from+1)=="  "&&(A.start--,A.endA--,A.endB--);let T=h.doc.resolveNoCache(A.start-h.from),w=h.doc.resolveNoCache(A.endB-h.from),O=p.resolve(A.start),M=T.sameParent(w)&&T.parent.inlineContent&&O.end()>=A.endA,j;if((Nf&&n.input.lastIOSEnter>Date.now()-225&&(!M||i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"))||!M&&T.pos<h.doc.content.size&&(!T.sameParent(w)||!T.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(T.pos,w.pos,"",""))&&(j=rt.findFrom(h.doc.resolve(T.pos+1),1,!0))&&j.head>T.pos)&&n.someProp("handleKeyDown",C=>C(n,gu(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>A.start&&iQ(p,A.start,A.endA,T,w)&&n.someProp("handleKeyDown",C=>C(n,gu(8,"Backspace")))){Jo&&xr&&n.domObserver.suppressSelectionUpdates();return}xr&&A.endB==A.start&&(n.input.lastChromeDelete=Date.now()),Jo&&!M&&T.start()!=w.start()&&w.parentOffset==0&&T.depth==w.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==A.endA&&(A.endB-=2,w=h.doc.resolveNoCache(A.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(C){return C(n,gu(13,"Enter"))})},20));let q=A.start,U=A.endA,D,L,S;if(M){if(T.pos==w.pos)ci&&fl<=11&&T.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>ta(n),20)),D=n.state.tr.delete(q,U),L=p.resolve(A.start).marksAcross(p.resolve(A.endA));else if(A.endA==A.endB&&(S=rQ(T.parent.content.cut(T.parentOffset,w.parentOffset),O.parent.content.cut(O.parentOffset,A.endA-O.start()))))D=n.state.tr,S.type=="add"?D.addMark(q,U,S.mark):D.removeMark(q,U,S.mark);else if(T.parent.child(T.index()).isText&&T.index()==w.index()-(w.textOffset?0:1)){let C=T.parent.textBetween(T.parentOffset,w.parentOffset);if(n.someProp("handleTextInput",B=>B(n,q,U,C)))return;D=n.state.tr.insertText(C,q,U)}}if(D||(D=n.state.tr.replace(q,U,h.doc.slice(A.start-h.from,A.endB-h.from))),h.sel){let C=EO(n,D.doc,h.sel);C&&!(xr&&n.composing&&C.empty&&(A.start!=A.endB||n.input.lastChromeDelete<Date.now()-100)&&(C.head==q||C.head==D.mapping.map(U)-1)||ci&&C.empty&&C.head==q)&&D.setSelection(C)}L&&D.ensureMarks(L),s&&D.setMeta("composition",s),n.dispatch(D.scrollIntoView())}function EO(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Hw(n,e.resolve(t.anchor),e.resolve(t.head))}function rQ(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,a,u,c;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<t.length;p++)s=t[p].removeFromSet(s);if(i.length==1&&s.length==0)u=i[0],a="add",c=p=>p.mark(u.addToSet(p.marks));else if(i.length==0&&s.length==1)u=s[0],a="remove",c=p=>p.mark(u.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(c(e.child(p)));if(be.from(h).eq(n))return{mark:u,type:a}}function iQ(n,e,t,r,i){if(t-e<=i.pos-r.pos||uA(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let u=s.nodeAfter;return u!=null&&t==e+u.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=n.resolve(uA(s,!0,!0));return!a.parent.isTextblock||a.pos>t||uA(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function uA(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function sQ(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(a,u));r-=a+c-s}if(a<s&&n.size<e.size){let c=r<=s&&r>=a?s-r:0;s-=c,s&&s<e.size&&wO(e.textBetween(s-1,s+1))&&(s+=c?1:-1),u=s+(u-a),a=s}else if(u<s){let c=r<=s&&r>=u?s-r:0;s-=c,s&&s<n.size&&wO(n.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-u),u=s}return{start:s,endA:a,endB:u}}function wO(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class oQ{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new wY,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(IO),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=CO(this),RO(this),this.nodeViews=xO(this),this.docView=sO(this.state.doc,SO(this),lA(this),this.dom,this),this.domObserver=new YY(this,(r,i,s,a)=>nQ(this,r,i,s,a)),this.domObserver.start(),SY(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&$T(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(IO),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(kV(this),a=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let _=xO(this);lQ(_,this.nodeViews)&&(this.nodeViews=_,s=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&$T(this),this.editable=CO(this),RO(this);let c=lA(this),h=SO(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,h,c);(m||!e.selection.eq(i.selection))&&(a=!0);let v=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&zK(this);if(a){this.domObserver.stop();let _=m&&(ci||xr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&aQ(i.selection,e.selection);if(m){let A=xr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=UY(this)),(s||!this.docView.update(e.doc,h,c,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=sO(e.doc,h,c,this.dom,this)),A&&!this.trackWrites&&(_=!0)}_||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&uY(this))?ta(this,_):(vV(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&BK(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof $e){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Zk(this,t.getBoundingClientRect(),e)}else Zk(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new NV(e.slice,e.move,i<0?void 0:$e.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let u=this.directPlugins[a].props[e];if(u!=null&&(i=t?t(u):u))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let u=s[a].props[e];if(u!=null&&(i=t?t(u):u))return i}}hasFocus(){if(ci){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&jK(this.dom),ta(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return GK(this,e)}coordsAtPos(e,t=1){return cV(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return XK(this,t||this.state,e)}pasteHTML(e,t){return pp(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return pp(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return qw(this,e)}destroy(){this.docView&&(RY(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],lA(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,xK())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return xY(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?qr&&this.root.nodeType===11&&MK(this.dom.ownerDocument)==this.dom&&XY(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function SO(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Pi.node(0,n.state.doc.content.size,e)]}function RO(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Pi.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function CO(n){return!n.someProp("editable",e=>e(n.state)===!1)}function aQ(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function xO(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function lQ(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function IO(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Sl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},jy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},uQ=typeof navigator<"u"&&/Mac/.test(navigator.platform),cQ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var hr=0;hr<10;hr++)Sl[48+hr]=Sl[96+hr]=String(hr);for(var hr=1;hr<=24;hr++)Sl[hr+111]="F"+hr;for(var hr=65;hr<=90;hr++)Sl[hr]=String.fromCharCode(hr+32),jy[hr]=String.fromCharCode(hr);for(var cA in Sl)jy.hasOwnProperty(cA)||(jy[cA]=Sl[cA]);function fQ(n){var e=uQ&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||cQ&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?jy:Sl)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const hQ=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),dQ=typeof navigator<"u"&&/Win/.test(navigator.platform);function pQ(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,a;for(let u=0;u<e.length-1;u++){let c=e[u];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))hQ?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),a&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function mQ(n){let e=Object.create(null);for(let t in n)e[pQ(t)]=n[t];return e}function fA(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function gQ(n){return new Zn({props:{handleKeyDown:VV(n)}})}function VV(n){let e=mQ(n);return function(t,r){let i=fQ(r),s,a=e[fA(i,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let u=e[fA(i,r,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(dQ&&r.ctrlKey&&r.altKey)&&(s=Sl[r.keyCode])&&s!=i){let u=e[fA(s,r)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}const Qw=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function UV(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const zV=(n,e,t)=>{let r=UV(n,t);if(!r)return!1;let i=Xw(r);if(!i){let a=r.blockRange(),u=a&&$f(a);return u==null?!1:(e&&e(n.tr.lift(a,u).scrollIntoView()),!0)}let s=i.nodeBefore;if(KV(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Mf(s,"end")||$e.isSelectable(s)))for(let a=r.depth;;a--){let u=n_(n.doc,r.before(a),r.after(a),ke.empty);if(u&&u.slice.size<u.to-u.from){if(e){let c=n.tr.step(u);c.setSelection(Mf(s,"end")?rt.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):$e.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},yQ=(n,e,t)=>{let r=UV(n,t);if(!r)return!1;let i=Xw(r);return i?BV(n,i,e):!1},vQ=(n,e,t)=>{let r=FV(n,t);if(!r)return!1;let i=Jw(r);return i?BV(n,i,e):!1};function BV(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let a=e.nodeAfter,u=a,c=e.pos+1;for(;!u.isTextblock;c++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let h=n_(n.doc,s,c,ke.empty);if(!h||h.from!=s||h instanceof Wn&&h.slice.size>=c-s)return!1;if(t){let p=n.tr.step(h);p.setSelection(Je.create(p.doc,s)),t(p.scrollIntoView())}return!0}function Mf(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const jV=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=Xw(r)}let a=s&&s.nodeBefore;return!a||!$e.isSelectable(a)?!1:(e&&e(n.tr.setSelection($e.create(n.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function Xw(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function FV(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const HV=(n,e,t)=>{let r=FV(n,t);if(!r)return!1;let i=Jw(r);if(!i)return!1;let s=i.nodeAfter;if(KV(n,i,e,1))return!0;if(r.parent.content.size==0&&(Mf(s,"start")||$e.isSelectable(s))){let a=n_(n.doc,r.before(),r.after(),ke.empty);if(a&&a.slice.size<a.to-a.from){if(e){let u=n.tr.step(a);u.setSelection(Mf(s,"start")?rt.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):$e.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},qV=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=Jw(r)}let a=s&&s.nodeAfter;return!a||!$e.isSelectable(a)?!1:(e&&e(n.tr.setSelection($e.create(n.doc,s.pos)).scrollIntoView()),!0)};function Jw(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const _Q=(n,e)=>{let t=n.selection,r=t instanceof $e,i;if(r){if(t.node.isTextblock||!Ml(n.doc,t.from))return!1;i=t.from}else if(i=t_(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection($e.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},bQ=(n,e)=>{let t=n.selection,r;if(t instanceof $e){if(t.node.isTextblock||!Ml(n.doc,t.to))return!1;r=t.to}else if(r=t_(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},AQ=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&$f(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},$V=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Zw(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const TQ=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),a=Zw(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let u=t.after(),c=n.tr.replaceWith(u,u,a.createAndFill());c.setSelection(rt.near(c.doc.resolve(u),1)),e(c.scrollIntoView())}return!0},GV=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Vi||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Zw(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,u=n.tr.insert(a,s.createAndFill());u.setSelection(Je.create(u.doc,a+1)),e(u.scrollIntoView())}return!0},WV=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(ea(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&$f(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function EQ(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof $e&&e.selection.node.isBlock)return!r.parentOffset||!ea(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,u,c=!1,h=!1;for(let _=r.depth;;_--)if(r.node(_).isBlock){c=r.end(_)==r.pos+(r.depth-_),h=r.start(_)==r.pos-(r.depth-_),u=Zw(r.node(_-1).contentMatchAt(r.indexAfter(_-1))),s.unshift(c&&u?{type:u}:null),a=_;break}else{if(_==1)return!1;s.unshift(null)}let p=e.tr;(e.selection instanceof Je||e.selection instanceof Vi)&&p.deleteSelection();let m=p.mapping.map(r.pos),v=ea(p.doc,m,s.length,s);if(v||(s[0]=u?{type:u}:null,v=ea(p.doc,m,s.length,s)),!v)return!1;if(p.split(m,s.length,s),!c&&h&&r.node(a).type!=u){let _=p.mapping.map(r.before(a)),A=p.doc.resolve(_);u&&r.node(a-1).canReplaceWith(A.index(),A.index()+1,u)&&p.setNodeMarkup(p.mapping.map(r.before(a)),u)}return t&&t(p.scrollIntoView()),!0}}const wQ=EQ(),SQ=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection($e.create(n.doc,i))),!0)};function RQ(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Ml(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function KV(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,a,u,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&RQ(n,e,t))return!0;let h=!c&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(a=(u=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&u.matchType(a[0]||s.type).validEnd){if(t){let _=e.pos+s.nodeSize,A=be.empty;for(let O=a.length-1;O>=0;O--)A=be.from(a[O].create(null,A));A=be.from(i.copy(A));let T=n.tr.step(new Kn(e.pos-1,_,e.pos,_,new ke(A,1,0),a.length,!0)),w=T.doc.resolve(_+2*a.length);w.nodeAfter&&w.nodeAfter.type==i.type&&Ml(T.doc,w.pos)&&T.join(w.pos),t(T.scrollIntoView())}return!0}let p=s.type.spec.isolating||r>0&&c?null:rt.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),v=m&&$f(m);if(v!=null&&v>=e.depth)return t&&t(n.tr.lift(m,v).scrollIntoView()),!0;if(h&&Mf(s,"start",!0)&&Mf(i,"end")){let _=i,A=[];for(;A.push(_),!_.isTextblock;)_=_.lastChild;let T=s,w=1;for(;!T.isTextblock;T=T.firstChild)w++;if(_.canReplace(_.childCount,_.childCount,T.content)){if(t){let O=be.empty;for(let j=A.length-1;j>=0;j--)O=be.from(A[j].copy(O));let M=n.tr.step(new Kn(e.pos-A.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new ke(O,A.length,0),0,!0));t(M.scrollIntoView())}return!0}}return!1}function YV(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(Je.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const CQ=YV(-1),xQ=YV(1);function IQ(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,a=i.blockRange(s),u=a&&zw(a,n,e);return u?(r&&r(t.tr.wrap(a,u).scrollIntoView()),!0):!1}}function kO(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:u}}=t.selection.ranges[s];t.doc.nodesBetween(a,u,(c,h)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(n,e)))if(c.type==n)i=!0;else{let p=t.doc.resolve(h),m=p.index();i=p.parent.canReplaceWith(m,m+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:u},$to:{pos:c}}=t.selection.ranges[a];s.setBlockType(u,c,n,e)}r(s.scrollIntoView())}return!0}}function eS(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}eS(Qw,zV,jV);eS(Qw,HV,qV);eS($V,GV,WV,wQ);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function kQ(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,a=i.blockRange(s);if(!a)return!1;let u=r?t.tr:null;return OQ(u,a,n,e)?(r&&r(u.scrollIntoView()),!0):!1}}function OQ(n,e,t,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=a.resolve(e.start-2);s=new Dy(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Dy(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=zw(s,t,r,e);return u?(n&&NQ(n,e,u,i,t),!0):!1}function NQ(n,e,t,r,i){let s=be.empty;for(let p=t.length-1;p>=0;p--)s=be.from(t[p].type.create(t[p].attrs,s));n.step(new Kn(e.start-(r?2:0),e.end,e.start,e.end,new ke(s,0,0),t.length,!0));let a=0;for(let p=0;p<t.length;p++)t[p].type==i&&(a=p+1);let u=t.length-a,c=e.start+t.length-(r?2:0),h=e.parent;for(let p=e.startIndex,m=e.endIndex,v=!0;p<m;p++,v=!1)!v&&ea(n.doc,c,u)&&(n.split(c,u),c+=2*u),c+=h.child(p).nodeSize;return n}function MQ(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?DQ(e,t,n,s):PQ(e,t,s):!0:!1}}function DQ(n,e,t,r){let i=n.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new Kn(s-1,a,s,a,new ke(be.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Dy(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const u=$f(r);if(u==null)return!1;i.lift(r,u);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return Ml(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function PQ(n,e,t){let r=n.tr,i=t.parent;for(let _=t.end,A=t.endIndex-1,T=t.startIndex;A>T;A--)_-=i.child(A).nodeSize,r.delete(_-1,_+1);let s=r.doc.resolve(t.start),a=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,c=t.endIndex==i.childCount,h=s.node(-1),p=s.index(-1);if(!h.canReplace(p+(u?0:1),p+1,a.content.append(c?be.empty:be.from(i))))return!1;let m=s.pos,v=m+a.nodeSize;return r.step(new Kn(m-(u?1:0),v+(c?1:0),m+1,v-1,new ke((u?be.empty:be.from(i.copy(be.empty))).append(c?be.empty:be.from(i.copy(be.empty))),u?0:1,c?0:1),u?0:1)),e(r.scrollIntoView()),!0}function LQ(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,h=>h.childCount>0&&h.firstChild.type==n);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let u=s.parent,c=u.child(a-1);if(c.type!=n)return!1;if(t){let h=c.lastChild&&c.lastChild.type==u.type,p=be.from(h?n.create():null),m=new ke(be.from(n.create(null,be.from(u.type.create(null,p)))),h?3:1,0),v=s.start,_=s.end;t(e.tr.step(new Kn(v-(h?3:1),_,v,_,m,1,!0)).scrollIntoView())}return!0}}function a_(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class l_{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([u,c])=>[u,(...p)=>{const m=c(...p)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:a}=i,u=[],c=!!e,h=e||s.tr,p=()=>(!c&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(h),u.every(v=>v===!0)),m={...Object.fromEntries(Object.entries(r).map(([v,_])=>[v,(...T)=>{const w=this.buildProps(h,t),O=_(...T)(w);return u.push(O),m}])),run:p};return m}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,a=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([c,h])=>[c,(...p)=>h(...p)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:a}=i,u={tr:e,editor:i,view:a,state:a_({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([c,h])=>[c,(...p)=>h(...p)(u)]))}};return u}}class VQ{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function Ve(n,e,t){return n.config[e]===void 0&&n.parent?Ve(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Ve(n.parent,e,t):null}):n.config[e]}function u_(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function QV(n){const e=[],{nodeExtensions:t,markExtensions:r}=u_(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage,extensions:i},c=Ve(a,"addGlobalAttributes",u);if(!c)return;c().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([v,_])=>{e.push({type:m,name:v,attribute:{...s,..._}})})})})}),i.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage},c=Ve(a,"addAttributes",u);if(!c)return;const h=c();Object.entries(h).forEach(([p,m])=>{const v={...s,...m};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:a.name,name:p,attribute:v})})}),e}function Xn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function Jn(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const u=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],h=u.filter(p=>!c.includes(p));r[i]=[...c,...h].join(" ")}else if(i==="style"){const u=s?s.split(";").map(p=>p.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;c.forEach(p=>{const[m,v]=p.split(":").map(_=>_.trim());h.set(m,v)}),u.forEach(p=>{const[m,v]=p.split(":").map(_=>_.trim());h.set(m,v)}),r[i]=Array.from(h.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=s}),r},{})}function GT(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>Jn(t,r),{})}function XV(n){return typeof n=="function"}function at(n,e=void 0,...t){return XV(n)?e?n.bind(e)(...t):n(...t):n}function UQ(n={}){return Object.keys(n).length===0&&n.constructor===Object}function zQ(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function OO(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const u=a.attribute.parseHTML?a.attribute.parseHTML(t):zQ(t.getAttribute(a.name));return u==null?s:{...s,[a.name]:u}},{});return{...r,...i}}}}function NO(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&UQ(t)?!1:t!=null))}function BQ(n,e){var t;const r=QV(n),{nodeExtensions:i,markExtensions:s}=u_(n),a=(t=i.find(h=>Ve(h,"topNode")))===null||t===void 0?void 0:t.name,u=Object.fromEntries(i.map(h=>{const p=r.filter(O=>O.type===h.name),m={name:h.name,options:h.options,storage:h.storage,editor:e},v=n.reduce((O,M)=>{const j=Ve(M,"extendNodeSchema",m);return{...O,...j?j(h):{}}},{}),_=NO({...v,content:at(Ve(h,"content",m)),marks:at(Ve(h,"marks",m)),group:at(Ve(h,"group",m)),inline:at(Ve(h,"inline",m)),atom:at(Ve(h,"atom",m)),selectable:at(Ve(h,"selectable",m)),draggable:at(Ve(h,"draggable",m)),code:at(Ve(h,"code",m)),whitespace:at(Ve(h,"whitespace",m)),linebreakReplacement:at(Ve(h,"linebreakReplacement",m)),defining:at(Ve(h,"defining",m)),isolating:at(Ve(h,"isolating",m)),attrs:Object.fromEntries(p.map(O=>{var M;return[O.name,{default:(M=O==null?void 0:O.attribute)===null||M===void 0?void 0:M.default}]}))}),A=at(Ve(h,"parseHTML",m));A&&(_.parseDOM=A.map(O=>OO(O,p)));const T=Ve(h,"renderHTML",m);T&&(_.toDOM=O=>T({node:O,HTMLAttributes:GT(O,p)}));const w=Ve(h,"renderText",m);return w&&(_.toText=w),[h.name,_]})),c=Object.fromEntries(s.map(h=>{const p=r.filter(w=>w.type===h.name),m={name:h.name,options:h.options,storage:h.storage,editor:e},v=n.reduce((w,O)=>{const M=Ve(O,"extendMarkSchema",m);return{...w,...M?M(h):{}}},{}),_=NO({...v,inclusive:at(Ve(h,"inclusive",m)),excludes:at(Ve(h,"excludes",m)),group:at(Ve(h,"group",m)),spanning:at(Ve(h,"spanning",m)),code:at(Ve(h,"code",m)),attrs:Object.fromEntries(p.map(w=>{var O;return[w.name,{default:(O=w==null?void 0:w.attribute)===null||O===void 0?void 0:O.default}]}))}),A=at(Ve(h,"parseHTML",m));A&&(_.parseDOM=A.map(w=>OO(w,p)));const T=Ve(h,"renderHTML",m);return T&&(_.toDOM=w=>T({mark:w,HTMLAttributes:GT(w,p)})),[h.name,_]}));return new z2({topNode:a,nodes:u,marks:c})}function hA(n,e){return e.nodes[n]||e.marks[n]||null}function MO(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function tS(n,e){const t=rc.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const jQ=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,u)=>{var c,h;const p=((h=(c=i.type.spec).toText)===null||h===void 0?void 0:h.call(c,{node:i,pos:s,parent:a,index:u}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-s))}),t};function nS(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class c_{constructor(e){this.find=e.find,this.handler=e.handler}}const FQ=(n,e)=>{if(nS(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function gg(n){var e;const{editor:t,from:r,to:i,text:s,rules:a,plugin:u}=n,{view:c}=t;if(c.composing)return!1;const h=c.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let p=!1;const m=jQ(h)+s;return a.forEach(v=>{if(p)return;const _=FQ(m,v.find);if(!_)return;const A=c.state.tr,T=a_({state:c.state,transaction:A}),w={from:r-(_[0].length-s.length),to:i},{commands:O,chain:M,can:j}=new l_({editor:t,state:T});v.handler({state:T,range:w,match:_,commands:O,chain:M,can:j})===null||!A.steps.length||(A.setMeta(u,{transform:A,from:r,to:i,text:s}),c.dispatch(A),p=!0)}),p}function HQ(n){const{editor:e,rules:t}=n,r=new Zn({state:{init(){return null},apply(i,s,a){const u=i.getMeta(r);if(u)return u;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:p}=c;typeof p=="string"?p=p:p=tS(be.from(p),a.schema);const{from:m}=c,v=m+p.length;gg({editor:e,from:m,to:v,text:p,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,u){return gg({editor:e,from:s,to:a,text:u,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&gg({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?gg({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function qQ(n){return Object.prototype.toString.call(n).slice(8,-1)}function yg(n){return qQ(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function f_(n,e){const t={...n};return yg(n)&&yg(e)&&Object.keys(e).forEach(r=>{yg(e[r])&&yg(n[r])?t[r]=f_(n[r],e[r]):t[r]=e[r]}),t}class bo{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=at(Ve(this,"addOptions",{name:this.name}))),this.storage=at(Ve(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new bo(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>f_(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new bo(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=at(Ve(t,"addOptions",{name:t.name})),t.storage=at(Ve(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const c=a.find(h=>(h==null?void 0:h.type.name)===t.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function $Q(n){return typeof n=="number"}class GQ{constructor(e){this.find=e.find,this.handler=e.handler}}const WQ=(n,e,t)=>{if(nS(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function KQ(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:a,dropEvent:u}=n,{commands:c,chain:h,can:p}=new l_({editor:e,state:t}),m=[];return t.doc.nodesBetween(r,i,(_,A)=>{if(!_.isTextblock||_.type.spec.code)return;const T=Math.max(r,A),w=Math.min(i,A+_.content.size),O=_.textBetween(T-A,w-A,void 0,"￼");WQ(O,s.find,a).forEach(j=>{if(j.index===void 0)return;const q=T+j.index+1,U=q+j[0].length,D={from:t.tr.mapping.map(q),to:t.tr.mapping.map(U)},L=s.handler({state:t,range:D,match:j,commands:c,chain:h,can:p,pasteEvent:a,dropEvent:u});m.push(L)})}),m.every(_=>_!==null)}let vg=null;const YQ=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function QQ(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const c=({state:p,from:m,to:v,rule:_,pasteEvt:A})=>{const T=p.tr,w=a_({state:p,transaction:T});if(!(!KQ({editor:e,state:w,from:Math.max(m-1,0),to:v.b-1,rule:_,pasteEvent:A,dropEvent:u})||!T.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,T}};return t.map(p=>new Zn({view(m){const v=A=>{var T;r=!((T=m.dom.parentElement)===null||T===void 0)&&T.contains(A.target)?m.dom.parentElement:null,r&&(vg=e)},_=()=>{vg&&(vg=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",_),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",_)}}},props:{handleDOMEvents:{drop:(m,v)=>{if(s=r===m.dom.parentElement,u=v,!s){const _=vg;_&&setTimeout(()=>{const A=_.state.selection;A&&_.commands.deleteRange({from:A.from,to:A.to})},10)}return!1},paste:(m,v)=>{var _;const A=(_=v.clipboardData)===null||_===void 0?void 0:_.getData("text/html");return a=v,i=!!(A!=null&&A.includes("data-pm-slice")),!1}}},appendTransaction:(m,v,_)=>{const A=m[0],T=A.getMeta("uiEvent")==="paste"&&!i,w=A.getMeta("uiEvent")==="drop"&&!s,O=A.getMeta("applyPasteRules"),M=!!O;if(!T&&!w&&!M)return;if(M){let{text:U}=O;typeof U=="string"?U=U:U=tS(be.from(U),_.schema);const{from:D}=O,L=D+U.length,S=YQ(U);return c({rule:p,state:_,from:D,to:{b:L},pasteEvt:S})}const j=v.doc.content.findDiffStart(_.doc.content),q=v.doc.content.findDiffEnd(_.doc.content);if(!(!$Q(j)||!q||j===q.b))return c({rule:p,state:_,from:j,to:q,pasteEvt:a})}}))}function XQ(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class nf{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=nf.resolve(e),this.schema=BQ(this.extensions,t),this.setupExtensions()}static resolve(e){const t=nf.sort(nf.flatten(e)),r=XQ(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=Ve(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=Ve(r,"priority")||100,a=Ve(i,"priority")||100;return s>a?-1:s<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:hA(t.name,this.schema)},i=Ve(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=nf.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(a=>{const u={name:a.name,options:a.options,storage:a.storage,editor:e,type:hA(a.name,this.schema)},c=[],h=Ve(a,"addKeyboardShortcuts",u);let p={};if(a.type==="mark"&&Ve(a,"exitable",u)&&(p.ArrowRight=()=>bo.handleExit({editor:e,mark:a})),h){const T=Object.fromEntries(Object.entries(h()).map(([w,O])=>[w,()=>O({editor:e})]));p={...p,...T}}const m=gQ(p);c.push(m);const v=Ve(a,"addInputRules",u);MO(a,e.options.enableInputRules)&&v&&r.push(...v());const _=Ve(a,"addPasteRules",u);MO(a,e.options.enablePasteRules)&&_&&i.push(..._());const A=Ve(a,"addProseMirrorPlugins",u);if(A){const T=A();c.push(...T)}return c}).flat();return[HQ({editor:e,rules:r}),...QQ({editor:e,rules:i}),...s]}get attributes(){return QV(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=u_(this.extensions);return Object.fromEntries(t.filter(r=>!!Ve(r,"addNodeView")).map(r=>{const i=this.attributes.filter(c=>c.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Xn(r.name,this.schema)},a=Ve(r,"addNodeView",s);if(!a)return[];const u=(c,h,p,m,v)=>{const _=GT(c,i);return a()({node:c,view:h,getPos:p,decorations:m,innerDecorations:v,editor:e,extension:r,HTMLAttributes:_})};return[r.name,u]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:hA(e.name,this.schema)};e.type==="mark"&&(!((t=at(Ve(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=Ve(e,"onBeforeCreate",r),s=Ve(e,"onCreate",r),a=Ve(e,"onUpdate",r),u=Ve(e,"onSelectionUpdate",r),c=Ve(e,"onTransaction",r),h=Ve(e,"onFocus",r),p=Ve(e,"onBlur",r),m=Ve(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),u&&this.editor.on("selectionUpdate",u),c&&this.editor.on("transaction",c),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}}class Or{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=at(Ve(this,"addOptions",{name:this.name}))),this.storage=at(Ve(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Or(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>f_(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Or({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=at(Ve(t,"addOptions",{name:t.name})),t.storage=at(Ve(t,"addStorage",{name:t.name,options:t.options})),t}}function JV(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=t||{};let u="";return n.nodesBetween(r,i,(c,h,p,m)=>{var v;c.isBlock&&h>r&&(u+=s);const _=a==null?void 0:a[c.type.name];if(_)return p&&(u+=_({node:c,pos:h,parent:p,index:m,range:e})),!1;c.isText&&(u+=(v=c==null?void 0:c.text)===null||v===void 0?void 0:v.slice(Math.max(r,h)-h,i-h))}),u}function ZV(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const JQ=Or.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Zn({key:new di("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(p=>p.$from.pos)),u=Math.max(...s.map(p=>p.$to.pos)),c=ZV(t);return JV(r,{from:a,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),ZQ=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),eX=(n=!1)=>({commands:e})=>e.setContent("",n),tX=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:a})=>{n.doc.nodesBetween(s.pos,a.pos,(u,c)=>{if(u.type.isText)return;const{doc:h,mapping:p}=e,m=h.resolve(p.map(c)),v=h.resolve(p.map(c+u.nodeSize)),_=m.blockRange(v);if(!_)return;const A=$f(_);if(u.type.isTextblock){const{defaultType:T}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(_.start,T)}(A||A===0)&&e.lift(_,A)})}),!0},nX=n=>e=>n(e),rX=()=>({state:n,dispatch:e})=>GV(n,e),iX=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new Je(r.doc.resolve(a-1))),!0},sX=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const u=i.before(s),c=i.after(s);n.delete(u,c).scrollIntoView()}return!0}return!1},oX=n=>({tr:e,state:t,dispatch:r})=>{const i=Xn(n,t.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const c=s.before(a),h=s.after(a);e.delete(c,h).scrollIntoView()}return!0}return!1},aX=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},lX=()=>({state:n,dispatch:e})=>Qw(n,e),uX=()=>({commands:n})=>n.keyboardShortcut("Enter"),cX=()=>({state:n,dispatch:e})=>TQ(n,e);function Fy(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:nS(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function eU(n,e,t={}){return n.find(r=>r.type===e&&Fy(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function DO(n,e,t={}){return!!eU(n,e,t)}function rS(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!eU([...i.node.marks],e,t)))return;let a=i.index,u=n.start()+i.offset,c=a+1,h=u+i.node.nodeSize;for(;a>0&&DO([...n.parent.child(a-1).marks],e,t);)a-=1,u-=n.parent.child(a).nodeSize;for(;c<n.parent.childCount&&DO([...n.parent.child(c).marks],e,t);)h+=n.parent.child(c).nodeSize,c+=1;return{from:u,to:h}}function Pl(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const fX=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=Pl(n,r.schema),{doc:a,selection:u}=t,{$from:c,from:h,to:p}=u;if(i){const m=rS(c,s,e);if(m&&m.from<=h&&m.to>=p){const v=Je.create(a,m.from,m.to);t.setSelection(v)}}return!0},hX=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function tU(n){return n instanceof Je}function Su(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function nU(n,e=null){if(!e)return null;const t=rt.atStart(n),r=rt.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?Je.create(n,Su(0,i,s),Su(n.content.size,i,s)):Je.create(n,Su(e,i,s),Su(e,i,s))}function dX(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function iS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const pX=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(iS()||dX())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!tU(t.state.selection))return a(),!0;const u=nU(i.doc,n)||t.state.selection,c=t.state.selection.eq(u);return s&&(c||i.setSelection(u),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},mX=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),gX=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),rU=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&rU(r)}return n};function _g(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return rU(t)}function Hy(n,e,t){if(n instanceof ul||n instanceof be)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return be.fromArray(n.map(u=>e.nodeFromJSON(u)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),Hy("",e,t)}if(i){if(t.errorOnInvalidContent){let a=!1,u="";const c=new z2({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(a=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?cl.fromSchema(c).parseSlice(_g(n),t.parseOptions):cl.fromSchema(c).parse(_g(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const s=cl.fromSchema(e);return t.slice?s.parseSlice(_g(n),t.parseOptions).content:s.parse(_g(n),t.parseOptions)}return Hy("",e,t)}function yX(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Wn||i instanceof Kn))return;const s=n.mapping.maps[r];let a=0;s.forEach((u,c,h,p)=>{a===0&&(a=p)}),n.setSelection(rt.near(n.doc.resolve(a),t))}const vX=n=>!("type"in n),_X=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;try{u=Hy(e,s.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck})}catch(A){return s.emit("contentError",{editor:s,error:A,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:c,to:h}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},p=!0,m=!0;if((vX(u)?u:[u]).forEach(A=>{A.check(),p=p?A.isText&&A.marks.length===0:!1,m=m?A.isBlock:!1}),c===h&&m){const{parent:A}=r.doc.resolve(c);A.isTextblock&&!A.type.spec.code&&!A.childCount&&(c-=1,h+=1)}let _;if(p){if(Array.isArray(e))_=e.map(A=>A.text||"").join("");else if(e instanceof be){let A="";e.forEach(T=>{T.text&&(A+=T.text)}),_=A}else typeof e=="object"&&e&&e.text?_=e.text:_=e;r.insertText(_,c,h)}else _=u,r.replaceWith(c,h,_);t.updateSelection&&yX(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:c,text:_}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:c,text:_})}return!0},bX=()=>({state:n,dispatch:e})=>_Q(n,e),AX=()=>({state:n,dispatch:e})=>bQ(n,e),TX=()=>({state:n,dispatch:e})=>zV(n,e),EX=()=>({state:n,dispatch:e})=>HV(n,e),wX=()=>({state:n,dispatch:e,tr:t})=>{try{const r=t_(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},SX=()=>({state:n,dispatch:e,tr:t})=>{try{const r=t_(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},RX=()=>({state:n,dispatch:e})=>yQ(n,e),CX=()=>({state:n,dispatch:e})=>vQ(n,e);function iU(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function xX(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,a;for(let u=0;u<e.length-1;u+=1){const c=e[u];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))iS()||iU()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const IX=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=xX(n).split(/-(?!$)/),a=s.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,u))});return c==null||c.steps.forEach(h=>{const p=h.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function gp(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,a=e?Xn(e,n.schema):null,u=[];n.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const _=Math.max(r,v),A=Math.min(i,v+m.nodeSize);u.push({node:m,from:_,to:A})});const c=i-r,h=u.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>Fy(m.node.attrs,t,{strict:!1}));return s?!!h.length:h.reduce((m,v)=>m+v.to-v.from,0)>=c}const kX=(n,e={})=>({state:t,dispatch:r})=>{const i=Xn(n,t.schema);return gp(t,i,e)?AQ(t,r):!1},OX=()=>({state:n,dispatch:e})=>WV(n,e),NX=n=>({state:e,dispatch:t})=>{const r=Xn(n,e.schema);return MQ(r)(e,t)},MX=()=>({state:n,dispatch:e})=>$V(n,e);function h_(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function PO(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const DX=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,a=null;const u=h_(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(s=Xn(n,r.schema)),u==="mark"&&(a=Pl(n,r.schema)),i&&t.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(h,p)=>{s&&s===h.type&&t.setNodeMarkup(p,void 0,PO(h.attrs,e)),a&&h.marks.length&&h.marks.forEach(m=>{a===m.type&&t.addMark(p,p+h.nodeSize,a.create(PO(m.attrs,e)))})})}),!0):!1},PX=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),LX=()=>({tr:n,dispatch:e})=>{if(e){const t=new Vi(n.doc);n.setSelection(t)}return!0},VX=()=>({state:n,dispatch:e})=>jV(n,e),UX=()=>({state:n,dispatch:e})=>qV(n,e),zX=()=>({state:n,dispatch:e})=>SQ(n,e),BX=()=>({state:n,dispatch:e})=>xQ(n,e),jX=()=>({state:n,dispatch:e})=>CQ(n,e);function WT(n,e,t={},r={}){return Hy(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const FX=(n,e=!1,t={},r={})=>({editor:i,tr:s,dispatch:a,commands:u})=>{var c,h;const{doc:p}=s;if(t.preserveWhitespace!=="full"){const m=WT(n,i.schema,t,{errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck});return a&&s.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!e),!0}return a&&s.setMeta("preventUpdate",!e),u.insertContentAt({from:0,to:p.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:i.options.enableContentCheck})};function sU(n,e){const t=Pl(e,n.schema),{from:r,to:i,empty:s}=n.selection,a=[];s?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,c=>{a.push(...c.marks)});const u=a.find(c=>c.type.name===t.name);return u?{...u.attrs}:{}}function HX(n,e){const t=new tV(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function qX(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function $X(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,s)=>{t(i)&&r.push({node:i,pos:s})}),r}function GX(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function sS(n){return e=>GX(e.$from,n)}function WX(n,e){const t={from:0,to:n.content.size};return JV(n,t,e)}function KX(n,e){const t=Xn(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,u=>{s.push(u)});const a=s.reverse().find(u=>u.type.name===t.name);return a?{...a.attrs}:{}}function oU(n,e){const t=h_(typeof e=="string"?e:e.name,n.schema);return t==="node"?KX(n,e):t==="mark"?sU(n,e):{}}function YX(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function QX(n){const e=YX(n);return e.length===1?e:e.filter((t,r)=>!e.filter((s,a)=>a!==r).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function XX(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((u,c)=>{a.push({from:u,to:c})});else{const{from:u,to:c}=t[s];if(u===void 0||c===void 0)return;a.push({from:u,to:c})}a.forEach(({from:u,to:c})=>{const h=e.slice(s).map(u,-1),p=e.slice(s).map(c),m=e.invert().map(h,-1),v=e.invert().map(p);r.push({oldRange:{from:m,to:v},newRange:{from:h,to:p}})})}),QX(r)}function oS(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),a=rS(s,i.type);a&&r.push({mark:i,...a})}):t.nodesBetween(n,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}function Kg(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function KT(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?Pl(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>Fy(m.attrs,t,{strict:!1}));let a=0;const u=[];if(i.forEach(({$from:m,$to:v})=>{const _=m.pos,A=v.pos;n.doc.nodesBetween(_,A,(T,w)=>{if(!T.isText&&!T.marks.length)return;const O=Math.max(_,w),M=Math.min(A,w+T.nodeSize),j=M-O;a+=j,u.push(...T.marks.map(q=>({mark:q,from:O,to:M})))})}),a===0)return!1;const c=u.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>Fy(m.mark.attrs,t,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),h=u.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,v)=>m+v.to-v.from,0);return(c>0?c+h:c)>=a}function JX(n,e,t={}){if(!e)return gp(n,null,t)||KT(n,null,t);const r=h_(e,n.schema);return r==="node"?gp(n,e,t):r==="mark"?KT(n,e,t):!1}function LO(n,e){const{nodeExtensions:t}=u_(e),r=t.find(a=>a.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=at(Ve(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function d_(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(d_(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function ZX(n){return n instanceof $e}function eJ(n,e,t){var r;const{selection:i}=e;let s=null;if(tU(i)&&(s=i.$cursor),s){const u=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(u)||!u.some(c=>c.type.excludes(t))}const{ranges:a}=i;return a.some(({$from:u,$to:c})=>{let h=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(u.pos,c.pos,(p,m,v)=>{if(h)return!1;if(p.isInline){const _=!v||v.type.allowsMarkType(t),A=!!t.isInSet(p.marks)||!p.marks.some(T=>T.type.excludes(t));h=_&&A}return!h}),h})}const tJ=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:a,ranges:u}=s,c=Pl(n,r.schema);if(i)if(a){const h=sU(r,c);t.addStoredMark(c.create({...h,...e}))}else u.forEach(h=>{const p=h.$from.pos,m=h.$to.pos;r.doc.nodesBetween(p,m,(v,_)=>{const A=Math.max(_,p),T=Math.min(_+v.nodeSize,m);v.marks.find(O=>O.type===c)?v.marks.forEach(O=>{c===O.type&&t.addMark(A,T,c.create({...O.attrs,...e}))}):t.addMark(A,T,c.create(e))})});return eJ(r,t,c)},nJ=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),rJ=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=Xn(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:u})=>kO(s,{...a,...e})(t)?!0:u.clearNodes()).command(({state:u})=>kO(s,{...a,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},iJ=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=Su(n,0,r.content.size),s=$e.create(r,i);e.setSelection(s)}return!0},sJ=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,a=Je.atStart(r).from,u=Je.atEnd(r).to,c=Su(i,a,u),h=Su(s,a,u),p=Je.create(r,c,h);e.setSelection(p)}return!0},oJ=n=>({state:e,dispatch:t})=>{const r=Xn(n,e.schema);return LQ(r)(e,t)};function VO(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const aJ=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:u,$to:c}=s,h=i.extensionManager.attributes,p=Kg(h,u.node().type.name,u.node().attrs);if(s instanceof $e&&s.node.isBlock)return!u.parentOffset||!ea(a,u.pos)?!1:(r&&(n&&VO(t,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,v=u.depth===0?void 0:qX(u.node(-1).contentMatchAt(u.indexAfter(-1)));let _=m&&v?[{type:v,attrs:p}]:void 0,A=ea(e.doc,e.mapping.map(u.pos),1,_);if(!_&&!A&&ea(e.doc,e.mapping.map(u.pos),1,v?[{type:v}]:void 0)&&(A=!0,_=v?[{type:v,attrs:p}]:void 0),r){if(A&&(s instanceof Je&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,_),v&&!m&&!u.parentOffset&&u.parent.type!==v)){const T=e.mapping.map(u.before()),w=e.doc.resolve(T);u.node(-1).canReplaceWith(w.index(),w.index()+1,v)&&e.setNodeMarkup(e.mapping.map(u.before()),v)}n&&VO(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return A},lJ=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var a;const u=Xn(n,r.schema),{$from:c,$to:h}=r.selection,p=r.selection.node;if(p&&p.isBlock||c.depth<2||!c.sameParent(h))return!1;const m=c.node(-1);if(m.type!==u)return!1;const v=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==u||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let O=be.empty;const M=c.index(-1)?1:c.index(-2)?2:3;for(let S=c.depth-M;S>=c.depth-3;S-=1)O=be.from(c.node(S).copy(O));const j=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,q={...Kg(v,c.node().type.name,c.node().attrs),...e},U=((a=u.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(q))||void 0;O=O.append(be.from(u.createAndFill(null,U)||void 0));const D=c.before(c.depth-(M-1));t.replace(D,c.after(-j),new ke(O,4-M,0));let L=-1;t.doc.nodesBetween(D,t.doc.content.size,(S,C)=>{if(L>-1)return!1;S.isTextblock&&S.content.size===0&&(L=C+1)}),L>-1&&t.setSelection(Je.near(t.doc.resolve(L))),t.scrollIntoView()}return!0}const _=h.pos===c.end()?m.contentMatchAt(0).defaultType:null,A={...Kg(v,m.type.name,m.attrs),...e},T={...Kg(v,c.node().type.name,c.node().attrs),...e};t.delete(c.pos,h.pos);const w=_?[{type:u,attrs:A},{type:_,attrs:T}]:[{type:u,attrs:A}];if(!ea(t.doc,c.pos,2))return!1;if(i){const{selection:O,storedMarks:M}=r,{splittableMarks:j}=s.extensionManager,q=M||O.$to.parentOffset&&O.$from.marks();if(t.split(c.pos,2,w).scrollIntoView(),!q||!i)return!0;const U=q.filter(D=>j.includes(D.type.name));t.ensureMarks(U)}return!0},dA=(n,e)=>{const t=sS(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Ml(n.doc,t.pos)&&n.join(t.pos),!0},pA=(n,e)=>{const t=sS(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Ml(n.doc,r)&&n.join(r),!0},uJ=(n,e,t,r={})=>({editor:i,tr:s,state:a,dispatch:u,chain:c,commands:h,can:p})=>{const{extensions:m,splittableMarks:v}=i.extensionManager,_=Xn(n,a.schema),A=Xn(e,a.schema),{selection:T,storedMarks:w}=a,{$from:O,$to:M}=T,j=O.blockRange(M),q=w||T.$to.parentOffset&&T.$from.marks();if(!j)return!1;const U=sS(D=>LO(D.type.name,m))(T);if(j.depth>=1&&U&&j.depth-U.depth<=1){if(U.node.type===_)return h.liftListItem(A);if(LO(U.node.type.name,m)&&_.validContent(U.node.content)&&u)return c().command(()=>(s.setNodeMarkup(U.pos,_),!0)).command(()=>dA(s,_)).command(()=>pA(s,_)).run()}return!t||!q||!u?c().command(()=>p().wrapInList(_,r)?!0:h.clearNodes()).wrapInList(_,r).command(()=>dA(s,_)).command(()=>pA(s,_)).run():c().command(()=>{const D=p().wrapInList(_,r),L=q.filter(S=>v.includes(S.type.name));return s.ensureMarks(L),D?!0:h.clearNodes()}).wrapInList(_,r).command(()=>dA(s,_)).command(()=>pA(s,_)).run()},cJ=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,a=Pl(n,r.schema);return KT(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},fJ=(n,e,t={})=>({state:r,commands:i})=>{const s=Xn(n,r.schema),a=Xn(e,r.schema),u=gp(r,s,t);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),u?i.setNode(a,c):i.setNode(s,{...c,...t})},hJ=(n,e={})=>({state:t,commands:r})=>{const i=Xn(n,t.schema);return gp(t,i,e)?r.lift(i):r.wrapIn(i,e)},dJ=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const a=n.tr,u=s.transform;for(let c=u.steps.length-1;c>=0;c-=1)a.step(u.steps[c].invert(u.docs[c]));if(s.text){const c=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,n.schema.text(s.text,c))}else a.delete(s.from,s.to)}return!0}}return!1},pJ=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},mJ=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:u}=t,c=Pl(n,r.schema),{$from:h,empty:p,ranges:m}=u;if(!i)return!0;if(p&&a){let{from:v,to:_}=u;const A=(s=h.marks().find(w=>w.type===c))===null||s===void 0?void 0:s.attrs,T=rS(h,c,A);T&&(v=T.from,_=T.to),t.removeMark(v,_,c)}else m.forEach(v=>{t.removeMark(v.$from.pos,v.$to.pos,c)});return t.removeStoredMark(c),!0},gJ=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,a=null;const u=h_(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(s=Xn(n,r.schema)),u==="mark"&&(a=Pl(n,r.schema)),i&&t.selection.ranges.forEach(c=>{const h=c.$from.pos,p=c.$to.pos;let m,v,_,A;t.selection.empty?r.doc.nodesBetween(h,p,(T,w)=>{s&&s===T.type&&(_=Math.max(w,h),A=Math.min(w+T.nodeSize,p),m=w,v=T)}):r.doc.nodesBetween(h,p,(T,w)=>{w<h&&s&&s===T.type&&(_=Math.max(w,h),A=Math.min(w+T.nodeSize,p),m=w,v=T),w>=h&&w<=p&&(s&&s===T.type&&t.setNodeMarkup(w,void 0,{...T.attrs,...e}),a&&T.marks.length&&T.marks.forEach(O=>{if(a===O.type){const M=Math.max(w,h),j=Math.min(w+T.nodeSize,p);t.addMark(M,j,a.create({...O.attrs,...e}))}}))}),v&&(m!==void 0&&t.setNodeMarkup(m,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(T=>{a===T.type&&t.addMark(_,A,a.create({...T.attrs,...e}))}))}),!0):!1},yJ=(n,e={})=>({state:t,dispatch:r})=>{const i=Xn(n,t.schema);return IQ(i,e)(t,r)},vJ=(n,e={})=>({state:t,dispatch:r})=>{const i=Xn(n,t.schema);return kQ(i,e)(t,r)};var _J=Object.freeze({__proto__:null,blur:ZQ,clearContent:eX,clearNodes:tX,command:nX,createParagraphNear:rX,cut:iX,deleteCurrentNode:sX,deleteNode:oX,deleteRange:aX,deleteSelection:lX,enter:uX,exitCode:cX,extendMarkRange:fX,first:hX,focus:pX,forEach:mX,insertContent:gX,insertContentAt:_X,joinBackward:TX,joinDown:AX,joinForward:EX,joinItemBackward:wX,joinItemForward:SX,joinTextblockBackward:RX,joinTextblockForward:CX,joinUp:bX,keyboardShortcut:IX,lift:kX,liftEmptyBlock:OX,liftListItem:NX,newlineInCode:MX,resetAttributes:DX,scrollIntoView:PX,selectAll:LX,selectNodeBackward:VX,selectNodeForward:UX,selectParentNode:zX,selectTextblockEnd:BX,selectTextblockStart:jX,setContent:FX,setMark:tJ,setMeta:nJ,setNode:rJ,setNodeSelection:iJ,setTextSelection:sJ,sinkListItem:oJ,splitBlock:aJ,splitListItem:lJ,toggleList:uJ,toggleMark:cJ,toggleNode:fJ,toggleWrap:hJ,undoInputRule:dJ,unsetAllMarks:pJ,unsetMark:mJ,updateAttributes:gJ,wrapIn:yJ,wrapInList:vJ});const bJ=Or.create({name:"commands",addCommands(){return{..._J}}}),AJ=Or.create({name:"drop",addProseMirrorPlugins(){return[new Zn({key:new di("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),TJ=Or.create({name:"editable",addProseMirrorPlugins(){return[new Zn({key:new di("editable"),props:{editable:()=>this.editor.options.editable}})]}}),EJ=new di("focusEvents"),wJ=Or.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Zn({key:EJ,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),SJ=Or.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:u})=>{const{selection:c,doc:h}=u,{empty:p,$anchor:m}=c,{pos:v,parent:_}=m,A=m.parent.isTextblock&&v>0?u.doc.resolve(v-1):m,T=A.parent.type.spec.isolating,w=m.pos-m.parentOffset,O=T&&A.parent.childCount===1?w===m.pos:rt.atStart(h).from===v;return!p||!_.type.isTextblock||_.textContent.length||!O||O&&m.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return iS()||iU()?s:i},addProseMirrorPlugins(){return[new Zn({key:new di("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(T=>T.getMeta("composition")))return;const r=n.some(T=>T.docChanged)&&!e.doc.eq(t.doc),i=n.some(T=>T.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:u}=e.selection,c=rt.atStart(e.doc).from,h=rt.atEnd(e.doc).to;if(s||!(a===c&&u===h)||!d_(t.doc))return;const v=t.tr,_=a_({state:t,transaction:v}),{commands:A}=new l_({editor:this.editor,state:_});if(A.clearNodes(),!!v.steps.length)return v}})]}}),RJ=Or.create({name:"paste",addProseMirrorPlugins(){return[new Zn({key:new di("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),CJ=Or.create({name:"tabindex",addProseMirrorPlugins(){return[new Zn({key:new di("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class yu{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new yu(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new yu(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new yu(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,a=this.pos+r+(s?0:1),u=this.resolvedPos.doc.resolve(a);if(!i&&u.depth<=this.depth)return;const c=new yu(u,this.editor,i,i?t:null);i&&(c.actualDepth=this.depth+1),e.push(new yu(u,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,a=Object.keys(t);for(let u=0;u<a.length;u+=1){const c=a[u];if(s[c]!==t[c])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(c=>t[c]===a.node.attrs[c])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const xJ=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function IJ(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class kJ extends VQ{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=IJ(xJ,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=XV(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;r=r.filter(u=>!u.key.startsWith(a))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[TJ,JQ.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),bJ,wJ,SJ,CJ,AJ,RJ].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new nf(i,this)}createCommandManager(){this.commandManager=new l_({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=WT(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(u=>u.name!=="collaboration"),this.createExtensionManager()}}),t=WT(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=nU(t,this.options.autofocus);this.view=new oQ(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:tf.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return oU(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return JX(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return tS(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return WX(this.state.doc,{blockSeparator:t,textSerializers:{...ZV(this.schema),...r}})}get isEmpty(){return d_(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new yu(t,this)}get $doc(){return this.$pos(0)}}function Df(n){return new c_({find:n.find,handler:({state:e,range:t,match:r})=>{const i=at(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],u=r[0];if(a){const c=u.search(/\S/),h=t.from+u.indexOf(a),p=h+a.length;if(oS(t.from,t.to,e.doc).filter(_=>_.mark.type.excluded.find(T=>T===n.type&&T!==_.mark.type)).filter(_=>_.to>h).length)return null;p<t.to&&s.delete(p,t.to),h>t.from&&s.delete(t.from+c,h);const v=t.from+c+a.length;s.addMark(t.from+c,v,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function OJ(n){return new c_({find:n.find,handler:({state:e,range:t,match:r})=>{const i=at(n.getAttributes,void 0,r)||{},{tr:s}=e,a=t.from;let u=t.to;const c=n.type.create(i);if(r[1]){const h=r[0].lastIndexOf(r[1]);let p=a+h;p>u?p=u:u=p+r[1].length;const m=r[0][r[0].length-1];s.insertText(m,a+r[0].length-1),s.replaceWith(p,u,c)}else if(r[0]){const h=n.type.isInline?a:a-1;s.insert(h,n.type.create(i)).delete(s.mapping.map(a),s.mapping.map(u))}s.scrollIntoView()}})}function YT(n){return new c_({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=at(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function yp(n){return new c_({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=at(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),c=a.doc.resolve(t.from).blockRange(),h=c&&zw(c,n.type,s);if(!h)return null;if(a.wrap(c,h),n.keepMarks&&n.editor){const{selection:m,storedMarks:v}=e,{splittableMarks:_}=n.editor.extensionManager,A=v||m.$to.parentOffset&&m.$from.marks();if(A){const T=A.filter(w=>_.includes(w.type.name));a.ensureMarks(T)}}if(n.keepAttributes){const m=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,s).run()}const p=a.doc.resolve(t.from-1).nodeBefore;p&&p.type===n.type&&Ml(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,p))&&a.join(t.from-1)}})}class hi{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=at(Ve(this,"addOptions",{name:this.name}))),this.storage=at(Ve(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new hi(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>f_(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new hi(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=at(Ve(t,"addOptions",{name:t.name})),t.storage=at(Ve(t,"addStorage",{name:t.name,options:t.options})),t}}function Yu(n){return new GQ({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=at(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,u=r[r.length-1],c=r[0];let h=t.to;if(u){const p=c.search(/\S/),m=t.from+c.indexOf(u),v=m+u.length;if(oS(t.from,t.to,e.doc).filter(A=>A.mark.type.excluded.find(w=>w===n.type&&w!==A.mark.type)).filter(A=>A.to>m).length)return null;v<t.to&&a.delete(v,t.to),m>t.from&&a.delete(t.from+p,m),h=t.from+p+u.length,a.addMark(t.from+p,h,n.type.create(s||{})),a.removeStoredMark(n.type)}}})}function NJ(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var aU={exports:{}},mA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UO;function MJ(){if(UO)return mA;UO=1;var n=wr;function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function u(m,v){var _=v(),A=r({inst:{value:_,getSnapshot:v}}),T=A[0].inst,w=A[1];return s(function(){T.value=_,T.getSnapshot=v,c(T)&&w({inst:T})},[m,_,v]),i(function(){return c(T)&&w({inst:T}),m(function(){c(T)&&w({inst:T})})},[m]),a(_),_}function c(m){var v=m.getSnapshot;m=m.value;try{var _=v();return!t(m,_)}catch{return!0}}function h(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return mA.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,mA}aU.exports=MJ();var aS=aU.exports;const DJ=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},PJ=({contentComponent:n})=>{const e=aS.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return wr.createElement(wr.Fragment,null,Object.values(e))};function LJ(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:_4.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class VJ extends wr.Component{constructor(e){var t;super(e),this.editorContentRef=wr.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=LJ(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return wr.createElement(wr.Fragment,null,wr.createElement("div",{ref:DJ(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&wr.createElement(PJ,{contentComponent:e.contentComponent}))}}const UJ=W.forwardRef((n,e)=>{const t=wr.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return wr.createElement(VJ,{key:t,innerRef:e,...n})}),zJ=wr.memo(UJ);var BJ=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},jJ=NJ(BJ),lU={exports:{}},gA={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO;function FJ(){if(zO)return gA;zO=1;var n=wr,e=aS;function t(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,u=n.useMemo,c=n.useDebugValue;return gA.useSyncExternalStoreWithSelector=function(h,p,m,v,_){var A=s(null);if(A.current===null){var T={hasValue:!1,value:null};A.current=T}else T=A.current;A=u(function(){function O(D){if(!M){if(M=!0,j=D,D=v(D),_!==void 0&&T.hasValue){var L=T.value;if(_(L,D))return q=L}return q=D}if(L=q,r(j,D))return L;var S=v(D);return _!==void 0&&_(L,S)?L:(j=D,q=S)}var M=!1,j,q,U=m===void 0?null:m;return[function(){return O(p())},U===null?void 0:function(){return O(U())}]},[p,m,v,_]);var w=i(h,A[0],A[1]);return a(function(){T.hasValue=!0,T.value=w},[w]),c(w),w},gA}lU.exports=FJ();var HJ=lU.exports;const qJ=typeof window<"u"?W.useLayoutEffect:W.useEffect;class $J{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function GJ(n){var e;const[t]=W.useState(()=>new $J(n.editor)),r=HJ.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:jJ);return qJ(()=>t.watch(n.editor),[n.editor,t]),W.useDebugValue(r),r}const WJ=!1,QT=typeof window>"u",KJ=QT||!!(typeof window<"u"&&window.next);class lS{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?QT||KJ?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new kJ(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=t.extensions)===null||a===void 0?void 0:a[s])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?lS.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function YJ(n={},e=[]){const t=W.useRef(n);t.current=n;const[r]=W.useState(()=>new lS(t)),i=aS.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return W.useDebugValue(i),W.useEffect(r.onRender(e)),GJ({editor:i,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&s===0?0:s+1}),i}const QJ=W.createContext({editor:null});QJ.Consumer;const XJ=W.createContext({onDragStart:void 0}),JJ=()=>W.useContext(XJ);wr.forwardRef((n,e)=>{const{onDragStart:t}=JJ(),r=n.as||"div";return wr.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const ZJ=/^\s*>\s$/,eZ=hi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",Jn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[yp({find:ZJ,type:this.type})]}}),tZ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,nZ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,rZ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,iZ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,sZ=bo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",Jn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Df({find:tZ,type:this.type}),Df({find:rZ,type:this.type})]},addPasteRules(){return[Yu({find:nZ,type:this.type}),Yu({find:iZ,type:this.type})]}}),oZ="listItem",BO="textStyle",jO=/^\s*([-+*])\s$/,aZ=hi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Jn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(oZ,this.editor.getAttributes(BO)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=yp({find:jO,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=yp({find:jO,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(BO),editor:this.editor})),[n]}}),lZ=/(^|[^`])`([^`]+)`(?!`)/,uZ=/(^|[^`])`([^`]+)`(?!`)/g,cZ=bo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Jn(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Df({find:lZ,type:this.type})]},addPasteRules(){return[Yu({find:uZ,type:this.type})]}}),fZ=/^```([a-z]+)?[\s\n]$/,hZ=/^~~~([a-z]+)?[\s\n]$/,dZ=hi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",Jn(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:n.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const u=i.after();return u===void 0?!1:r.nodeAt(u)?n.commands.command(({tr:h})=>(h.setSelection(rt.near(r.resolve(u))),!0)):n.commands.exitCode()}}},addInputRules(){return[YT({find:fZ,type:this.type,getAttributes:n=>({language:n[1]})}),YT({find:hZ,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Zn({key:new di("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!t||!s)return!1;const{tr:a,schema:u}=n.state,c=u.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(Je.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),pZ=hi.create({name:"doc",topNode:!0,content:"block+"});function mZ(n={}){return new Zn({view(e){return new gZ(e,n)}})}class gZ{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,u=s.height/i.offsetHeight;if(t){let m=e.nodeBefore,v=e.nodeAfter;if(m||v){let _=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(_){let A=_.getBoundingClientRect(),T=m?A.bottom:A.top;m&&v&&(T=(T+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*u;r={left:A.left,right:A.right,top:T-w,bottom:T+w}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*a;r={left:m.left-v,right:m.left+v,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,p;if(!c||c==document.body&&getComputedStyle(c).position=="static")h=-pageXOffset,p=-pageYOffset;else{let m=c.getBoundingClientRect(),v=m.width/c.offsetWidth,_=m.height/c.offsetHeight;h=m.left-c.scrollLeft*v,p=m.top-c.scrollTop*_}this.element.style.left=(r.left-h)/a+"px",this.element.style.top=(r.top-p)/u+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=Q2(this.editorView.state.doc,a,this.editorView.dragging.slice);u!=null&&(a=u)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const yZ=Or.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[mZ(this.options)]}});class hn extends rt{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return hn.valid(r)?new hn(r):rt.near(r)}content(){return ke.empty}eq(e){return e instanceof hn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new hn(e.resolve(t.pos))}getBookmark(){return new uS(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!vZ(e)||!_Z(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&hn.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let u=e.node(a);if(t>0?e.indexAfter(a)<u.childCount:e.index(a)>0){s=u.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=t;let c=e.doc.resolve(i);if(hn.valid(c))return c}for(;;){let a=t>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!$e.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=a,i+=t;let u=e.doc.resolve(i);if(hn.valid(u))return u}return null}}}hn.prototype.visible=!1;hn.findFrom=hn.findGapCursorFrom;rt.jsonID("gapcursor",hn);class uS{constructor(e){this.pos=e}map(e){return new uS(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return hn.valid(t)?new hn(t):rt.near(t)}}function vZ(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function _Z(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function bZ(){return new Zn({props:{decorations:wZ,createSelectionBetween(n,e,t){return e.pos==t.pos&&hn.valid(t)?new hn(t):null},handleClick:TZ,handleKeyDown:AZ,handleDOMEvents:{beforeinput:EZ}}})}const AZ=VV({ArrowLeft:bg("horiz",-1),ArrowRight:bg("horiz",1),ArrowUp:bg("vert",-1),ArrowDown:bg("vert",1)});function bg(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,u=e>0?a.$to:a.$from,c=a.empty;if(a instanceof Je){if(!s.endOfTextblock(t)||u.depth==0)return!1;c=!1,u=r.doc.resolve(e>0?u.after():u.before())}let h=hn.findGapCursorFrom(u,e,c);return h?(i&&i(r.tr.setSelection(new hn(h))),!0):!1}}function TZ(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!hn.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&$e.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new hn(r))),!0)}function EZ(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof hn))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=be.empty;for(let a=r.length-1;a>=0;a--)i=be.from(r[a].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new ke(i,0,0));return s.setSelection(Je.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function wZ(n){if(!(n.selection instanceof hn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",kn.create(n.doc,[Pi.widget(n.selection.head,e,{key:"gapcursor"})])}const SZ=Or.create({name:"gapCursor",addProseMirrorPlugins(){return[bZ()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=at(Ve(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),RZ=hi.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Jn(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:u}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&c&&a){const m=c.filter(v=>u.includes(v.type.name));h.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),CZ=hi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Jn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>YT({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var qy=200,Yn=function(){};Yn.prototype.append=function(e){return e.length?(e=Yn.from(e),!this.length&&e||e.length<qy&&this.leafAppend(e)||this.length<qy&&e.leafPrepend(this)||this.appendInner(e)):this};Yn.prototype.prepend=function(e){return e.length?Yn.from(e).append(this):this};Yn.prototype.appendInner=function(e){return new xZ(this,e)};Yn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Yn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Yn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Yn.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Yn.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},t,r),i};Yn.from=function(e){return e instanceof Yn?e:e&&e.length?new uU(e):Yn.empty};var uU=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,u){for(var c=s;c<a;c++)if(i(this.values[c],u+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,u){for(var c=s-1;c>=a;c--)if(i(this.values[c],u+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=qy)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=qy)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Yn);Yn.empty=new uU([]);var xZ=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var u=this.left.length;if(i<u&&this.left.forEachInner(r,i,Math.min(s,u),a)===!1||s>u&&this.right.forEachInner(r,Math.max(i-u,0),Math.min(this.length,s)-u,a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(r,i-u,Math.max(s,u)-u,a+u)===!1||s<u&&this.left.forEachInvertedInner(r,Math.min(i,u),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Yn);const IZ=500;class Rs{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,u,c,h=[],p=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(r,v+1),s=i.maps.length),s--,p.push(m);return}if(i){p.push(new Zs(m.map));let _=m.step.map(i.slice(s)),A;_&&a.maybeStep(_).doc&&(A=a.mapping.maps[a.mapping.maps.length-1],h.push(new Zs(A,void 0,void 0,h.length+p.length))),s--,A&&i.appendMap(A,s)}else a.maybeStep(m.step);if(m.selection)return u=i?m.selection.map(i.slice(s)):m.selection,c=new Rs(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:u}}addTransform(e,t,r,i){let s=[],a=this.eventCount,u=this.items,c=!i&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),v=new Zs(e.mapping.maps[p],m,t),_;(_=c&&c.merge(v))&&(v=_,p?s.pop():u=u.slice(0,u.length-1)),s.push(v),t&&(a++,t=void 0),i||(c=v)}let h=a-r.depth;return h>OZ&&(u=kZ(u,h),a-=h),new Rs(u.append(s),a)}remapping(e,t){let r=new fp;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new Rs(this.items.append(e.map(t=>new Zs(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,a=e.steps.length,u=this.eventCount;this.items.forEach(v=>{v.selection&&u--},i);let c=t;this.items.forEach(v=>{let _=s.getMirror(--c);if(_==null)return;a=Math.min(a,_);let A=s.maps[_];if(v.step){let T=e.steps[_].invert(e.docs[_]),w=v.selection&&v.selection.map(s.slice(c+1,_));w&&u++,r.push(new Zs(A,T,w))}else r.push(new Zs(A))},i);let h=[];for(let v=t;v<a;v++)h.push(new Zs(s.maps[v]));let p=this.items.slice(0,i).append(h).append(r),m=new Rs(p,u);return m.emptyItemCount()>IZ&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((a,u)=>{if(u>=e)i.push(a),a.selection&&s++;else if(a.step){let c=a.step.map(t.slice(r)),h=c&&c.getMap();if(r--,h&&t.appendMap(h,r),c){let p=a.selection&&a.selection.map(t.slice(r));p&&s++;let m=new Zs(h.invert(),c,p),v,_=i.length-1;(v=i.length&&i[_].merge(m))?i[_]=v:i.push(m)}}else a.map&&r--},this.items.length,0),new Rs(Yn.from(i.reverse()),s)}}Rs.empty=new Rs(Yn.empty,0);function kZ(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class Zs{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Zs(t.getMap().invert(),t,this.selection)}}}class Ba{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const OZ=20;function NZ(n,e,t,r){let i=t.getMeta(Vu),s;if(i)return i.historyState;t.getMeta(PZ)&&(n=new Ba(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(Vu))return a.getMeta(Vu).redo?new Ba(n.done.addTransform(t,void 0,r,Yg(e)),n.undone,FO(t.mapping.maps),n.prevTime,n.prevComposition):new Ba(n.done,n.undone.addTransform(t,void 0,r,Yg(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),c=n.prevTime==0||!a&&n.prevComposition!=u&&(n.prevTime<(t.time||0)-r.newGroupDelay||!MZ(t,n.prevRanges)),h=a?yA(n.prevRanges,t.mapping):FO(t.mapping.maps);return new Ba(n.done.addTransform(t,c?e.selection.getBookmark():void 0,r,Yg(e)),Rs.empty,h,t.time,u??n.prevComposition)}else return(s=t.getMeta("rebased"))?new Ba(n.done.rebased(t,s),n.undone.rebased(t,s),yA(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Ba(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),yA(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function MZ(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function FO(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,a)=>e.push(s,a));return e}function yA(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function DZ(n,e,t){let r=Yg(e),i=Vu.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),u=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new Ba(t?u:s.remaining,t?s.remaining:u,null,0,-1);return s.transform.setSelection(a).setMeta(Vu,{redo:t,historyState:c})}let vA=!1,HO=null;function Yg(n){let e=n.plugins;if(HO!=e){vA=!1,HO=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){vA=!0;break}}return vA}const Vu=new di("history"),PZ=new di("closeHistory");function LZ(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Zn({key:Vu,state:{init(){return new Ba(Rs.empty,Rs.empty,null,0,-1)},apply(e,t,r){return NZ(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?fU:r=="historyRedo"?hU:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function cU(n,e){return(t,r)=>{let i=Vu.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=DZ(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const fU=cU(!1,!0),hU=cU(!0,!0),VZ=Or.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>fU(n,e),redo:()=>({state:n,dispatch:e})=>hU(n,e)}},addProseMirrorPlugins(){return[LZ(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),UZ=hi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Jn(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:i}=t,s=n();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):ZX(t)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:u})=>{var c;if(u){const{$to:h}=a.selection,p=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?a.setSelection(Je.create(a.doc,h.pos+1)):h.nodeAfter.isBlock?a.setSelection($e.create(a.doc,h.pos)):a.setSelection(Je.create(a.doc,h.pos));else{const m=(c=h.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();m&&(a.insert(p,m),a.setSelection(Je.create(a.doc,p+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[OJ({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),zZ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,BZ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,jZ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,FZ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,HZ=bo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Jn(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Df({find:zZ,type:this.type}),Df({find:jZ,type:this.type})]},addPasteRules(){return[Yu({find:BZ,type:this.type}),Yu({find:FZ,type:this.type})]}}),qZ=hi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Jn(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),$Z="listItem",qO="textStyle",$O=/^(\d+)\.\s$/,GZ=hi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",Jn(this.options.HTMLAttributes,t),0]:["ol",Jn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($Z,this.editor.getAttributes(qO)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=yp({find:$O,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=yp({find:$O,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(qO)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),WZ=hi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Jn(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),KZ=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,YZ=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,QZ=bo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Jn(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Df({find:KZ,type:this.type})]},addPasteRules(){return[Yu({find:YZ,type:this.type})]}}),XZ=hi.create({name:"text",group:"inline"}),JZ=Or.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(sZ.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(eZ.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(aZ.configure(this.options.bulletList)),this.options.code!==!1&&n.push(cZ.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(dZ.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(pZ.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(yZ.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(SZ.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(RZ.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(CZ.configure(this.options.heading)),this.options.history!==!1&&n.push(VZ.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(UZ.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(HZ.configure(this.options.italic)),this.options.listItem!==!1&&n.push(qZ.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(GZ.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(WZ.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(QZ.configure(this.options.strike)),this.options.text!==!1&&n.push(XZ.configure(this.options.text)),n}}),ZZ=n=>{if(!n.children.length)return;const e=n.querySelectorAll("span");e&&e.forEach(t=>{var r,i;const s=t.getAttribute("style"),a=(i=(r=t.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");t.setAttribute("style",`${a};${s}`)})},eee=bo.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&ZZ(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",Jn(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),tee=Or.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Zn({key:new di("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!t)return null;const s=this.editor.isEmpty;return n.descendants((a,u)=>{const c=r>=u&&r<=u+a.nodeSize,h=!a.isLeaf&&d_(a);if((c||!this.options.showOnlyCurrent)&&h){const p=[this.options.emptyNodeClass];s&&p.push(this.options.emptyEditorClass);const m=Pi.node(u,u+a.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:u,hasAnchor:c}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),kn.create(n,i)}}})]}}),nee="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",ree="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Pf=(n,e)=>{for(const t in e)n[t]=e[t];return n},XT="numeric",JT="ascii",ZT="alpha",zd="asciinumeric",Sd="alphanumeric",eE="domain",dU="emoji",iee="scheme",see="slashscheme",_A="whitespace";function oee(n,e){return n in e||(e[n]=[]),e[n]}function Ru(n,e,t){e[XT]&&(e[zd]=!0,e[Sd]=!0),e[JT]&&(e[zd]=!0,e[ZT]=!0),e[zd]&&(e[Sd]=!0),e[ZT]&&(e[Sd]=!0),e[Sd]&&(e[eE]=!0),e[dU]&&(e[eE]=!0);for(const r in e){const i=oee(r,t);i.indexOf(n)<0&&i.push(n)}}function aee(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function ti(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}ti.groups={};ti.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(n))return s}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||ti.groups;let i;return e&&e.j?i=e:(i=new ti(e),t&&r&&Ru(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const s=n.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(n[a]);return i.tt(n[s-1],e,t,r)},tt(n,e,t,r){r=r||ti.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const s=e;let a,u=i.go(n);if(u?(a=new ti,Pf(a.j,u.j),a.jr.push.apply(a.jr,u.jr),a.jd=u.jd,a.t=u.t):a=new ti,s){if(r)if(a.t&&typeof a.t=="string"){const c=Pf(aee(a.t,r),t);Ru(s,c,r)}else t&&Ru(s,t,r);a.t=s}return i.j[n]=a,a}};const st=(n,e,t,r,i)=>n.ta(e,t,r,i),fn=(n,e,t,r,i)=>n.tr(e,t,r,i),GO=(n,e,t,r,i)=>n.ts(e,t,r,i),Ee=(n,e,t,r,i)=>n.tt(e,t,r,i),$o="WORD",tE="UWORD",pU="ASCIINUMERICAL",mU="ALPHANUMERICAL",vp="LOCALHOST",nE="TLD",rE="UTLD",Qg="SCHEME",Jc="SLASH_SCHEME",cS="NUM",iE="WS",fS="NL",Bd="OPENBRACE",jd="CLOSEBRACE",$y="OPENBRACKET",Gy="CLOSEBRACKET",Wy="OPENPAREN",Ky="CLOSEPAREN",Yy="OPENANGLEBRACKET",Qy="CLOSEANGLEBRACKET",Xy="FULLWIDTHLEFTPAREN",Jy="FULLWIDTHRIGHTPAREN",Zy="LEFTCORNERBRACKET",ev="RIGHTCORNERBRACKET",tv="LEFTWHITECORNERBRACKET",nv="RIGHTWHITECORNERBRACKET",rv="FULLWIDTHLESSTHAN",iv="FULLWIDTHGREATERTHAN",sv="AMPERSAND",hS="APOSTROPHE",ov="ASTERISK",ja="AT",av="BACKSLASH",lv="BACKTICK",uv="CARET",Ka="COLON",dS="COMMA",cv="DOLLAR",eo="DOT",fv="EQUALS",pS="EXCLAMATION",rs="HYPHEN",Fd="PERCENT",hv="PIPE",dv="PLUS",pv="POUND",Hd="QUERY",mS="QUOTE",gU="FULLWIDTHMIDDLEDOT",gS="SEMI",to="SLASH",qd="TILDE",mv="UNDERSCORE",yU="EMOJI",gv="SYM";var vU=Object.freeze({__proto__:null,WORD:$o,UWORD:tE,ASCIINUMERICAL:pU,ALPHANUMERICAL:mU,LOCALHOST:vp,TLD:nE,UTLD:rE,SCHEME:Qg,SLASH_SCHEME:Jc,NUM:cS,WS:iE,NL:fS,OPENBRACE:Bd,CLOSEBRACE:jd,OPENBRACKET:$y,CLOSEBRACKET:Gy,OPENPAREN:Wy,CLOSEPAREN:Ky,OPENANGLEBRACKET:Yy,CLOSEANGLEBRACKET:Qy,FULLWIDTHLEFTPAREN:Xy,FULLWIDTHRIGHTPAREN:Jy,LEFTCORNERBRACKET:Zy,RIGHTCORNERBRACKET:ev,LEFTWHITECORNERBRACKET:tv,RIGHTWHITECORNERBRACKET:nv,FULLWIDTHLESSTHAN:rv,FULLWIDTHGREATERTHAN:iv,AMPERSAND:sv,APOSTROPHE:hS,ASTERISK:ov,AT:ja,BACKSLASH:av,BACKTICK:lv,CARET:uv,COLON:Ka,COMMA:dS,DOLLAR:cv,DOT:eo,EQUALS:fv,EXCLAMATION:pS,HYPHEN:rs,PERCENT:Fd,PIPE:hv,PLUS:dv,POUND:pv,QUERY:Hd,QUOTE:mS,FULLWIDTHMIDDLEDOT:gU,SEMI:gS,SLASH:to,TILDE:qd,UNDERSCORE:mv,EMOJI:yU,SYM:gv});const Ho=/[a-z]/,id=new RegExp("\\p{L}","u"),bA=new RegExp("\\p{Emoji}","u"),qo=/\d/,AA=/\s/,WO="\r",TA=`
`,lee="️",uee="‍",EA="￼";let Ag=null,Tg=null;function cee(n=[]){const e={};ti.groups=e;const t=new ti;Ag==null&&(Ag=KO(nee)),Tg==null&&(Tg=KO(ree)),Ee(t,"'",hS),Ee(t,"{",Bd),Ee(t,"}",jd),Ee(t,"[",$y),Ee(t,"]",Gy),Ee(t,"(",Wy),Ee(t,")",Ky),Ee(t,"<",Yy),Ee(t,">",Qy),Ee(t,"（",Xy),Ee(t,"）",Jy),Ee(t,"「",Zy),Ee(t,"」",ev),Ee(t,"『",tv),Ee(t,"』",nv),Ee(t,"＜",rv),Ee(t,"＞",iv),Ee(t,"&",sv),Ee(t,"*",ov),Ee(t,"@",ja),Ee(t,"`",lv),Ee(t,"^",uv),Ee(t,":",Ka),Ee(t,",",dS),Ee(t,"$",cv),Ee(t,".",eo),Ee(t,"=",fv),Ee(t,"!",pS),Ee(t,"-",rs),Ee(t,"%",Fd),Ee(t,"|",hv),Ee(t,"+",dv),Ee(t,"#",pv),Ee(t,"?",Hd),Ee(t,'"',mS),Ee(t,"/",to),Ee(t,";",gS),Ee(t,"~",qd),Ee(t,"_",mv),Ee(t,"\\",av),Ee(t,"・",gU);const r=fn(t,qo,cS,{[XT]:!0});fn(r,qo,r);const i=fn(r,Ho,pU,{[zd]:!0}),s=fn(r,id,mU,{[Sd]:!0}),a=fn(t,Ho,$o,{[JT]:!0});fn(a,qo,i),fn(a,Ho,a),fn(i,qo,i),fn(i,Ho,i);const u=fn(t,id,tE,{[ZT]:!0});fn(u,Ho),fn(u,qo,s),fn(u,id,u),fn(s,qo,s),fn(s,Ho),fn(s,id,s);const c=Ee(t,TA,fS,{[_A]:!0}),h=Ee(t,WO,iE,{[_A]:!0}),p=fn(t,AA,iE,{[_A]:!0});Ee(t,EA,p),Ee(h,TA,c),Ee(h,EA,p),fn(h,AA,p),Ee(p,WO),Ee(p,TA),fn(p,AA,p),Ee(p,EA,p);const m=fn(t,bA,yU,{[dU]:!0});Ee(m,"#"),fn(m,bA,m),Ee(m,lee,m);const v=Ee(m,uee);Ee(v,"#"),fn(v,bA,m);const _=[[Ho,a],[qo,i]],A=[[Ho,null],[id,u],[qo,s]];for(let T=0;T<Ag.length;T++)La(t,Ag[T],nE,$o,_);for(let T=0;T<Tg.length;T++)La(t,Tg[T],rE,tE,A);Ru(nE,{tld:!0,ascii:!0},e),Ru(rE,{utld:!0,alpha:!0},e),La(t,"file",Qg,$o,_),La(t,"mailto",Qg,$o,_),La(t,"http",Jc,$o,_),La(t,"https",Jc,$o,_),La(t,"ftp",Jc,$o,_),La(t,"ftps",Jc,$o,_),Ru(Qg,{scheme:!0,ascii:!0},e),Ru(Jc,{slashscheme:!0,ascii:!0},e),n=n.sort((T,w)=>T[0]>w[0]?1:-1);for(let T=0;T<n.length;T++){const w=n[T][0],M=n[T][1]?{[iee]:!0}:{[see]:!0};w.indexOf("-")>=0?M[eE]=!0:Ho.test(w)?qo.test(w)?M[zd]=!0:M[JT]=!0:M[XT]=!0,GO(t,w,w,M)}return GO(t,"localhost",vp,{ascii:!0}),t.jd=new ti(gv),{start:t,tokens:Pf({groups:e},vU)}}function _U(n,e){const t=fee(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=t.length,i=[];let s=0,a=0;for(;a<r;){let u=n,c=null,h=0,p=null,m=-1,v=-1;for(;a<r&&(c=u.go(t[a]));)u=c,u.accepts()?(m=0,v=0,p=u):m>=0&&(m+=t[a].length,v++),h+=t[a].length,s+=t[a].length,a++;s-=m,a-=v,h-=m,i.push({t:p.t,v:e.slice(s-h,s),s:s-h,e:s})}return i}function fee(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),s,a=i<55296||i>56319||r+1===t||(s=n.charCodeAt(r+1))<56320||s>57343?n[r]:n.slice(r,r+2);e.push(a),r+=a.length}return e}function La(n,e,t,r,i){let s;const a=e.length;for(let u=0;u<a-1;u++){const c=e[u];n.j[c]?s=n.j[c]:(s=new ti(r),s.jr=i.slice(),n.j[c]=s),n=s}return s=new ti(t),s.jr=i.slice(),n.j[e[a-1]]=s,s}function KO(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let s=0;for(;i.indexOf(n[r+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let a=parseInt(n.substring(r,r+s),10);a>0;a--)t.pop();r+=s}else t.push(n[r]),r++}return e}const _p={defaultProtocol:"http",events:null,format:YO,formatHref:YO,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function yS(n,e=null){let t=Pf({},_p);n&&(t=Pf(t,n instanceof yS?n.o:n));const r=t.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}yS.prototype={o:_p,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:_p[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function YO(n){return n}function bU(n,e){this.t="token",this.v=n,this.tk=e}bU.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"…":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=_p.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),s=this.toFormattedString(n),a={},u=n.get("className",t,e),c=n.get("target",t,e),h=n.get("rel",t,e),p=n.getObj("attributes",t,e),m=n.getObj("events",t,e);return a.href=r,u&&(a.class=u),c&&(a.target=c),h&&(a.rel=h),p&&Pf(a,p),{tagName:i,attributes:a,content:s,eventListeners:m}}};function p_(n,e){class t extends bU{constructor(i,s){super(i,s),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const QO=p_("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),XO=p_("text"),hee=p_("nl"),Eg=p_("url",{isLink:!0,toHref(n=_p.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==vp&&n[1].t===Ka}}),ts=n=>new ti(n);function dee({groups:n}){const e=n.domain.concat([sv,ov,ja,av,lv,uv,cv,fv,rs,cS,Fd,hv,dv,pv,to,gv,qd,mv]),t=[Ka,dS,eo,pS,Fd,Hd,mS,gS,Yy,Qy,Bd,jd,Gy,$y,Wy,Ky,Xy,Jy,Zy,ev,tv,nv,rv,iv],r=[sv,hS,ov,av,lv,uv,cv,fv,rs,Bd,jd,Fd,hv,dv,pv,Hd,to,gv,qd,mv],i=ts(),s=Ee(i,qd);st(s,r,s),st(s,n.domain,s);const a=ts(),u=ts(),c=ts();st(i,n.domain,a),st(i,n.scheme,u),st(i,n.slashscheme,c),st(a,r,s),st(a,n.domain,a);const h=Ee(a,ja);Ee(s,ja,h),Ee(u,ja,h),Ee(c,ja,h);const p=Ee(s,eo);st(p,r,s),st(p,n.domain,s);const m=ts();st(h,n.domain,m),st(m,n.domain,m);const v=Ee(m,eo);st(v,n.domain,m);const _=ts(QO);st(v,n.tld,_),st(v,n.utld,_),Ee(h,vp,_);const A=Ee(m,rs);Ee(A,rs,A),st(A,n.domain,m),st(_,n.domain,m),Ee(_,eo,v),Ee(_,rs,A);const T=Ee(_,Ka);st(T,n.numeric,QO);const w=Ee(a,rs),O=Ee(a,eo);Ee(w,rs,w),st(w,n.domain,a),st(O,r,s),st(O,n.domain,a);const M=ts(Eg);st(O,n.tld,M),st(O,n.utld,M),st(M,n.domain,a),st(M,r,s),Ee(M,eo,O),Ee(M,rs,w),Ee(M,ja,h);const j=Ee(M,Ka),q=ts(Eg);st(j,n.numeric,q);const U=ts(Eg),D=ts();st(U,e,U),st(U,t,D),st(D,e,U),st(D,t,D),Ee(M,to,U),Ee(q,to,U);const L=Ee(u,Ka),S=Ee(c,Ka),C=Ee(S,to),B=Ee(C,to);st(u,n.domain,a),Ee(u,eo,O),Ee(u,rs,w),st(c,n.domain,a),Ee(c,eo,O),Ee(c,rs,w),st(L,n.domain,U),Ee(L,to,U),Ee(L,Hd,U),st(B,n.domain,U),st(B,e,U),Ee(B,to,U);const P=[[Bd,jd],[$y,Gy],[Wy,Ky],[Yy,Qy],[Xy,Jy],[Zy,ev],[tv,nv],[rv,iv]];for(let N=0;N<P.length;N++){const[k,J]=P[N],F=Ee(U,k);Ee(D,k,F),Ee(F,J,U);const $=ts(Eg);st(F,e,$);const G=ts();st(F,t),st($,e,$),st($,t,G),st(G,e,$),st(G,t,G),Ee($,J,U),Ee(G,J,U)}return Ee(i,vp,M),Ee(i,fS,hee),{start:i,tokens:vU}}function pee(n,e,t){let r=t.length,i=0,s=[],a=[];for(;i<r;){let u=n,c=null,h=null,p=0,m=null,v=-1;for(;i<r&&!(c=u.go(t[i].t));)a.push(t[i++]);for(;i<r&&(h=c||u.go(t[i].t));)c=null,u=h,u.accepts()?(v=0,m=u):v>=0&&v++,i++,p++;if(v<0)i-=p,i<r&&(a.push(t[i]),i++);else{a.length>0&&(s.push(wA(XO,e,a)),a=[]),i-=v,p-=v;const _=m.t,A=t.slice(i-p,i);s.push(wA(_,e,A))}}return a.length>0&&s.push(wA(XO,e,a)),s}function wA(n,e,t){const r=t[0].s,i=t[t.length-1].e,s=e.slice(r,i);return new n(s,t)}const mee=typeof console<"u"&&console&&console.warn||(()=>{}),gee="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Wt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function yee(){return ti.groups={},Wt.scanner=null,Wt.parser=null,Wt.tokenQueue=[],Wt.pluginQueue=[],Wt.customSchemes=[],Wt.initialized=!1,Wt}function JO(n,e=!1){if(Wt.initialized&&mee(`linkifyjs: already initialized - will not register custom scheme "${n}" ${gee}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Wt.customSchemes.push([n,e])}function vee(){Wt.scanner=cee(Wt.customSchemes);for(let n=0;n<Wt.tokenQueue.length;n++)Wt.tokenQueue[n][1]({scanner:Wt.scanner});Wt.parser=dee(Wt.scanner.tokens);for(let n=0;n<Wt.pluginQueue.length;n++)Wt.pluginQueue[n][1]({scanner:Wt.scanner,parser:Wt.parser});return Wt.initialized=!0,Wt}function vS(n){return Wt.initialized||vee(),pee(Wt.parser.start,n,_U(Wt.scanner.start,n))}vS.scan=_U;function AU(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new yS(t),i=vS(n),s=[];for(let a=0;a<i.length;a++){const u=i[a];u.isLink&&(!e||u.t===e)&&r.check(u)&&s.push(u.toFormattedObject(r))}return s}function _ee(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function bee(n){return new Zn({key:new di("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(h=>h.docChanged)&&!t.doc.eq(r.doc),s=e.some(h=>h.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,u=HX(t.doc,[...e]);if(XX(u).forEach(({newRange:h})=>{const p=$X(r.doc,h,_=>_.isTextblock);let m,v;if(p.length>1?(m=p[0],v=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ")):p.length&&r.doc.textBetween(h.from,h.to," "," ").endsWith(" ")&&(m=p[0],v=r.doc.textBetween(m.pos,h.to,void 0," ")),m&&v){const _=v.split(" ").filter(O=>O!=="");if(_.length<=0)return!1;const A=_[_.length-1],T=m.pos+v.lastIndexOf(A);if(!A)return!1;const w=vS(A).map(O=>O.toObject(n.defaultProtocol));if(!_ee(w))return!1;w.filter(O=>O.isLink).map(O=>({...O,from:T+O.start+1,to:T+O.end+1})).filter(O=>r.schema.marks.code?!r.doc.rangeHasMark(O.from,O.to,r.schema.marks.code):!0).filter(O=>n.validate(O.value)).filter(O=>n.shouldAutoLink(O.value)).forEach(O=>{oS(O.from,O.to,r.doc).some(M=>M.mark.type===n.type)||a.addMark(O.from,O.to,n.type.create({href:O.href}))})}}),!!a.steps.length)return a}})}function Aee(n){return new Zn({key:new di("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=r.target;const u=[];for(;a.nodeName!=="DIV";)u.push(a),a=a.parentNode;if(!u.find(v=>v.nodeName==="A"))return!1;const c=oU(e.state,n.type.name),h=r.target,p=(i=h==null?void 0:h.href)!==null&&i!==void 0?i:c.href,m=(s=h==null?void 0:h.target)!==null&&s!==void 0?s:c.target;return h&&p?(window.open(p,m),!0):!1}}})}function Tee(n){return new Zn({key:new di("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:i}=e,{selection:s}=i,{empty:a}=s;if(a)return!1;let u="";r.content.forEach(h=>{u+=h.textContent});const c=AU(u,{defaultProtocol:n.defaultProtocol}).find(h=>h.isLink&&h.value===u);return!u||!c?!1:n.editor.commands.setMark(n.type,{href:c.href})}}})}const Eee=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function cu(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(Eee,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const wee=bo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){JO(n);return}JO(n.scheme,n.optionalSlashes)})},onDestroy(){yee()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!cu(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!cu(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!cu(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Jn(this.options.HTMLAttributes,n),0]:["a",Jn(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!cu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!cu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Yu({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,i=AU(n).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!cu(a,t),protocols:t,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(bee({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!cu(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(Aee({type:this.type})),this.options.linkOnPaste&&n.push(Tee({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}});function TU({onChange:n,content:e}){const t=YJ({extensions:[JZ,eee,tee.configure({placeholder:"Start typing here..."}),wee],content:e,onUpdate:({editor:i})=>{n(i.getHTML())}});if(!t)return null;const r=i=>{i.preventDefault()};return R.jsxs("div",{className:"editor-wrapper dark-silver-bg",children:[R.jsxs("div",{className:"toolbar",children:[R.jsx("button",{type:"button",onClick:i=>{r(i),t.chain().focus().toggleBold().run()},className:t.isActive("bold")?"active":"",children:"Bold"}),R.jsx("button",{type:"button",onClick:i=>{r(i),t.chain().focus().toggleItalic().run()},className:t.isActive("italic")?"active":"",children:"Italic"}),R.jsx("button",{type:"button",onClick:i=>{r(i),t.chain().focus().toggleHeading({level:1}).run()},className:t.isActive("heading",{level:1})?"active":"",children:"H1"}),R.jsx("button",{type:"button",onClick:i=>{r(i),t.chain().focus().toggleHeading({level:2}).run()},className:t.isActive("heading",{level:2})?"active":"",children:"H2"}),R.jsx("button",{type:"button",onClick:i=>{r(i),t.chain().focus().toggleBulletList().run()},className:t.isActive("bulletList")?"active":"",children:"Bullet List"}),R.jsx("button",{type:"button",onClick:i=>{r(i);const s=t.getAttributes("link").href;let a=window.prompt("Enter URL",s||"");a!==null&&(a&&!a.startsWith("http://")&&!a.startsWith("https://")&&(a=`https://${a}`),a===""?t.chain().focus().unsetLink().run():t.chain().focus().setLink({href:a}).run())},className:t.isActive("link")?"active":"",children:"Link"}),R.jsx("button",{type:"button",onClick:i=>{r(i),t.chain().focus().undo().run()},children:"Undo"}),R.jsx("button",{type:"button",onClick:i=>{r(i),t.chain().focus().redo().run()},children:"Redo"})]}),R.jsx(zJ,{editor:t,className:"editor-content"})]})}const EU="/assets/menu-DAMTkw-O.png",_S="/assets/check-BWpW0xC-.png",wU="/assets/description-C5Kf4JsE.png",SU="/assets/image-CvEaPl9Q.png",RU="/assets/content-writing-Co6lRQM-.png",CU="/assets/shuffle-BkdvClfH.png";function See(){const[n,e]=W.useState(null),[t,r]=W.useState({}),[i,s]=W.useState(!1),[a,u]=W.useState(!1),[c,h]=W.useState([]),[p,m]=W.useState(null),[v,_]=W.useState(null),[A,T]=W.useState(null),[w,O]=W.useState([]),[M,j]=W.useState(null),[q,U]=W.useState(null),[D,L]=W.useState(null),S=[{img:wU,type:"Description",label:"Description"},{img:CU,type:"Redirect",label:"Redirect Link"},{img:RU,type:"Article",label:"Article Content"},{img:SU,type:"Image",label:"Image Upload"}],C=k=>{h(k==="Redirect"?J=>[...J,{type:k,value:{partName:"",partUrl:""}}]:J=>[...J,{type:k,value:""}]),u(!1)},B=(k,J,F=null)=>{const $=[...c];if(F&&typeof $[k].value=="object"?$[k].value={...$[k].value,[F]:J}:$[k].value=J,h($),$[k].type==="Image"&&J instanceof File){const G=URL.createObjectURL(J);r(Z=>({...Z,[k]:G}))}},P=(k,J)=>{switch(k.type){case"Description":case"Article":return R.jsxs("div",{style:{marginBottom:"100px"},className:"display-column",children:[R.jsx("label",{style:{fontSize:"1.5rem"},className:"input-label outfit-font",children:k.type}),R.jsx(TU,{onChange:F=>B(J,F)})]},J);case"Redirect":return R.jsxs("div",{style:{marginBottom:"100px",padding:"30px 3%"},className:"display-column",children:[R.jsx("label",{className:"input-label outfit-font",children:"Redirect Name"}),R.jsx("input",{className:"input",type:"text",value:k.value.name,placeholder:"Part 3, or Part 1",style:{marginBottom:"30px",padding:"10px 20px"},onChange:F=>B(J,F.target.value,"partName")}),R.jsx("label",{className:"input-label outfit-font",children:"Redirect Url"}),R.jsx("input",{className:"input",type:"url",style:{padding:"10px 20px"},value:k.value.url,onChange:F=>B(J,F.target.value,"partUrl")})]},J);case"Image":return R.jsxs("div",{style:{marginBottom:"100px"},className:"display-column",children:[R.jsx("label",{className:"input-label outfit-font",children:"Upload Image"}),R.jsx("input",{className:"input-file",type:"file",accept:"image/*",onChange:F=>B(J,F.target.files[0])}),t[J]&&R.jsx("img",{src:t[J],alt:"Preview",style:{maxWidth:"200px",marginTop:"10px",borderRadius:"8px"}})]},J);default:return null}},N=async k=>{k.preventDefault(),s(!0);let J=null;try{const F=document.querySelector('input[type="file"]');F!=null&&F.files[0]&&(J=await ky(F.files[0]));const $=await Promise.all(c.map(async _e=>{if(_e.type==="Image"&&_e.value instanceof File){const H=await ky(_e.value);return{..._e,value:H}}return _e})),G={title:p,subTitle:M,series:q,author:v,readTime:A,part:D,categories:w,imgUrl:J,content:$,datePosted:KD()},Z=await PG(G);alert(`Blog created successfully! ID: ${Z}`)}catch(F){console.error("Error submitting blog:",F),alert("Failed to submit blog")}finally{s(!1)}};return R.jsxs("section",{className:"create-blog-main",children:[R.jsx("h1",{className:"outfit-font",children:"Create a Blog"}),R.jsx("div",{className:"display-column",children:R.jsxs("form",{className:"form",children:[R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Title:"}),R.jsx("input",{className:"input playfair-font",type:"text",onChange:k=>m(k.target.value)})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Category Title (optional):"}),R.jsx("input",{className:"input playfair-font",type:"text",onChange:k=>j(k.target.value)})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Series Title:"}),R.jsx("input",{className:"input playfair-font",type:"text",onChange:k=>U(k.target.value)})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Part Number (optional):"}),R.jsx("input",{className:"input-part",type:"number",onChange:k=>L(k.target.value)})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Author:"}),R.jsx("input",{className:"input playfair-font",type:"text",onChange:k=>_(k.target.value)})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Read Time:"}),R.jsx("input",{className:"input playfair-font",type:"text",onChange:k=>T(k.target.value)})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Categories:"}),R.jsx("input",{className:"input playfair-font",type:"text",placeholder:"e.g. Monday Devotion, Tuesday Article",onChange:k=>O(k.target.value.split(",").map(J=>J.trim()).filter(J=>J!==""))}),w.length>0&&R.jsxs("div",{className:"category-container outfit-font",children:["Categories:",w.map(k=>R.jsx("div",{className:"cat silver-bg",children:k},k))]})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Photo:"}),R.jsx("input",{className:"input-file",type:"file",accept:"image/*",onChange:k=>{const J=k.target.files[0];J&&e(URL.createObjectURL(J))}}),n&&R.jsx("img",{src:n,alt:"Main preview",style:{maxWidth:"200px",marginTop:"10px",borderRadius:"8px"}})]}),R.jsxs("div",{className:"form-array-container",children:[c.map((k,J)=>P(k,J)),R.jsxs("div",{className:"add-to-array",children:[R.jsx("img",{className:"form-icon menu-icon off-white-bg",src:EU,onClick:()=>u(!a)}),i?R.jsx("div",{className:"post-loader-container",children:R.jsx(Lp,{})}):R.jsx("img",{className:"form-icon submit-icon off-white-bg",src:_S,onClick:N}),R.jsx("div",{className:`expanded-icons ${a?"show":""}`,children:S.map((k,J)=>R.jsx("img",{src:k.img,title:k.label,className:"form-icon",onClick:()=>C(k.type)},J))})]})]})]})})]})}const yv="/assets/x-button-BIiXIhO3.png";function Ree(){const{id:n}=Av(),[e,t]=W.useState(null),[r,i]=W.useState({}),[s,a]=W.useState(!1),[u,c]=W.useState(!1),[h,p]=W.useState([]),[m,v]=W.useState(""),[_,A]=W.useState(""),[T,w]=W.useState(""),[O,M]=W.useState([]),[j,q]=W.useState([]),[U,D]=W.useState(""),[L,S]=W.useState(""),[C,B]=W.useState(null),P=[{img:wU,type:"Description",label:"Description"},{img:CU,type:"Redirect",label:"Redirect Link"},{img:RU,type:"Article",label:"Article Content"},{img:SU,type:"Image",label:"Image Upload"}];W.useEffect(()=>{(async()=>{a(!0);try{const Z=oa(ps,"blogs",n),_e=await Fv(Z);if(_e.exists()){const H=_e.data(),ne=Array.isArray(H.content)?H.content.map(fe=>typeof fe.value=="string"||fe.type==="Redirect"&&typeof fe.value=="object"&&fe.value!==null?fe:{...fe,value:fe.type==="Redirect"?{partName:"",partUrl:""}:""}):[];v(H.title||""),D(H.subTitle||""),A(H.author||""),w(H.readTime||""),S(H.part||""),q(H.categories||[]),B(H.imgUrl||null),p(ne),t(H.imgUrl||null)}else console.error("No such document!")}catch(Z){console.error("Error fetching blog:",Z)}a(!1)})()},[n]);const N=G=>{p(G==="Redirect"?Z=>[...Z,{type:G,value:{partName:"",partUrl:""}}]:Z=>[...Z,{type:G,value:""}]),c(!1)},k=G=>{M(Z=>Z.filter(_e=>_e!==G)),q(Z=>Z.filter(_e=>_e!==G))},J=(G,Z,_e=null)=>{const H=[...h];if(_e&&typeof H[G].value=="object"?H[G].value={...H[G].value,[_e]:Z}:H[G].value=Z,p(H),H[G].type==="Image"&&Z instanceof File){const ne=URL.createObjectURL(Z);i(fe=>({...fe,[G]:ne}))}},F=(G,Z)=>{var _e,H;switch(G.type){case"Description":case"Article":return R.jsxs("div",{style:{marginBottom:"100px"},className:"display-column",children:[R.jsx("label",{className:"input-label outfit-font",style:{fontSize:"1.5rem"},children:G.type}),R.jsx(TU,{content:G.value,onChange:fe=>J(Z,fe)})]},Z);case"Redirect":return R.jsxs("div",{className:"display-column",style:{marginBottom:"100px",padding:"30px 3%"},children:[R.jsx("label",{className:"input-label outfit-font",children:"Redirect Name"}),R.jsx("input",{className:"input",type:"text",value:((_e=G.value)==null?void 0:_e.partName)||"",onChange:fe=>J(Z,fe.target.value,"partName"),placeholder:"Part 3, or Part 1",style:{marginBottom:"30px",padding:"10px 20px"}}),R.jsx("label",{className:"input-label outfit-font",children:"Redirect Url"}),R.jsx("input",{className:"input",type:"url",value:((H=G.value)==null?void 0:H.partUrl)||"",onChange:fe=>J(Z,fe.target.value,"partUrl"),style:{padding:"10px 20px"}})]},Z);case"Image":const ne=r[Z]||(typeof G.value=="string"?G.value:null);return R.jsxs("div",{className:"display-column",style:{marginBottom:"100px"},children:[R.jsx("label",{className:"input-label outfit-font",children:"Upload Image"}),R.jsx("input",{className:"input-file",type:"file",accept:"image/*",onChange:fe=>J(Z,fe.target.files[0])}),ne&&R.jsx("img",{src:ne,alt:"Preview",style:{maxWidth:"200px",marginTop:"10px",borderRadius:"8px"}})]},Z);default:return null}},$=async G=>{var Z,_e;G.preventDefault(),a(!0);try{const H=document.querySelector('input[type="file"]');let ne=C;H!=null&&H.files[0]&&(ne=await ky(H.files[0]));const fe=await Promise.all(h.map(async Yt=>{if(Yt.type==="Image"&&Yt.value instanceof File){const Ot=await ky(Yt.value);return{...Yt,value:Ot}}return Yt})),ce=h.find(Yt=>Yt.type==="Redirect"),we=((Z=ce==null?void 0:ce.value)==null?void 0:Z.partName)||null,Re=((_e=ce==null?void 0:ce.value)==null?void 0:_e.partUrl)||null,Pe=Array.from(new Set([...j||[],...O||[]])),zt={title:m,subTitle:U,author:_,readTime:T,part:L,imgUrl:ne,content:fe,categories:Pe,partName:we,partUrl:Re},vt=oa(ps,"blogs",n);await kp(vt,zt),alert("Blog updated successfully!")}catch(H){console.error("Error updating blog:",H),alert("Failed to update blog")}finally{a(!1)}};return R.jsxs("section",{className:"create-blog-main",children:[R.jsx("h1",{className:"outfit-font",children:"Edit Blog"}),R.jsx("div",{className:"display-column",children:R.jsxs("form",{className:"form",children:[R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Title:"}),R.jsx("input",{className:"input playfair-font",type:"text",value:m,onChange:G=>v(G.target.value)})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Category Title (optional):"}),R.jsx("input",{className:"input playfair-font",type:"text",value:U,onChange:G=>D(G.target.value)})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Part Number (optional):"}),R.jsx("input",{className:"input-part",type:"number",value:L,onChange:G=>S(G.target.value)})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Author:"}),R.jsx("input",{className:"input playfair-font",type:"text",value:_,onChange:G=>A(G.target.value)})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Read Time:"}),R.jsx("input",{className:"input playfair-font",type:"text",value:T,onChange:G=>w(G.target.value)})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Categories:"}),R.jsx("input",{className:"input playfair-font",type:"text",onChange:G=>M(G.target.value.split(",").map(Z=>Z.trim()).filter(Z=>Z!==""))}),j.length>0&&R.jsxs("div",{className:"category-container outfit-font",children:[R.jsx("h1",{className:"outfit-font",children:"Categories:"}),j.map(G=>R.jsxs("div",{className:"cat1 silver-bg",children:[G,R.jsx("img",{src:yv,className:"del-button",onClick:()=>k(G)})]},G)),O.length>0&&R.jsx(R.Fragment,{children:O.map(G=>R.jsxs("div",{className:"cat1 outfit-font silver-bg",children:[G,R.jsx("img",{src:yv,className:"del-button",onClick:()=>k(G)})]},G))})]})]}),R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Photo:"}),R.jsx("input",{className:"input-file",type:"file",accept:"image/*",onChange:G=>{const Z=G.target.files[0];Z&&t(URL.createObjectURL(Z))}}),e&&R.jsx("img",{src:e,alt:"Main preview",style:{maxWidth:"200px",marginTop:"10px",borderRadius:"8px"}})]}),R.jsxs("div",{className:"form-array-container",children:[h.map((G,Z)=>F(G,Z)),R.jsxs("div",{className:"add-to-array",children:[R.jsx("img",{className:"form-icon menu-icon off-white-bg",src:EU,onClick:()=>c(!u)}),s?R.jsx("div",{className:"post-loader-container",children:R.jsx(Lp,{})}):R.jsx("img",{className:"form-icon submit-icon off-white-bg",src:_S,onClick:$}),R.jsx("div",{className:`expanded-icons ${u?"show":""}`,children:P.map((G,Z)=>R.jsx("img",{src:G.img,title:G.label,className:"form-icon",onClick:()=>N(G.type)},Z))})]})]})]})})]})}function Cee(){return R.jsx("div",{className:"display-column",style:{padding:"40px 20px"},children:R.jsx(wl,{nav:"editBlog",title:"Edit a Blog",maxCount:100})})}function xee(){const[n,e]=W.useState([]),[t,r]=W.useState([]),[i,s]=W.useState(null),{triggerRefresh:a}=p2(),u=oa(ps,"commonCat","YTLA8LnhCtzvU07csqsx");W.useEffect(()=>{(async()=>{const m=await Fv(u);if(m.exists()){const v=m.data();e(v.categories||[])}})()},[]);const c=p=>{r(m=>m.filter(v=>v!==p)),e(m=>m.filter(v=>v!==p))},h=async p=>{p.preventDefault(),s(!0);try{const m=Array.from(new Set([...n,...t]));await kp(u,{categories:m}),a(),alert("Categories updated!")}catch(m){console.error("Failed to update categories:",m),alert("An error occurred while updating.")}finally{s(!1)}};return R.jsxs("section",{className:"edit-cat-main",children:[R.jsx("h1",{style:{fontSize:"2rem",marginBottom:"30px",marginTop:"50px"},className:"outfit-font",children:"Edit Common Categories"}),R.jsx("div",{className:"display-column",children:R.jsxs("form",{className:"form",onSubmit:h,children:[R.jsxs("div",{className:"input-container",children:[R.jsx("label",{className:"input-label outfit-font",children:"Add Categories (use comma to add category):"}),R.jsx("input",{className:"input playfair-font",type:"text",placeholder:"e.g. Monday Devotion, Tuesday Article",onChange:p=>r(p.target.value.split(",").map(m=>m.trim()).filter(m=>m!==""))}),n.length>0&&R.jsxs("div",{className:"category-container outfit-font",children:[R.jsx("h1",{className:"outfit-font",children:"Categories:"}),n.map(p=>R.jsxs("div",{className:"cat1 silver-bg",children:[p,R.jsx("img",{src:yv,className:"del-button",onClick:()=>c(p)})]},p)),t.length>0&&R.jsx(R.Fragment,{children:t.map(p=>R.jsxs("div",{className:"cat1 outfit-font silver-bg",children:[p,R.jsx("img",{src:yv,className:"del-button",onClick:()=>c(p)})]},p))})]})]}),i?R.jsx("div",{className:"post-loader-container",children:R.jsx(Lp,{})}):R.jsx("img",{src:_S,onClick:p=>h(p),className:"form-icon  off-white-bg",alt:"submit"})]})})]})}function Iee(){const[n,e]=W.useState([]),{category:t}=Av(),[r,i]=W.useState(!0),[s,a]=W.useState([]),[u,c]=W.useState(null);return W.useEffect(()=>{(async()=>{i(!0),c(!1);try{const p=await m2();console.log("refresh",t),console.log("data",p);const m=[...p].sort((v,_)=>{var w,O,M,j;if(typeof v.likes=="number"&&typeof _.likes=="number")return(_.likes||0)-(v.likes||0);const A=((O=(w=v.datePosted)==null?void 0:w.toDate)==null?void 0:O.call(w))||new Date(0);return(((j=(M=_.datePosted)==null?void 0:M.toDate)==null?void 0:j.call(M))||new Date(0))-A});if(e(m),t){const v=t.trim().toLowerCase();if(v){const _=m.filter(A=>Array.isArray(A.categories)&&A.categories.some(T=>T.toLowerCase()===v));_.length>0?(a(_),c(!1)):(a([]),c(!0),console.warn(`No blogs found with category: ${v}`))}else a([]),c(!0)}else a([]),c(!0)}catch(p){console.error("Failed to fetch blogs:",p)}finally{i(!1)}})()},[t]),R.jsx("div",{className:"display-column",style:{padding:"40px 20px"},children:r?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"title-container",children:[R.jsxs("div",{className:"info-container",children:[R.jsx("h1",{className:"outfit-font",children:"Blogs with category:"}),R.jsx("h1",{className:"outfit-font",children:` ${t}`})]}),R.jsx("div",{className:"line-blog"})]}),R.jsx("div",{style:{marginTop:"100px",marginBottom:"100px"},children:R.jsx(Lp,{})})]}):R.jsx(R.Fragment,{children:u?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"title-container",children:[R.jsxs("div",{className:"info-container",children:[R.jsx("h1",{className:"outfit-font",children:"Blogs with category:"}),R.jsx("h1",{className:"outfit-font",children:` ${t}`})]}),R.jsx("div",{className:"line-blog"})]}),R.jsx("h1",{className:"outfit-font display-column",style:{textAlign:"center",marginTop:"100px",marginBottom:"100px"},children:"No blogs were found with that category"})]}):R.jsx(R.Fragment,{children:R.jsx(wl,{blogArray:s,nav:"singleBlog",title:"Blogs with category: ",subTitle:` ${t}`,maxCount:100})})})})}const kee={element:R.jsx(Iee,{})};var SA={},sd={},wg={},Sg={},RA={exports:{}},CA,ZO;function Oee(){if(ZO)return CA;ZO=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return CA=n,CA}var xA,eN;function Nee(){if(eN)return xA;eN=1;var n=Oee();function e(){}function t(){}return t.resetWarningCache=e,xA=function(){function r(a,u,c,h,p,m){if(m!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},xA}var tN;function Mee(){return tN||(tN=1,RA.exports=Nee()()),RA.exports}var nN;function Dee(){return nN||(nN=1,function(n){(function(e,t){t(n,Rl(),Mee())})(Sg,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=A;var i=a(t),s=a(r);function a(M){return M&&M.__esModule?M:{default:M}}var u=Object.assign||function(M){for(var j=1;j<arguments.length;j++){var q=arguments[j];for(var U in q)Object.prototype.hasOwnProperty.call(q,U)&&(M[U]=q[U])}return M};function c(M,j){var q={};for(var U in M)j.indexOf(U)>=0||Object.prototype.hasOwnProperty.call(M,U)&&(q[U]=M[U]);return q}function h(M,j){if(!(M instanceof j))throw new TypeError("Cannot call a class as a function")}var p=function(){function M(j,q){for(var U=0;U<q.length;U++){var D=q[U];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(j,D.key,D)}}return function(j,q,U){return q&&M(j.prototype,q),U&&M(j,U),j}}();function m(M,j){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:M}function v(M,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);M.prototype=Object.create(j&&j.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(M,j):M.__proto__=j)}var _=!1;function A(M){_=M}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){A(!0)}}))}catch{}function T(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return _?M:M.capture}function w(M){if("touches"in M){var j=M.touches[0],q=j.pageX,U=j.pageY;return{x:q,y:U}}var D=M.screenX,L=M.screenY;return{x:D,y:L}}var O=function(M){v(j,M);function j(){var q;h(this,j);for(var U=arguments.length,D=Array(U),L=0;L<U;L++)D[L]=arguments[L];var S=m(this,(q=j.__proto__||Object.getPrototypeOf(j)).call.apply(q,[this].concat(D)));return S._handleSwipeStart=S._handleSwipeStart.bind(S),S._handleSwipeMove=S._handleSwipeMove.bind(S),S._handleSwipeEnd=S._handleSwipeEnd.bind(S),S._onMouseDown=S._onMouseDown.bind(S),S._onMouseMove=S._onMouseMove.bind(S),S._onMouseUp=S._onMouseUp.bind(S),S._setSwiperRef=S._setSwiperRef.bind(S),S}return p(j,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,T({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,T({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(U){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(U))}},{key:"_onMouseMove",value:function(U){this.mouseDown&&this._handleSwipeMove(U)}},{key:"_onMouseUp",value:function(U){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(U)}},{key:"_handleSwipeStart",value:function(U){var D=w(U),L=D.x,S=D.y;this.moveStart={x:L,y:S},this.props.onSwipeStart(U)}},{key:"_handleSwipeMove",value:function(U){if(this.moveStart){var D=w(U),L=D.x,S=D.y,C=L-this.moveStart.x,B=S-this.moveStart.y;this.moving=!0;var P=this.props.onSwipeMove({x:C,y:B},U);P&&U.cancelable&&U.preventDefault(),this.movePosition={deltaX:C,deltaY:B}}}},{key:"_handleSwipeEnd",value:function(U){this.props.onSwipeEnd(U);var D=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-D?this.props.onSwipeLeft(1,U):this.movePosition.deltaX>D&&this.props.onSwipeRight(1,U),this.movePosition.deltaY<-D?this.props.onSwipeUp(1,U):this.movePosition.deltaY>D&&this.props.onSwipeDown(1,U)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(U){this.swiper=U,this.props.innerRef(U)}},{key:"render",value:function(){var U=this.props;U.tagName;var D=U.className,L=U.style,S=U.children;U.allowMouseEvents,U.onSwipeUp,U.onSwipeDown,U.onSwipeLeft,U.onSwipeRight,U.onSwipeStart,U.onSwipeMove,U.onSwipeEnd,U.innerRef,U.tolerance;var C=c(U,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:D,style:L},C),S)}}]),j}(t.Component);O.displayName="ReactSwipe",O.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},O.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=O})}(Sg)),Sg}var rN;function xU(){return rN||(rN=1,function(n){(function(e,t){t(n,Dee())})(wg,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})}(wg)),wg}var od={},IA={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var iN;function Pee(){return iN||(iN=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",a=0;a<arguments.length;a++){var u=arguments[a];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var u in s)e.call(s,u)&&s[u]&&(a=i(a,u));return a}function i(s,a){return a?s?s+" "+a:s+a:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(IA)),IA.exports}var sN;function IU(){if(sN)return od;sN=1,Object.defineProperty(od,"__esModule",{value:!0}),od.default=void 0;var n=e(Pee());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,s,a){return s in i?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,i}var r={ROOT:function(s){return(0,n.default)(t({"carousel-root":!0},s||"",!!s))},CAROUSEL:function(s){return(0,n.default)({carousel:!0,"carousel-slider":s})},WRAPPER:function(s,a){return(0,n.default)({"thumbs-wrapper":!s,"slider-wrapper":s,"axis-horizontal":a==="horizontal","axis-vertical":a!=="horizontal"})},SLIDER:function(s,a){return(0,n.default)({thumbs:!s,slider:s,animated:!a})},ITEM:function(s,a,u){return(0,n.default)({thumb:!s,slide:s,selected:a,previous:u})},ARROW_PREV:function(s){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":s})},ARROW_NEXT:function(s){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":s})},DOT:function(s){return(0,n.default)({dot:!0,selected:s})}};return od.default=r,od}var ad={},ld={},oN;function Lee(){if(oN)return ld;oN=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return ld.outerWidth=n,ld}var ud={},aN;function bS(){if(aN)return ud;aN=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.default=void 0;var n=function(t,r,i){var s=t===0?t:t+r,a=i==="horizontal"?[s,0,0]:[0,s,0],u="translate3d",c="("+a.join(",")+")";return u+c};return ud.default=n,ud}var cd={},lN;function kU(){if(lN)return cd;lN=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=void 0;var n=function(){return window};return cd.default=n,cd}var uN;function OU(){if(uN)return ad;uN=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.default=void 0;var n=c(Rl()),e=a(IU()),t=Lee(),r=a(bS()),i=a(xU()),s=a(kU());function a(S){return S&&S.__esModule?S:{default:S}}function u(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return u=function(){return S},S}function c(S){if(S&&S.__esModule)return S;if(S===null||h(S)!=="object"&&typeof S!="function")return{default:S};var C=u();if(C&&C.has(S))return C.get(S);var B={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in S)if(Object.prototype.hasOwnProperty.call(S,N)){var k=P?Object.getOwnPropertyDescriptor(S,N):null;k&&(k.get||k.set)?Object.defineProperty(B,N,k):B[N]=S[N]}return B.default=S,C&&C.set(S,B),B}function h(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(B){return typeof B}:h=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},h(S)}function p(){return p=Object.assign||function(S){for(var C=1;C<arguments.length;C++){var B=arguments[C];for(var P in B)Object.prototype.hasOwnProperty.call(B,P)&&(S[P]=B[P])}return S},p.apply(this,arguments)}function m(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function v(S,C){for(var B=0;B<C.length;B++){var P=C[B];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}function _(S,C,B){return C&&v(S.prototype,C),S}function A(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(C&&C.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),C&&T(S,C)}function T(S,C){return T=Object.setPrototypeOf||function(P,N){return P.__proto__=N,P},T(S,C)}function w(S){var C=j();return function(){var P=q(S),N;if(C){var k=q(this).constructor;N=Reflect.construct(P,arguments,k)}else N=P.apply(this,arguments);return O(this,N)}}function O(S,C){return C&&(h(C)==="object"||typeof C=="function")?C:M(S)}function M(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function q(S){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},q(S)}function U(S,C,B){return C in S?Object.defineProperty(S,C,{value:B,enumerable:!0,configurable:!0,writable:!0}):S[C]=B,S}var D=function(C){return C.hasOwnProperty("key")},L=function(S){A(B,S);var C=w(B);function B(P){var N;return m(this,B),N=C.call(this,P),U(M(N),"itemsWrapperRef",void 0),U(M(N),"itemsListRef",void 0),U(M(N),"thumbsRef",void 0),U(M(N),"setItemsWrapperRef",function(k){N.itemsWrapperRef=k}),U(M(N),"setItemsListRef",function(k){N.itemsListRef=k}),U(M(N),"setThumbsRef",function(k,J){N.thumbsRef||(N.thumbsRef=[]),N.thumbsRef[J]=k}),U(M(N),"updateSizes",function(){if(!(!N.props.children||!N.itemsWrapperRef||!N.thumbsRef)){var k=n.Children.count(N.props.children),J=N.itemsWrapperRef.clientWidth,F=N.props.thumbWidth?N.props.thumbWidth:(0,t.outerWidth)(N.thumbsRef[0]),$=Math.floor(J/F),G=$<k,Z=G?k-$:0;N.setState(function(_e,H){return{itemSize:F,visibleItems:$,firstItem:G?N.getFirstItem(H.selectedItem):0,lastPosition:Z,showArrows:G}})}}),U(M(N),"handleClickItem",function(k,J,F){if(!D(F)||F.key==="Enter"){var $=N.props.onSelectItem;typeof $=="function"&&$(k,J)}}),U(M(N),"onSwipeStart",function(){N.setState({swiping:!0})}),U(M(N),"onSwipeEnd",function(){N.setState({swiping:!1})}),U(M(N),"onSwipeMove",function(k){var J=k.x;if(!N.state.itemSize||!N.itemsWrapperRef||!N.state.visibleItems)return!1;var F=0,$=n.Children.count(N.props.children),G=-(N.state.firstItem*100)/N.state.visibleItems,Z=Math.max($-N.state.visibleItems,0),_e=-Z*100/N.state.visibleItems;G===F&&J>0&&(J=0),G===_e&&J<0&&(J=0);var H=N.itemsWrapperRef.clientWidth,ne=G+100/(H/J);return N.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(fe){N.itemsListRef.style[fe]=(0,r.default)(ne,"%",N.props.axis)}),!0}),U(M(N),"slideRight",function(k){N.moveTo(N.state.firstItem-(typeof k=="number"?k:1))}),U(M(N),"slideLeft",function(k){N.moveTo(N.state.firstItem+(typeof k=="number"?k:1))}),U(M(N),"moveTo",function(k){k=k<0?0:k,k=k>=N.state.lastPosition?N.state.lastPosition:k,N.setState({firstItem:k})}),N.state={selectedItem:P.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},N}return _(B,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(N){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==N.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(N){var k=N;return N>=this.state.lastPosition&&(k=this.state.lastPosition),N<this.state.firstItem+this.state.visibleItems&&(k=this.state.firstItem),N<this.state.firstItem&&(k=N),k}},{key:"renderItems",value:function(){var N=this;return this.props.children.map(function(k,J){var F=e.default.ITEM(!1,J===N.state.selectedItem),$={key:J,ref:function(Z){return N.setThumbsRef(Z,J)},className:F,onClick:N.handleClickItem.bind(N,J,N.props.children[J]),onKeyDown:N.handleClickItem.bind(N,J,N.props.children[J]),"aria-label":"".concat(N.props.labels.item," ").concat(J+1),style:{width:N.props.thumbWidth}};return n.default.createElement("li",p({},$,{role:"button",tabIndex:0}),k)})}},{key:"render",value:function(){var N=this;if(!this.props.children)return null;var k=n.Children.count(this.props.children)>1,J=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,$={},G=-this.state.firstItem*(this.state.itemSize||0),Z=(0,r.default)(G,"px",this.props.axis),_e=this.props.transitionTime+"ms";return $={WebkitTransform:Z,MozTransform:Z,MsTransform:Z,OTransform:Z,transform:Z,msTransform:Z,WebkitTransitionDuration:_e,MozTransitionDuration:_e,MsTransitionDuration:_e,OTransitionDuration:_e,transitionDuration:_e,msTransitionDuration:_e},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!J),onClick:function(){return N.slideRight()},"aria-label":this.props.labels.leftArrow}),k?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:$,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ne){return N.setItemsListRef(ne)},style:$},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return N.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),B}(n.Component);return ad.default=L,U(L,"displayName","Thumbs"),U(L,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),ad}var fd={},cN;function Vee(){if(cN)return fd;cN=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.default=void 0;var n=function(){return document};return fd.default=n,fd}var Si={},fN;function NU(){if(fN)return Si;fN=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.setPosition=Si.getPosition=Si.isKeyboardEvent=Si.defaultStatusFormatter=Si.noop=void 0;var n=Rl(),e=t(bS());function t(c){return c&&c.__esModule?c:{default:c}}var r=function(){};Si.noop=r;var i=function(h,p){return"".concat(h," of ").concat(p)};Si.defaultStatusFormatter=i;var s=function(h){return h?h.hasOwnProperty("key"):!1};Si.isKeyboardEvent=s;var a=function(h,p){if(p.infiniteLoop&&++h,h===0)return 0;var m=n.Children.count(p.children);if(p.centerMode&&p.axis==="horizontal"){var v=-h*p.centerSlidePercentage,_=m-1;return h&&(h!==_||p.infiniteLoop)?v+=(100-p.centerSlidePercentage)/2:h===_&&(v+=100-p.centerSlidePercentage),v}return-h*100};Si.getPosition=a;var u=function(h,p){var m={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){m[v]=(0,e.default)(h,"%",p)}),m};return Si.setPosition=u,Si}var ws={},hN;function Uee(){if(hN)return ws;hN=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.fadeAnimationHandler=ws.slideStopSwipingHandler=ws.slideSwipeAnimationHandler=ws.slideAnimationHandler=void 0;var n=Rl(),e=r(bS()),t=NU();function r(m){return m&&m.__esModule?m:{default:m}}function i(m,v){var _=Object.keys(m);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(m);v&&(A=A.filter(function(T){return Object.getOwnPropertyDescriptor(m,T).enumerable})),_.push.apply(_,A)}return _}function s(m){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?i(Object(_),!0).forEach(function(A){a(m,A,_[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(_)):i(Object(_)).forEach(function(A){Object.defineProperty(m,A,Object.getOwnPropertyDescriptor(_,A))})}return m}function a(m,v,_){return v in m?Object.defineProperty(m,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[v]=_,m}var u=function(v,_){var A={},T=_.selectedItem,w=T,O=n.Children.count(v.children)-1,M=v.infiniteLoop&&(T<0||T>O);if(M)return w<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?A.itemListStyle=(0,t.setPosition)(-(O+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):A.itemListStyle=(0,t.setPosition)(-(O+2)*100,v.axis):w>O&&(A.itemListStyle=(0,t.setPosition)(0,v.axis)),A;var j=(0,t.getPosition)(T,v),q=(0,e.default)(j,"%",v.axis),U=v.transitionTime+"ms";return A.itemListStyle={WebkitTransform:q,msTransform:q,OTransform:q,transform:q},_.swiping||(A.itemListStyle=s(s({},A.itemListStyle),{},{WebkitTransitionDuration:U,MozTransitionDuration:U,OTransitionDuration:U,transitionDuration:U,msTransitionDuration:U})),A};ws.slideAnimationHandler=u;var c=function(v,_,A,T){var w={},O=_.axis==="horizontal",M=n.Children.count(_.children),j=0,q=(0,t.getPosition)(A.selectedItem,_),U=_.infiniteLoop?(0,t.getPosition)(M-1,_)-100:(0,t.getPosition)(M-1,_),D=O?v.x:v.y,L=D;q===j&&D>0&&(L=0),q===U&&D<0&&(L=0);var S=q+100/(A.itemSize/L),C=Math.abs(D)>_.swipeScrollTolerance;return _.infiniteLoop&&C&&(A.selectedItem===0&&S>-100?S-=M*100:A.selectedItem===M-1&&S<-M*100&&(S+=M*100)),(!_.preventMovementUntilSwipeScrollTolerance||C||A.swipeMovementStarted)&&(A.swipeMovementStarted||T({swipeMovementStarted:!0}),w.itemListStyle=(0,t.setPosition)(S,_.axis)),C&&!A.cancelClick&&T({cancelClick:!0}),w};ws.slideSwipeAnimationHandler=c;var h=function(v,_){var A=(0,t.getPosition)(_.selectedItem,v),T=(0,t.setPosition)(A,v.axis);return{itemListStyle:T}};ws.slideStopSwipingHandler=h;var p=function(v,_){var A=v.transitionTime+"ms",T="ease-in-out",w={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:T,msTransitionTimingFunction:T,MozTransitionTimingFunction:T,WebkitTransitionTimingFunction:T,OTransitionTimingFunction:T};return _.swiping||(w=s(s({},w),{},{WebkitTransitionDuration:A,MozTransitionDuration:A,OTransitionDuration:A,transitionDuration:A,msTransitionDuration:A})),{slideStyle:w,selectedStyle:s(s({},w),{},{opacity:1,position:"relative"}),prevStyle:s({},w)}};return ws.fadeAnimationHandler=p,ws}var dN;function zee(){if(dN)return sd;dN=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.default=void 0;var n=p(Rl()),e=c(xU()),t=c(IU()),r=c(OU()),i=c(Vee()),s=c(kU()),a=NU(),u=Uee();function c(P){return P&&P.__esModule?P:{default:P}}function h(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return h=function(){return P},P}function p(P){if(P&&P.__esModule)return P;if(P===null||m(P)!=="object"&&typeof P!="function")return{default:P};var N=h();if(N&&N.has(P))return N.get(P);var k={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in P)if(Object.prototype.hasOwnProperty.call(P,F)){var $=J?Object.getOwnPropertyDescriptor(P,F):null;$&&($.get||$.set)?Object.defineProperty(k,F,$):k[F]=P[F]}return k.default=P,N&&N.set(P,k),k}function m(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(k){return typeof k}:m=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},m(P)}function v(){return v=Object.assign||function(P){for(var N=1;N<arguments.length;N++){var k=arguments[N];for(var J in k)Object.prototype.hasOwnProperty.call(k,J)&&(P[J]=k[J])}return P},v.apply(this,arguments)}function _(P,N){var k=Object.keys(P);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(P);N&&(J=J.filter(function(F){return Object.getOwnPropertyDescriptor(P,F).enumerable})),k.push.apply(k,J)}return k}function A(P){for(var N=1;N<arguments.length;N++){var k=arguments[N]!=null?arguments[N]:{};N%2?_(Object(k),!0).forEach(function(J){C(P,J,k[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(k)):_(Object(k)).forEach(function(J){Object.defineProperty(P,J,Object.getOwnPropertyDescriptor(k,J))})}return P}function T(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")}function w(P,N){for(var k=0;k<N.length;k++){var J=N[k];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(P,J.key,J)}}function O(P,N,k){return N&&w(P.prototype,N),P}function M(P,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(N&&N.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),N&&j(P,N)}function j(P,N){return j=Object.setPrototypeOf||function(J,F){return J.__proto__=F,J},j(P,N)}function q(P){var N=L();return function(){var J=S(P),F;if(N){var $=S(this).constructor;F=Reflect.construct(J,arguments,$)}else F=J.apply(this,arguments);return U(this,F)}}function U(P,N){return N&&(m(N)==="object"||typeof N=="function")?N:D(P)}function D(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function S(P){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},S(P)}function C(P,N,k){return N in P?Object.defineProperty(P,N,{value:k,enumerable:!0,configurable:!0,writable:!0}):P[N]=k,P}var B=function(P){M(k,P);var N=q(k);function k(J){var F;T(this,k),F=N.call(this,J),C(D(F),"thumbsRef",void 0),C(D(F),"carouselWrapperRef",void 0),C(D(F),"listRef",void 0),C(D(F),"itemsRef",void 0),C(D(F),"timer",void 0),C(D(F),"animationHandler",void 0),C(D(F),"setThumbsRef",function(G){F.thumbsRef=G}),C(D(F),"setCarouselWrapperRef",function(G){F.carouselWrapperRef=G}),C(D(F),"setListRef",function(G){F.listRef=G}),C(D(F),"setItemsRef",function(G,Z){F.itemsRef||(F.itemsRef=[]),F.itemsRef[Z]=G}),C(D(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),C(D(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),C(D(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),C(D(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),C(D(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),C(D(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),C(D(F),"navigateWithKeyboard",function(G){if(F.isFocusWithinTheCarousel()){var Z=F.props.axis,_e=Z==="horizontal",H={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ne=_e?H.ArrowRight:H.ArrowDown,fe=_e?H.ArrowLeft:H.ArrowUp;ne===G.keyCode?F.increment():fe===G.keyCode&&F.decrement()}}),C(D(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var G=F.props.axis==="horizontal",Z=F.itemsRef[0];if(Z){var _e=G?Z.clientWidth:Z.clientHeight;F.setState({itemSize:_e}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),C(D(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),C(D(F),"handleClickItem",function(G,Z){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(G,Z),G!==F.state.selectedItem&&F.setState({selectedItem:G})}}),C(D(F),"handleOnChange",function(G,Z){n.Children.count(F.props.children)<=1||F.props.onChange(G,Z)}),C(D(F),"handleClickThumb",function(G,Z){F.props.onClickThumb(G,Z),F.moveTo(G)}),C(D(F),"onSwipeStart",function(G){F.setState({swiping:!0}),F.props.onSwipeStart(G)}),C(D(F),"onSwipeEnd",function(G){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(G),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),C(D(F),"onSwipeMove",function(G,Z){F.props.onSwipeMove(Z);var _e=F.props.swipeAnimationHandler(G,F.props,F.state,F.setState.bind(D(F)));return F.setState(A({},_e)),!!Object.keys(_e).length}),C(D(F),"decrement",function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof G=="number"?G:1))}),C(D(F),"increment",function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof G=="number"?G:1))}),C(D(F),"moveTo",function(G){if(typeof G=="number"){var Z=n.Children.count(F.props.children)-1;G<0&&(G=F.props.infiniteLoop?Z:0),G>Z&&(G=F.props.infiniteLoop?0:Z),F.selectItem({selectedItem:G}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),C(D(F),"onClickNext",function(){F.increment(1)}),C(D(F),"onClickPrev",function(){F.decrement(1)}),C(D(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(D(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(D(F),"changeItem",function(G){return function(Z){(!(0,a.isKeyboardEvent)(Z)||Z.key==="Enter")&&F.moveTo(G)}}),C(D(F),"selectItem",function(G){F.setState(A({previousItem:F.state.selectedItem},G),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(G.selectedItem,n.Children.toArray(F.props.children)[G.selectedItem])}),C(D(F),"getInitialImage",function(){var G=F.props.selectedItem,Z=F.itemsRef&&F.itemsRef[G],_e=Z&&Z.getElementsByTagName("img")||[];return _e[0]}),C(D(F),"getVariableItemHeight",function(G){var Z=F.itemsRef&&F.itemsRef[G];if(F.state.hasMount&&Z&&Z.children.length){var _e=Z.children[0].getElementsByTagName("img")||[];if(_e.length>0){var H=_e[0];if(!H.complete){var ne=function we(){F.forceUpdate(),H.removeEventListener("load",we)};H.addEventListener("load",ne)}}var fe=_e[0]||Z.children[0],ce=fe.clientHeight;return ce>0?ce:null}return null});var $={initialized:!1,previousItem:J.selectedItem,selectedItem:J.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:J.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof J.animationHandler=="function"&&J.animationHandler||J.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,F.state=A(A({},$),F.animationHandler(J,$)),F}return O(k,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,$){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),$.swiping&&!this.state.swiping&&this.setState(A({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var $=F.getInitialImage();$&&!$.complete?$.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var $=this;return this.props.children?n.Children.map(this.props.children,function(G,Z){var _e=Z===$.state.selectedItem,H=Z===$.state.previousItem,ne=_e&&$.state.selectedStyle||H&&$.state.prevStyle||$.state.slideStyle||{};$.props.centerMode&&$.props.axis==="horizontal"&&(ne=A(A({},ne),{},{minWidth:$.props.centerSlidePercentage+"%"})),$.state.swiping&&$.state.swipeMovementStarted&&(ne=A(A({},ne),{},{pointerEvents:"none"}));var fe={ref:function(we){return $.setItemsRef(we,Z)},key:"itemKey"+Z+(F?"clone":""),className:t.default.ITEM(!0,Z===$.state.selectedItem,Z===$.state.previousItem),onClick:$.handleClickItem.bind($,Z,G),style:ne};return n.default.createElement("li",fe,$.props.renderItem(G,{isSelected:Z===$.state.selectedItem,isPrevious:Z===$.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,$=this.props,G=$.showIndicators,Z=$.labels,_e=$.renderIndicator,H=$.children;return G?n.default.createElement("ul",{className:"control-dots"},n.Children.map(H,function(ne,fe){return _e&&_e(F.changeItem(fe),fe===F.state.selectedItem,fe,Z.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var $=this.props.swipeable&&n.Children.count(this.props.children)>1,G=this.props.axis==="horizontal",Z=this.props.showArrows&&n.Children.count(this.props.children)>1,_e=Z&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,H=Z&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ne=this.renderItems(!0),fe=ne.shift(),ce=ne.pop(),we={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Re={};if(G){if(we.onSwipeLeft=this.onSwipeForward,we.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Pe=this.getVariableItemHeight(this.state.selectedItem);Re.height=Pe||"auto"}}else we.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,we.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,we.style=A(A({},we.style),{},{height:this.state.itemSize}),Re.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,_e,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Re},$?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},we,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ce,this.renderItems(),this.props.infiniteLoop&&fe):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(vt){return F.setListRef(vt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ce,this.renderItems(),this.props.infiniteLoop&&fe)),this.props.renderArrowNext(this.onClickNext,H,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),k}(n.default.Component);return sd.default=B,C(B,"displayName","Carousel"),C(B,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:a.noop,onClickThumb:a.noop,onChange:a.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(N,k,J){return n.default.createElement("button",{type:"button","aria-label":J,className:t.default.ARROW_PREV(!k),onClick:N})},renderArrowNext:function(N,k,J){return n.default.createElement("button",{type:"button","aria-label":J,className:t.default.ARROW_NEXT(!k),onClick:N})},renderIndicator:function(N,k,J,F){return n.default.createElement("li",{className:t.default.DOT(k),onClick:N,onKeyDown:N,value:J,key:J,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(J+1)})},renderItem:function(N){return N},renderThumbs:function(N){var k=n.Children.map(N,function(J){var F=J;if(J.type!=="img"&&(F=n.Children.toArray(J.props.children).find(function($){return $.type==="img"})),!!F)return F});return k.filter(function(J){return J}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):k},statusFormatter:a.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),sd}var pN={},mN;function Bee(){return mN||(mN=1),pN}var gN;function jee(){return gN||(gN=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(zee()),t=Bee(),r=i(OU());function i(s){return s&&s.__esModule?s:{default:s}}}(SA)),SA}var Fee=jee();function Hee(){const[n,e]=W.useState({}),[t,r]=W.useState(!1),i=Ms();return W.useEffect(()=>{async function s(){const a=FD(xp(ps,"blogs")),u=await Hv(a),c={};u.forEach(p=>{var _;const m=p.data(),v=(_=m.series)==null?void 0:_.trim();v&&(c[v]||(c[v]=[]),c[v].push({id:p.id,...m}))});const h=Object.fromEntries(Object.entries(c).map(([p,m])=>[p,m.sort((v,_)=>Number(v.part||0)-Number(_.part||0)).slice(0,4)]));e(h),r(!0)}s()},[]),console.log(n),R.jsxs("section",{className:"all-blogs-main",children:[R.jsxs("div",{className:"blogs-title-container",children:[R.jsx("h1",{className:"outfit-font",children:"Blogs"}),R.jsx("div",{className:"line-blogs"})]}),R.jsx(wl,{nav:"singleBlog",title:"Latest"}),R.jsx("div",{style:{height:"100px"}}),R.jsx(wl,{nav:"singleBlog",title:"Trending",trending:!0}),R.jsxs("div",{style:{marginTop:"100px"},className:"title-container",children:[R.jsx("div",{className:"info-container",children:R.jsx("h1",{className:"outfit-font",children:"Series"})}),R.jsx("div",{className:"line-blog"})]}),R.jsx("div",{className:"blogs-series-carousel",children:t&&R.jsx(Fee.Carousel,{showStatus:!1,infiniteLoop:!0,showArrows:!0,swipeable:!1,showThumbs:!1,className:"carousel",children:Object.entries(n).map(([s,a])=>R.jsxs("div",{children:[R.jsx("h2",{className:"series-title",children:s.replace(/\b\w/g,u=>u.toUpperCase())}),R.jsx("div",{className:"series-blogs-grid",children:a.map(u=>R.jsxs("div",{className:"blogs-info-container",onClick:()=>{i(`/singleBlog/${u.id}`),window.scrollTo({top:0})},children:[R.jsx("img",{src:u.imgUrl||articleImg,alt:u.title||"Blog image"}),R.jsx("p",{className:"playfair-thin-font",children:u.subTitle}),R.jsxs("h3",{children:[u.title||"Untitled"," ",u.part?`Part ${u.part}`:""]}),R.jsx("p",{className:"playfair-thin-font silver-text",children:u.author||"Unknown Author"})]},u.id))})]},s))},Object.keys(n).join("-"))})]})}const qee={element:R.jsx(Hee,{})},$ee=a4([{path:"/",element:R.jsx(NG,{}),errorElement:R.jsx(MG,{}),children:[{path:"/",...HG},{path:"/about",...KG},{path:"/singleBlog/:id",...bW},{path:"/login",...TW},{path:"/searchPage/:category",...kee},{path:"/blogs",...qee},{path:"/dashboard",element:R.jsx(nd,{children:R.jsx(NW,{})})},{path:"/createBlog",element:R.jsx(nd,{children:R.jsx(See,{})})},{path:"/editBlog/:id",element:R.jsx(nd,{children:R.jsx(Ree,{})})},{path:"/editDirectory",element:R.jsx(nd,{children:R.jsx(Cee,{})})},{path:"/editCat",element:R.jsx(nd,{children:R.jsx(xee,{})})}]}]);fB.createRoot(document.getElementById("root")).render(R.jsx(W.StrictMode,{children:R.jsx(EW,{children:R.jsx(kG,{children:R.jsx(b4,{router:$ee})})})}));
