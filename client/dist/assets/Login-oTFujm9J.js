import{r as a,u as f,j as s,L as j,e as o}from"./index-BH31ck8G.js";import{D as v,G as b,H as N,I as y,J as E}from"./firebase-DohhskBT.js";import"./react-DJG_os-6.js";import"./gsap-Brfk6Bdo.js";function R(){const[m,u]=a.useState(!1),[r,g]=a.useState(""),[l,h]=a.useState(""),[P,L]=a.useState(""),[S,G]=a.useState(""),[c,t]=a.useState(""),n=f();a.useEffect(()=>{const e=v(o,i=>{i&&(u(!0),setTimeout(()=>{n("/dashboard")},[1e3]))});return()=>e()},[]);const p=async e=>{e.preventDefault();try{await b(o,r,l),n("/dashboard")}catch{t("Incorrect Email/Password")}},x=async()=>{const e=new N,i="urok.dance@gmail.com";try{(await y(o,e)).user.email!==i?(await o.signOut(),t("Access denied: unauthorized Google account.")):(console.log("Google login successful"),n("/dashboard"))}catch(d){console.error(d),t("Google sign-in failed.")}},w=async()=>{if(!r){t("Please enter your email first.");return}try{await E(o,r),alert("Password reset email sent. Check your inbox.")}catch(e){t(e.message)}};return s.jsx(s.Fragment,{children:m?s.jsx(s.Fragment,{children:s.jsx(j,{})}):s.jsx(s.Fragment,{children:s.jsx("section",{className:"display-column charcoal-bg neg-marg",children:s.jsxs("div",{className:"form-container green-bg",children:[s.jsx("p",{className:"title outfit-font",children:"Login"}),s.jsxs("form",{className:"form",onSubmit:p,children:[s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"email",className:"outfit-thin-font",children:"Email"}),s.jsx("input",{type:"text",name:"email",placeholder:"email@email.com",id:"email",value:r,onChange:e=>g(e.target.value)})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"password",className:"outfit-thin-font",children:"Password"}),s.jsx("input",{type:"password",name:"password",id:"password",placeholder:"password",value:l,onChange:e=>h(e.target.value)}),s.jsx("div",{className:"forgot",children:s.jsx("button",{type:"button",className:"forgot-password-btn outfit-font",onClick:w,children:"Forgot Password?"})})]}),s.jsx("button",{type:"submit",className:"sign charcoal-bg",children:"Sign in"}),c&&s.jsx("p",{className:"error-message",children:c})]}),s.jsxs("div",{className:"social-message",children:[s.jsx("div",{className:"line"}),s.jsx("p",{className:"message",children:"Login with Google"}),s.jsx("div",{className:"line"})]}),s.jsx("div",{className:"social-icons",children:s.jsx("button",{type:"button","aria-label":"Log in with Google",className:"icon",onClick:x,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:"w-5 h-5 fill-current",children:s.jsx("path",{d:"M16.318 13.714v5.484h9.078c-0.37 2.354-2.745 6.901-9.078 6.901-5.458 0-9.917-4.521-9.917-10.099s4.458-10.099 9.917-10.099c3.109 0 5.193 1.318 6.38 2.464l4.339-4.182c-2.786-2.599-6.396-4.182-10.719-4.182-8.844 0-16 7.151-16 16s7.156 16 16 16c9.234 0 15.365-6.49 15.365-15.635 0-1.052-0.115-1.854-0.255-2.651z"})})})})]})})})})}export{R as default};
