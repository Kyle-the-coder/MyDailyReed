import{n as d,l as g,t as r,I as m,p as c,u as w,H as n,J as b,K as i,T as f,s as h,B as p}from"./firebase-CdfKHYRN.js";import{d as e}from"./index-BBna1LHx.js";const a=g(),y=c(e,"blogs"),U=async()=>(await d(y)).docs.map(s=>({id:s.id,...s.data()})),k=async t=>{const s=r(e,"blogs",t),o=await w(s);if(!o.exists())throw new Error("Blog not found");return{id:o.id,...o.data()}},D=async t=>{if(!a.currentUser)throw new Error("User not authenticated");return(await h(c(e,"blogs"),{...t,likes:[],comments:[],datePosted:p()})).id},E=async t=>{if(!a.currentUser)throw new Error("Not authenticated");const o=r(e,"blogs",t);return await m(o),{success:!0}},T=async t=>{const s=a.currentUser;if(!s)throw new Error("Not authenticated");const o=r(e,"blogs",t);return await n(o,{likes:i(s.uid)}),{success:!0}},v=async t=>{const s=a.currentUser;if(!s)throw new Error("Not authenticated");const o=r(e,"blogs",t);return await n(o,{likes:b(s.uid)}),{success:!0}},N=async(t,s,o)=>{const u=r(e,"blogs",t),l={name:o,comment:s,date:f.now()};return await n(u,{comments:i(l)}),{success:!0}};export{N as a,U as b,E as d,k as g,T as l,D as p,v as r};
